<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.2">
    <meta name="project" content="Manpages v2.2.0">

    <title>chrony.conf — Manpages v2.2.0</title>
    <link rel="stylesheet" href="dist/html-elixir-ZA3CNPHL.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-XRYTXUVD.js"></script>
    <script src="dist/sidebar_items-B73095D2.js"></script>

      <script src="doc-versions.js"></script>

    <script async src="dist/html-3CAFJ3W7.js"></script>

<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://kaisenlinux.org/manpages/">
        <img src="assets/logo.jpg" alt="Manpages" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
      </a>
      <strong class="sidebar-projectVersion" translate="no">
        v2.2.0
      </strong>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">MANUALS</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>



  <span>chrony.conf</span>
</h1>

<p>CHRONY.CONF(5)                                                                     Configuration Files                                                                     CHRONY.CONF(5)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">configures</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">daemon</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="w"> </span><span class="nc">Other</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="nc">Each</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">placed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">sections</span><span class="w"> </span><span class="n">describe</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">turn</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">case</span><span class="o">-</span><span class="n">sensitive</span><span class="o">.</span><span class="w">
   </span><span class="nc">Generally</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">occur</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">effective</span><span class="o">.</span><span class="w"> </span><span class="nc">Exceptions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">descriptions</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">parsed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w">

   </span><span class="nc">While</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">large</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">few</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">needed</span><span class="o">.</span><span class="w"> </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">EXAMPLES</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">typical</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">scenarios</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="n">lines</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">spaces</span><span class="w"> </span><span class="n">followed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">characters</span><span class="p">:</span><span class="w"> </span><span class="o">!</span><span class="p">,</span><span class="w"> </span><span class="p">;</span><span class="p">,</span><span class="w"> </span><span class="c1">#, %.</span><span class="w">
   </span><span class="nc">Any</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span></code></pre><p>DIRECTIVES
   Time sources</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">server</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="p" data-group-id="3732092917-1">[</span><span class="n">option</span><span class="p" data-group-id="3732092917-1">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">client</span><span class="o">-</span><span class="n">server</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">strictly</span><span class="w"> </span><span class="ss">hierarchical</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">its</span><span class="w">
       </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">influenced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">resolved</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">increasing</span><span class="w"> </span><span class="n">intervals</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">DNS</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">resolved</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">becomes</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="p" data-group-id="3732092917-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="mi">8</span><span class="w">
       </span><span class="n">requests</span><span class="p" data-group-id="3732092917-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">unsynchronised</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="p" data-group-id="3732092917-3">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="p" data-group-id="3732092917-3">)</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="p" data-group-id="3732092917-4">(</span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="3732092917-4">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">replacement</span><span class="w"> </span><span class="n">happens</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">minutes</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">triggered</span><span class="w"> </span><span class="n">manually</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">minpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w">
           </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="3732092917-5">(</span><span class="mi">64</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="3732092917-6">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="3732092917-6">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="p" data-group-id="3732092917-7">(</span><span class="mi">6</span><span class="w"> </span><span class="n">months</span><span class="p" data-group-id="3732092917-7">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="n">shorter</span><span class="w">
           </span><span class="n">than</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="3732092917-8">(</span><span class="mi">64</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-8">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">generally</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">abuse</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">only</span><span class="w">
           </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">milliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w">

       </span><span class="n">maxpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">maxpoll</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w">
           </span><span class="n">should</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="3732092917-9">(</span><span class="mi">512</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-9">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p" data-group-id="3732092917-10">(</span><span class="mi">1024</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-10">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="3732092917-11">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="3732092917-11">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="p" data-group-id="3732092917-12">(</span><span class="mi">6</span><span class="w"> </span><span class="n">months</span><span class="p" data-group-id="3732092917-12">)</span><span class="o">.</span><span class="w">

       </span><span class="n">iburst</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">4</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">sooner</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">switched</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="n">burst</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">by</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">

       </span><span class="n">key</span><span class="w"> </span><span class="nc">ID</span><span class="w">
           </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p" data-group-id="3732092917-13">(</span><span class="nc">MAC</span><span class="p" data-group-id="3732092917-13">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">upset</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">rogue</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">them</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">MAC</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">generated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keyfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p" data-group-id="3732092917-14">(</span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="3732092917-14">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">responses</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">configured</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">possible</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">160</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="p" data-group-id="3732092917-15">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHA256</span><span class="p" data-group-id="3732092917-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">for</span><span class="w">
           </span><span class="n">compatibility</span><span class="o">.</span><span class="w">

       </span><span class="n">nts</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Network</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="3732092917-16">(</span><span class="nc">NTS</span><span class="p" data-group-id="3732092917-16">)</span><span class="w"> </span><span class="n">mechanism</span><span class="o">.</span><span class="w"> </span><span class="nc">Unlike</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k" data-group-id="3732092917-17">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w">
           </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Key</span><span class="w"> </span><span class="nc">Establishment</span><span class="w"> </span><span class="p" data-group-id="3732092917-18">(</span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="p" data-group-id="3732092917-18">)</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Transport</span><span class="w"> </span><span class="nc">Layer</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="3732092917-19">(</span><span class="nc">TLS</span><span class="p" data-group-id="3732092917-19">)</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

       </span><span class="n">certset</span><span class="w"> </span><span class="nc">ID</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w"> </span><span class="nc">Sets</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="n">authorities</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="n">chronyd</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="o">.</span><span class="w"> </span><span class="nc">Long</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">delayed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">delayed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">substantial</span><span class="o">.</span><span class="w">

           </span><span class="nc">For</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">variations</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">scheme</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">beyond</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w">
           </span><span class="n">are</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">corrupted</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useless</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3732092917-20">(</span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">wireless</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">links</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">highly</span><span class="w">
           </span><span class="n">asymmetric</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="n">behind</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">sort</span><span class="p" data-group-id="3732092917-20">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">round</span><span class="w"> </span><span class="n">trip</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w">
           </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="mf">0.3</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mf">0.3</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w">
           </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelayratio</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">above</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">buffered</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w">
           </span><span class="n">measurements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">ratio</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">10.0</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelayquant</span><span class="w"> </span><span class="n">p</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">quantile</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">buffered</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="o">-</span><span class="n">term</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">p</span><span class="o">-</span><span class="n">quantile</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">0.95</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">maxdelayquant</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lowest</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">percent</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w">
           </span><span class="n">delays</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accepted</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">quantile</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">mostly</span><span class="w"> </span><span class="n">static</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">possibly</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">favour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">test</span><span class="o">.</span><span class="w">

       </span><span class="n">mindelay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">static</span><span class="w">
           </span><span class="n">configuration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">asymmetric</span><span class="w"> </span><span class="n">jitter</span><span class="p">,</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelayratio</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">tests</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">value</span><span class="w">
           </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">accurately</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">according</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">asymmetry</span><span class="w">
           </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">+</span><span class="mf">0.5</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">back</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w">
           </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">estimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="n">offset</span><span class="w"> </span><span class="n">offset</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="p" data-group-id="3732092917-21">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-21">)</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">asymmetry</span><span class="w">
           </span><span class="ow">in</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">errors</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">delayed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">microseconds</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w">
           </span><span class="n">back</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00005</span><span class="w"> </span><span class="p" data-group-id="3732092917-22">(</span><span class="o">-</span><span class="mi">50</span><span class="w"> </span><span class="n">microseconds</span><span class="p" data-group-id="3732092917-22">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.0</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">filter</span><span class="w"> </span><span class="n">polls</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">collected</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">polls</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w">
           </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">traffic</span><span class="o">.</span><span class="w">

       </span><span class="n">offline</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k" data-group-id="3732092917-23">do</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="p" data-group-id="3732092917-24">(</span><span class="n">by</span><span class="w">
           </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="3732092917-24">)</span><span class="o">.</span><span class="w">

       </span><span class="n">auto_offline</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">gone</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">route</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">avoids</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">disconnecting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3732092917-25">(</span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">established</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">enable</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="p" data-group-id="3732092917-25">)</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">Prefer</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">noselect</span><span class="w">
           </span><span class="nc">Never</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="o">.</span><span class="w">

       </span><span class="n">trust</span><span class="w">
           </span><span class="nc">Assume</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="no">true</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Require</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="3732092917-26">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="p" data-group-id="3732092917-26">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">updating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Together</span><span class="w"> </span><span class="k">with</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">safely</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="n">xleave</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="3732092917-27">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamps</span><span class="p" data-group-id="3732092917-27">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w">
           </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">measurements</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">mode</span><span class="w">
           </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">dropped</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="p" data-group-id="3732092917-28">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">clientloglimit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w">
           </span><span class="n">small</span><span class="p" data-group-id="3732092917-28">)</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overwritten</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="3732092917-29">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">behind</span><span class="w"> </span><span class="nc">NAT</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">someone</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">spoofed</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">address</span><span class="p" data-group-id="3732092917-29">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">shorten</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="n">polltarget</span><span class="w"> </span><span class="n">target</span><span class="w">
           </span><span class="nc">Target</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">maintain</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">adjusting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxpoll</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w">
           </span><span class="n">higher</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">60</span><span class="o">.</span><span class="w">

       </span><span class="n">port</span><span class="w"> </span><span class="n">port</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">understands</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="p" data-group-id="3732092917-30">(</span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="3732092917-30">)</span><span class="o">.</span><span class="w">

       </span><span class="n">ntsport</span><span class="w"> </span><span class="n">port</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4460</span><span class="o">.</span><span class="w">

       </span><span class="n">presend</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">passing</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">computers</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">badly</span><span class="w"> </span><span class="n">skewed</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">either</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k" data-group-id="3732092917-31">do</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ARP</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">party</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">transmitting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">packet</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">intervals</span><span class="p">,</span><span class="w">
           </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lifetime</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ARP</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">machines</span><span class="o">.</span><span class="w">

           </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">problem</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">argument</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
           </span><span class="n">packets</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">exchanged</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w">

               </span><span class="n">presend</span><span class="w"> </span><span class="mi">9</span><span class="w">

           </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="3732092917-32">(</span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-32">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="o">.</span><span class="w">

       </span><span class="n">minstratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">slightly</span><span class="w"> </span><span class="n">preferred</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w">
           </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">minimum</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">selecting</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">low</span><span class="o">-</span><span class="n">stratum</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="ow">or</span><span class="w">
           </span><span class="n">inaccurate</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unreachable</span><span class="o">.</span><span class="w">

       </span><span class="n">version</span><span class="w"> </span><span class="n">version</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">using</span><span class="w">
           </span><span class="n">a</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">version</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extfield</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">160</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="p" data-group-id="3732092917-33">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHA256</span><span class="p" data-group-id="3732092917-33">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compatibility</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">chronyd</span><span class="w">
           </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">cases</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w">

       </span><span class="n">copy</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">closely</span><span class="w"> </span><span class="n">related</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">them</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">assume</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="p" data-group-id="3732092917-34">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="ow">or</span><span class="w">
           </span><span class="n">performance</span><span class="w"> </span><span class="n">reasons</span><span class="p" data-group-id="3732092917-34">)</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">primarily</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="k">for</span><span class="w">
           </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">instance</span><span class="o">.</span><span class="w">

       </span><span class="n">extfield</span><span class="w"> </span><span class="n">type</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTPv4</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">received</span><span class="w">
           </span><span class="n">responses</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">implementations</span><span class="w"> </span><span class="k" data-group-id="3732092917-35">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="p" data-group-id="3732092917-36">(</span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">responded</span><span class="w">
           </span><span class="n">to</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">2.0</span><span class="p" data-group-id="3732092917-36">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="ss">option</span><span class="p">:</span><span class="w">

           </span><span class="nc">F323</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">experimental</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">improvements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="p" data-group-id="3732092917-37">(</span><span class="nc">NTPv5</span><span class="p" data-group-id="3732092917-37">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w">
               </span><span class="n">dispersion</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">higher</span><span class="w"> </span><span class="n">resolution</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">monotonic</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w">
               </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronization</span><span class="o">.</span><span class="w"> </span><span class="nc">Generally</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w">

   </span><span class="n">pool</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p" data-group-id="3732092917-38">[</span><span class="n">option</span><span class="p" data-group-id="3732092917-38">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pool</span><span class="w">
       </span><span class="n">name</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resolve</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">pools</span><span class="o">.</span><span class="w">

       </span><span class="nc">All</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">too</span><span class="o">.</span><span class="w"> </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w">

       </span><span class="n">maxsources</span><span class="w"> </span><span class="n">sources</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">repeatedly</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resolve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">responding</span><span class="w">
           </span><span class="n">to</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w">

           </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w">

               </span><span class="n">pool</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">maxsources</span><span class="w"> </span><span class="mi">3</span><span class="w">

   </span><span class="n">peer</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="p" data-group-id="3732092917-39">[</span><span class="n">option</span><span class="p" data-group-id="3732092917-39">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w">
       </span><span class="n">association</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">mainly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">implementation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="p" data-group-id="3732092917-40">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">ntpd</span><span class="p" data-group-id="3732092917-40">)</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">ephemeral</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">associations</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w">
       </span><span class="n">ephemeral</span><span class="w"> </span><span class="n">associations</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k" data-group-id="3732092917-41">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w"> </span><span class="n">iburst</span><span class="p">,</span><span class="w"> </span><span class="n">burst</span><span class="p">,</span><span class="w"> </span><span class="n">nts</span><span class="p">,</span><span class="w"> </span><span class="n">presend</span><span class="p">,</span><span class="w"> </span><span class="n">copy</span><span class="o">.</span><span class="w">

       </span><span class="nc">When</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">direction</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">authentication</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">secure</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">denial</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">service</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">associations</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w">
       </span><span class="n">was</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">hosts</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">peering</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">send</span><span class="w">
       </span><span class="n">them</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">spoofed</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disrupt</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">synchronising</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">authenticated</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">reaching</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">disrupt</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">replaying</span><span class="w"> </span><span class="n">old</span><span class="w">
       </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span><span class="w"> </span><span class="n">attacker</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="n">protection</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyd</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">protect</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">future</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">relied</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">difficult</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">met</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">directions</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w">
       </span><span class="n">associations</span><span class="w"> </span><span class="p" data-group-id="3732092917-42">(</span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">hosts</span><span class="p" data-group-id="3732092917-42">)</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

   </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">step</span><span class="o">-</span><span class="n">threshold</span><span class="w"> </span><span class="p" data-group-id="3732092917-43">[</span><span class="n">hostname</span><span class="p" data-group-id="3732092917-43">]</span><span class="n">...</span><span class="w">
       </span><span class="p" data-group-id="3732092917-44">(</span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deprecated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">favour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="p" data-group-id="3732092917-44">)</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">purpose</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">rapid</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">stepping</span><span class="w">
       </span><span class="n">before</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">begins</span><span class="o">.</span><span class="w"> </span><span class="nc">Since</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">sequence</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">adversely</span><span class="w">
       </span><span class="n">affected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">step</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">threshold</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">safer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">restart</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">arguments</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rapidly</span><span class="w"> </span><span class="n">polled</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">voting</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="n">used</span><span class="w">
       </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">enters</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">normal</span><span class="w">
       </span><span class="n">operating</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">

       </span><span class="n">where</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">less</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">it</span><span class="p">;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">isolated</span><span class="w"> </span><span class="nc">LAN</span><span class="w"> </span><span class="n">environment</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">manually</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">references</span><span class="w">
       </span><span class="n">some</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">Then</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">relied</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">analogously</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">flywheel</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">preserve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">short</span><span class="w">
       </span><span class="n">period</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">completes</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reboot</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">functionally</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w">
       </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">begins</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">foreground</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">finish</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">exiting</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">programs</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="k" data-group-id="3732092917-41">after</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">stepped</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">waitsync</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

   </span><span class="n">refclock</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">parameter</span><span class="p" data-group-id="3732092917-45">[</span><span class="ss">:option</span><span class="p" data-group-id="3732092917-45">]</span><span class="n">...</span><span class="w"> </span><span class="p" data-group-id="3732092917-46">[</span><span class="n">option</span><span class="p" data-group-id="3732092917-46">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">mandatory</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">driver</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">parameter</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">two</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">followed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w"> </span><span class="nc">Some</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">appended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">character</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="ss">chronyd</span><span class="p">:</span><span class="w">

       </span><span class="nc">PPS</span><span class="w">
           </span><span class="nc">Driver</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="p" data-group-id="3732092917-47">(</span><span class="n">pulse</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="3732092917-47">)</span><span class="w"> </span><span class="nc">API</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="p" data-group-id="3732092917-48">(</span><span class="n">typically</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps?</span><span class="p" data-group-id="3732092917-48">)</span><span class="o">.</span><span class="w"> </span><span class="nc">As</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclocks</span><span class="w"> </span><span class="k" data-group-id="3732092917-49">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supply</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">another</span><span class="w">
           </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="3732092917-50">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="p" data-group-id="3732092917-50">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w">
           </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">option</span><span class="p">:</span><span class="w">

           </span><span class="n">clear</span><span class="w">
               </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="3732092917-51">(</span><span class="n">rising</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="3732092917-51">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="3732092917-52">(</span><span class="n">falling</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="3732092917-52">)</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps0</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="nc">NMEA</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">NMEA</span><span class="w"> </span><span class="n">noselect</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps1</span><span class="ss">:clear</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS2</span><span class="w">

       </span><span class="nc">SHM</span><span class="w">
           </span><span class="nc">NTP</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="p" data-group-id="3732092917-53">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">gpsd</span><span class="p" data-group-id="3732092917-53">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w">
           </span><span class="n">segment</span><span class="p">,</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">option</span><span class="p">:</span><span class="w">

           </span><span class="n">perm</span><span class="o">=</span><span class="n">mode</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">numeric</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0600</span><span class="w"> </span><span class="p" data-group-id="3732092917-54">(</span><span class="n">read</span><span class="o">-</span><span class="n">write</span><span class="w">
               </span><span class="n">access</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">only</span><span class="p" data-group-id="3732092917-54">)</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS1</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">1</span><span class="ss">:perm</span><span class="o">=</span><span class="mi">0644</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS2</span><span class="w">

       </span><span class="nc">SOCK</span><span class="w">
           </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w">
           </span><span class="n">format</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">creates</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">advantage</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="k">receive</span><span class="w">
           </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">incomplete</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock_sock</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chrony</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">code</span><span class="o">.</span><span class="w">

           </span><span class="nc">An</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gpsd</span><span class="w"> </span><span class="n">daemon</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">gpsd</span><span class="w"> </span><span class="n">expects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gpsd</span><span class="p" data-group-id="3732092917-55">(</span><span class="mi">8</span><span class="p" data-group-id="3732092917-55">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w">
           </span><span class="ss">example</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">ttyS0</span><span class="o">.</span><span class="n">sock</span><span class="w">

       </span><span class="nc">PHC</span><span class="w">
           </span><span class="nc">PTP</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="3732092917-56">(</span><span class="nc">PHC</span><span class="p" data-group-id="3732092917-56">)</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="nc">UTC</span><span class="w"> </span><span class="p" data-group-id="3732092917-57">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="3732092917-57">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">UTC</span><span class="o">-</span><span class="nc">TAI</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pps</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">enabled</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">treat</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

           </span><span class="n">nocrossts</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">precise</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">

           </span><span class="n">extpps</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w">
               </span><span class="n">synchronised</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="p">,</span><span class="w">
               </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w">

           </span><span class="n">pin</span><span class="o">=</span><span class="n">index</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pin</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">configurable</span><span class="w"> </span><span class="n">pins</span><span class="w"> </span><span class="p" data-group-id="3732092917-58">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">is</span><span class="w">
               </span><span class="n">fixed</span><span class="p" data-group-id="3732092917-58">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pin</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

           </span><span class="n">channel</span><span class="o">=</span><span class="n">index</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

           </span><span class="n">clear</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="3732092917-59">(</span><span class="n">falling</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="3732092917-59">)</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="3732092917-60">(</span><span class="n">rising</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="3732092917-60">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp0</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">dpoll</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">-</span><span class="mi">37</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp1</span><span class="ss">:nocrossts</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">pps</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp2</span><span class="ss">:extpps</span><span class="ss">:pin</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">2</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">poll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">Timestamps</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">immediately</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p" data-group-id="3732092917-61">(</span><span class="mi">16</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-61">)</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">react</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">jitter</span><span class="o">.</span><span class="w">

       </span><span class="n">dpoll</span><span class="w"> </span><span class="n">dpoll</span><span class="w">
           </span><span class="nc">Some</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="k" data-group-id="3732092917-62">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="3732092917-63">(</span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="3732092917-63">)</span><span class="o">.</span><span class="w">

       </span><span class="n">refid</span><span class="w"> </span><span class="n">refid</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="nc">ASCII</span><span class="w"> </span><span class="n">characters</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">composed</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">

       </span><span class="n">lock</span><span class="w"> </span><span class="n">refid</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">paired</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">raw</span><span class="w">
           </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">rate</span><span class="w"> </span><span class="n">rate</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="p" data-group-id="3732092917-64">(</span><span class="ow">in</span><span class="w"> </span><span class="nc">Hz</span><span class="p" data-group-id="3732092917-64">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w">
           </span><span class="n">pulse</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">dpoll</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="p" data-group-id="3732092917-65">(</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="nc">Hz</span><span class="w"> </span><span class="n">signal</span><span class="p" data-group-id="3732092917-65">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="n">maxlockage</span><span class="w"> </span><span class="n">pulses</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">paired</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="o">.</span><span class="w"> </span><span class="nc">Increasing</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w">

       </span><span class="n">width</span><span class="w"> </span><span class="n">width</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="p" data-group-id="3732092917-66">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-66">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">rising</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">falling</span><span class="w"> </span><span class="n">edges</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w">
           </span><span class="n">it</span><span class="w"> </span><span class="n">reduces</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">completes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">duty</span><span class="w"> </span><span class="n">cycle</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configurable</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">%</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">preferred</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">maximise</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w">

       </span><span class="n">pps</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">forces</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">treat</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="p" data-group-id="3732092917-67">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">PHC</span><span class="p" data-group-id="3732092917-67">)</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">whole</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p" data-group-id="3732092917-68">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="3732092917-68">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Another</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">offset</span><span class="w"> </span><span class="n">offset</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p" data-group-id="3732092917-69">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-69">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="mf">0.0</span><span class="o">.</span><span class="w">

       </span><span class="n">delay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="3732092917-70">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-70">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Half</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w">
           </span><span class="nc">Increasing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="3732092917-71">(</span><span class="mi">1</span><span class="w"> </span><span class="n">nanosecond</span><span class="p" data-group-id="3732092917-71">)</span><span class="o">.</span><span class="w">

       </span><span class="n">stratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">precision</span><span class="w"> </span><span class="n">precision</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="3732092917-72">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-72">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdispersion</span><span class="w"> </span><span class="n">dispersion</span><span class="w">
           </span><span class="nc">Maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="p" data-group-id="3732092917-73">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-73">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Samples</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w">

       </span><span class="n">filter</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="n">percent</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w">
           </span><span class="n">discarded</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">collected</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">polls</span><span class="o">.</span><span class="w">
           </span><span class="nc">For</span><span class="w"> </span><span class="n">lengths</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">full</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">Prefer</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">noselect</span><span class="w">
           </span><span class="nc">Never</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">accurate</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">trust</span><span class="w">
           </span><span class="nc">Assume</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="no">true</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Require</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="3732092917-74">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="p" data-group-id="3732092917-74">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">updating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Together</span><span class="w"> </span><span class="k">with</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">precise</span><span class="p">,</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">safely</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="n">tai</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">TAI</span><span class="o">-</span><span class="nc">UTC</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">leapsectz</span><span class="w">
           </span><span class="n">directive</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">expected</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sense</span><span class="w"> </span><span class="k">with</span><span class="w">
           </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclocks</span><span class="o">.</span><span class="w">

       </span><span class="n">local</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">unsynchronised</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="3732092917-75">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">TCXO</span><span class="p">,</span><span class="w"> </span><span class="nc">OCXO</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">atomic</span><span class="w"> </span><span class="n">clock</span><span class="p" data-group-id="3732092917-75">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">stabilise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bypass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="w"> </span><span class="nc">There</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">and</span><span class="w">
           </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shortest</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">manual</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w">
       </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">met</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">message</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3732092917-76">(</span><span class="nc">The</span><span class="w"> </span><span class="n">idea</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w">
       </span><span class="n">clock</span><span class="w"> </span><span class="n">driver</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">behaviour</span><span class="p">,</span><span class="w"> </span><span class="n">whereas</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">manually</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">provided</span><span class="o">.</span><span class="p" data-group-id="3732092917-76">)</span><span class="w">

   </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">opens</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="p" data-group-id="3732092917-77">(</span><span class="n">per</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">family</span><span class="p" data-group-id="3732092917-77">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">getting</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">firewalls</span><span class="o">.</span><span class="w">
       </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permanent</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">by</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="3732092917-78">(</span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="3732092917-78">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">acquisitionport</span><span class="w"> </span><span class="mi">1123</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">1123</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">persuade</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">administrator</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">

   </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">sockets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

   </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">dynamic</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w">
       </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">link</span><span class="o">-</span><span class="n">local</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">dscp</span><span class="w"> </span><span class="n">point</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">dscp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Differentiated</span><span class="w"> </span><span class="nc">Services</span><span class="w"> </span><span class="nc">Code</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p" data-group-id="3732092917-79">(</span><span class="nc">DSCP</span><span class="p" data-group-id="3732092917-79">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w">
       </span><span class="n">networks</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">switches</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">routers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prioritise</span><span class="w"> </span><span class="n">forwarding</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="nc">DSCP</span><span class="w"> </span><span class="n">values</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">63</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="p" data-group-id="3732092917-80">(</span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Expedited</span><span class="w"> </span><span class="nc">Forwarding</span><span class="w"> </span><span class="n">class</span><span class="p" data-group-id="3732092917-80">)</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">dscp</span><span class="w"> </span><span class="mi">46</span><span class="w">

   </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">To</span><span class="w"> </span><span class="n">compute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">uses</span><span class="o">.</span><span class="w">

       </span><span class="nc">All</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.12</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">earlier</span><span class="p">,</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">errors</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3732092917-81">(</span><span class="nc">On</span><span class="w">
       </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.12</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">earlier</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">simulate</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">capability</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">forwards</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">backwards</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">error</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">slew</span><span class="o">.</span><span class="p" data-group-id="3732092917-81">)</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="n">restarts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="p" data-group-id="3732092917-82">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w">
       </span><span class="n">running</span><span class="p" data-group-id="3732092917-82">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">exits</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k" data-group-id="3732092917-62">after</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">dumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">whose</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="o">.</span><span class="n">dat</span><span class="o">.</span><span class="w"> </span><span class="nc">History</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">by</span><span class="w">
       </span><span class="n">their</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">refid</span><span class="nc">:XXXXXXXX</span><span class="o">.</span><span class="n">dat</span><span class="o">.</span><span class="w">

   </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configurable</span><span class="w"> </span><span class="n">limit</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w">

       </span><span class="nc">As</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w">
       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="nc">Q</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w">

       </span><span class="nc">Forcing</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">reduces</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">slows</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sourcestats</span><span class="w"> </span><span class="n">reports</span><span class="w"> </span><span class="p" data-group-id="3732092917-83">(</span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">statistics</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="p" data-group-id="3732092917-83">)</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">offsets</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="n">again</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">separately</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="3732092917-84">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="o">.</span><span class="n">nts</span><span class="p" data-group-id="3732092917-84">)</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">cookies</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsrefresh</span><span class="w"> </span><span class="n">interval</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">handshakes</span><span class="w"> </span><span class="p" data-group-id="3732092917-85">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="3732092917-85">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">authenticating</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2419200</span><span class="w"> </span><span class="p" data-group-id="3732092917-86">(</span><span class="mi">4</span><span class="w">
       </span><span class="n">weeks</span><span class="p" data-group-id="3732092917-86">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="3732092917-87">(</span><span class="mi">68</span><span class="w"> </span><span class="n">years</span><span class="p" data-group-id="3732092917-87">)</span><span class="o">.</span><span class="w">

   </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="p" data-group-id="3732092917-88">[</span><span class="n">set</span><span class="o">-</span><span class="nc">ID</span><span class="p" data-group-id="3732092917-88">]</span><span class="w"> </span><span class="n">file</span><span class="o">|</span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="p" data-group-id="3732092917-89">(</span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PEM</span><span class="w"> </span><span class="n">format</span><span class="p" data-group-id="3732092917-89">)</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="n">authorities</span><span class="w"> </span><span class="p" data-group-id="3732092917-90">(</span><span class="nc">CA</span><span class="p" data-group-id="3732092917-90">)</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="nc">NTS</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">set</span><span class="o">-</span><span class="nc">ID</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">are</span><span class="w">
       </span><span class="n">added</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="nc">CAs</span><span class="w"> </span><span class="p" data-group-id="3732092917-91">(</span><span class="k">unless</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nosystemcert</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="p" data-group-id="3732092917-91">)</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w">
       </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">verification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">certset</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">directories</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">restart</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="p" data-group-id="3732092917-92">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">renewal</span><span class="p" data-group-id="3732092917-92">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">bar</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">baz</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">qux</span><span class="o">.</span><span class="n">crt</span><span class="w">

   </span><span class="n">nosystemcert</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="nc">CAs</span><span class="o">.</span><span class="w"> </span><span class="nc">Only</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">trusted</span><span class="o">.</span><span class="w">

   </span><span class="n">nocerttimecheck</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">activation</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">expiration</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">updates</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">authentication</span><span class="w">
       </span><span class="n">mechanism</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="3732092917-93">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">backup</span><span class="w"> </span><span class="n">battery</span><span class="p" data-group-id="3732092917-93">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Disabling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">implications</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">resort</span><span class="p">,</span><span class="w"> </span><span class="n">preferably</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">minimal</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">nocerttimecheck</span><span class="w"> </span><span class="mi">1</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">corrects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">time</span><span class="o">.</span></code></pre><p>   Source selection</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">authselectmode</span><span class="w"> </span><span class="n">mode</span><span class="w">
       </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span><span class="w"> </span><span class="n">attacks</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attackers</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w">
       </span><span class="p" data-group-id="9528292928-1">(</span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">limits</span><span class="p" data-group-id="9528292928-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">step</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">cause</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slower</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="9528292928-2">(</span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdrift</span><span class="w"> </span><span class="n">limit</span><span class="p" data-group-id="9528292928-2">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">When</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">exploited</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">attack</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w">
       </span><span class="n">reachable</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w">
       </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">higher</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">attackers</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">arbitrarily</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slew</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="no">false</span><span class="w"> </span><span class="n">information</span><span class="p">,</span><span class="w">
       </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">dispersion</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">determines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">simplify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">chronyc</span><span class="w"> </span><span class="n">commands</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="o">.</span><span class="w">

       </span><span class="nc">Sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="p" data-group-id="9528292928-3">(</span><span class="ow">not</span><span class="w"> </span><span class="n">counted</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">unauthenticated</span><span class="p" data-group-id="9528292928-3">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="ss">modes</span><span class="p">:</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">strictly</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">prevent</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">preferred</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">mix</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w">
           </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="k" data-group-id="9528292928-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="n">ignore</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w">
           </span><span class="n">chronyc</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="mf">4.0</span><span class="o">.</span><span class="w">

       </span><span class="nc">As</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="ss">mode</span><span class="p">:</span><span class="w">

           </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
           </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">0</span><span class="w">

       </span><span class="n">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ignore</span><span class="w"> </span><span class="ss">mode</span><span class="p">:</span><span class="w">

           </span><span class="n">authselectmode</span><span class="w"> </span><span class="n">ignore</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
           </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">

   </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">When</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">frequencies</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w">
       </span><span class="n">clock</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combining</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="nc">Their</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="n">multiplied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">frequencies</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">specified</span><span class="w">
       </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">combining</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w">
       </span><span class="n">distance</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">estimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="9528292928-5">(</span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="9528292928-5">)</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="n">on</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

       </span><span class="nc">Setting</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">infrequent</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">accumulate</span><span class="w"> </span><span class="n">a</span><span class="w">
       </span><span class="n">large</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">jitter</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w">
       </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

   </span><span class="n">minsources</span><span class="w"> </span><span class="n">sources</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">minsources</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="nc">Setting</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reliability</span><span class="o">.</span><span class="w"> </span><span class="nc">More</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="9528292928-6">(</span><span class="n">which</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">serving</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="9528292928-6">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reachable</span><span class="o">.</span><span class="w">

   </span><span class="n">reselectdist</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">When</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shortest</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">frequent</span><span class="w">
       </span><span class="n">reselecting</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">distance</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">selected</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">reselectdist</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">microseconds</span><span class="o">.</span><span class="w">

   </span><span class="n">stratumweight</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">stratumweight</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w">
       </span><span class="n">sources</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">weight</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.001</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">matters</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">differences</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distances</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">milliseconds</span><span class="o">.</span></code></pre><p>   System clock</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">clockprecision</span><span class="w"> </span><span class="n">precision</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">clockprecision</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="6622804562-1">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6622804562-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">randomise</span><span class="w">
       </span><span class="n">low</span><span class="o">-</span><span class="n">order</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">responses</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">works</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">generally</span><span class="w"> </span><span class="n">overestimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sensitive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">speed</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w">
       </span><span class="n">power</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="n">precision</span><span class="w"> </span><span class="n">clocksource</span><span class="w"> </span><span class="p" data-group-id="6622804562-2">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Stamp</span><span class="w"> </span><span class="nc">Counter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="p" data-group-id="6622804562-2">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">smaller</span><span class="w">
       </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="sc">&#39; NTP measurements. The server’s precision is reported on clients by the ntpdata command.

       An example setting the precision to 8 nanoseconds is:

           clockprecision 8e-9

   corrtimeratio ratio
       When chronyd is slewing the system clock to correct an offset, the rate at which it is slewing adds to the frequency error of the clock. On all supported systems, with the
       exception of macOS 12 and earlier, this rate can be controlled.

       The corrtimeratio directive sets the ratio between the duration in which the clock is slewed for an average correction according to the source history and the interval in
       which the corrections are done (usually the NTP polling interval). Corrections larger than the average take less time and smaller corrections take more time, the amount of
       the correction and the correction time are inversely proportional.

       Increasing corrtimeratio improves the overall frequency error of the system clock, but increases the overall time error as the corrections take longer.

       By default, the ratio is set to 3, the time accuracy of the clock is preferred over its frequency accuracy.

       The maximum allowed slew rate can be set by the maxslewrate directive. The current remaining correction is shown in the tracking report as the System time value.

   driftfile file
       One of the main activities of the chronyd program is to work out the rate at which the system clock gains or loses time relative to real time.

       Whenever chronyd computes a new value of the gain or loss rate, it is desirable to record it somewhere. This allows chronyd to begin compensating the system clock at that
       rate whenever it is restarted, even before it has had a chance to obtain an equally good estimate of the rate during the new run. (This process can take many minutes, at
       least.)

       The driftfile directive allows a file to be specified into which chronyd can store the rate information. Two parameters are recorded in the file. The first is the rate at
       which the system clock gains or loses time, expressed in parts per million, with gains positive. Therefore, a value of 100.0 indicates that when the system clock has advanced
       by a second, it has gained 100 microseconds in reality (so the true time has only advanced by 999900 microseconds). The second is an estimate of the error bound around the
       first value in which the true rate actually lies.

       An example of the driftfile directive is:

           driftfile /var/lib/chrony/drift

   fallbackdrift min-interval max-interval
       Fallback drifts are long-term averages of the system clock drift calculated over exponentially increasing intervals. They are used to avoid quickly drifting away from true
       time when the clock was not updated for a longer period of time and there was a short-term deviation in the drift before the updates stopped.

       The directive specifies the minimum and maximum interval since the last clock update to switch between fallback drifts. They are defined as a power of 2 (in seconds). The
       syntax is as follows:

           fallbackdrift 16 19

       In this example, the minimum interval is 16 (18 hours) and the maximum interval is 19 (6 days). The system clock frequency will be set to the first fallback 18 hours after
       last clock update, to the second after 36 hours, and so on. This might be a good setting to cover frequency changes due to daily and weekly temperature fluctuations. When the
       frequency is set to a fallback, the state of the clock will change to ‘Not synchronised’.

       By default (or if the specified maximum or minimum is 0), no fallbacks are used and the clock frequency changes only with new measurements from NTP sources, reference clocks,
       or manual input.

   leapsecmode mode
       A leap second is an adjustment that is occasionally applied to UTC to keep it close to the mean solar time. When a leap second is inserted, the last day of June or December
       has an extra second 23:59:60.

       For computer clocks that is a problem. The Unix time is defined as number of seconds since 00:00:00 UTC on 1 January 1970 without leap seconds. The system clock cannot have
       time 23:59:60, every minute has 60 seconds and every day has 86400 seconds by definition. The inserted leap second is skipped and the clock is suddenly ahead of UTC by one
       second. The leapsecmode directive selects how that error is corrected. There are four options:

       system
           When inserting a leap second, the kernel steps the system clock backwards by one second when the clock gets to 00:00:00 UTC. When deleting a leap second, it steps forward
           by one second when the clock gets to 23:59:59 UTC. This is the default mode when the system driver supports leap seconds (i.e. all supported systems with the exception of
           macOS 12 and earlier).

       step
           This is similar to the system mode, except the clock is stepped by chronyd instead of the kernel. It can be useful to avoid bugs in the kernel code that would be executed
           in the system mode. This is the default mode when the system driver does not support leap seconds.

       slew
           The clock is corrected by slewing started at 00:00:00 UTC when a leap second is inserted or 23:59:59 UTC when a leap second is deleted. This might be preferred over the
           system and step modes when applications running on the system are sensitive to jumps in the system time and it is acceptable that the clock will be off for a longer time.
           On Linux with the default maxslewrate value the correction takes 12 seconds.

       ignore
           No correction is applied to the clock for the leap second. The clock will be corrected later in normal operation when new measurements are made and the estimated offset
           includes the one second error. This option is particularly useful when multiple chronyd instances are running on the system, one controlling the system clock and others
           started with the -x option, which should rely on the first instance to correct the system clock and ignore it for the correction of their own NTP clock running on top of
           the system clock.

       When serving time to NTP clients that cannot be configured to correct their clocks for a leap second by slewing, or to clients that would correct at slightly different rates
       when it is necessary to keep them close together, the slew mode can be combined with the smoothtime directive to enable a server leap smear.

       When smearing a leap second, the leap status is suppressed on the server and the served time is corrected slowly by slewing instead of stepping. The clients do not need any
       special configuration as they do not know there is any leap second and they follow the server time which eventually brings them back to UTC. Care must be taken to ensure they
       use only NTP servers which smear the leap second in exactly the same way for synchronisation.

       This feature must be used carefully, because the server is intentionally not serving its best estimate of the true time.

       A recommended configuration to enable a server leap smear is:

           leapsecmode slew
           maxslewrate 1000
           smoothtime 400 0.001024 leaponly

       The first directive is necessary to disable the clock step which would reset the smoothing process. The second directive limits the slewing rate of the local clock to 1000
       ppm, which improves the stability of the smoothing process when the local correction starts and ends. The third directive enables the server time smoothing process. It will
       start when the clock gets to 00:00:00 UTC and it will take 62500 seconds (about 17.36 hours) to finish. The frequency offset will be changing by 0.001024 ppm per second and
       will reach a maximum of 32 ppm in 31250 seconds. The leaponly option makes the duration of the leap smear constant and allows the clients to safely synchronise with multiple
       identically configured leap smearing servers.

       The duration of the leap smear can be calculated from the specified wander as

           duration = sqrt(4 / wander)

   leapsectz timezone
       This directive specifies a timezone in the system timezone database which chronyd can use to determine when will the next leap second occur and what is the current offset
       between TAI and UTC. It will periodically check if 23:59:59 and 23:59:60 are valid times in the timezone. This normally works with the right/UTC timezone.

       When a leap second is announced, the timezone needs to be updated at least 12 hours before the leap second. It is not necessary to restart chronyd.

       This directive is useful with reference clocks and other time sources which do not announce leap seconds, or announce them too late for an NTP server to forward them to its
       own clients. Clients of leap smearing servers must not use this directive.

       It is also useful when the system clock is required to have correct TAI-UTC offset. Note that the offset is set only when leap seconds are handled by the kernel, i.e.
       leapsecmode is set to system.

       The specified timezone is not used as an exclusive source of information about leap seconds. If a majority of time sources announce on the last day of June or December that a
       leap second should be inserted or deleted, it will be accepted even if it is not included in the timezone.

       An example of the directive is:

           leapsectz right/UTC

       The following shell command verifies that the timezone contains leap seconds and can be used with this directive:

           $ TZ=right/UTC date -d &#39;</span><span class="nc">Dec</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="mi">2008</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">60</span><span class="sc">&#39;
           Wed Dec 31 23:59:60 UTC 2008

   makestep threshold limit
       Normally chronyd will cause the system to gradually correct any time offset, by slowing down or speeding up the clock as required. In certain situations, e.g. when chronyd is
       initially started, the system clock might be so far adrift that this slewing process would take a very long time to correct the system clock.

       This directive forces chronyd to step the system clock if the adjustment is larger than a threshold value, but only if there were no more clock updates since chronyd was
       started than the specified limit. A negative value disables the limit.

       On most systems it is desirable to step the system clock only on boot, before starting programs that rely on time advancing monotonically forwards.

       An example of the use of this directive is:

           makestep 0.1 3

       This would step the system clock if the adjustment is larger than 0.1 seconds, but only in the first three clock updates.

   maxchange offset start ignore
       This directive sets the maximum offset to be accepted on a clock update. The offset is measured relative to the current estimate of the true time, which is different from the
       system time if a previous slew did not finish.

       The check is enabled after the specified number of clock updates to allow a large initial offset to be corrected on start. Offsets larger than the specified maximum will be
       ignored for the specified number of times. Another large offset will cause chronyd to give up and exit. A negative value can be used to disable the limit to ignore all large
       offsets. A syslog message will be generated when an offset is ignored or it causes the exit.

       An example of the use of this directive is:

           maxchange 1000 1 2

       After the first clock update, chronyd will check the offset on every clock update, it will ignore two adjustments larger than 1000 seconds and exit on another one.

   maxclockerror error-in-ppm
       The maxclockerror directive sets the maximum assumed frequency error that the system clock can gain on its own between clock updates. It describes the stability of the clock.

       By default, the maximum error is 1 ppm.

       Typical values for error-in-ppm might be 10 for a low quality clock and 0.1 for a high quality clock using a temperature compensated crystal oscillator.

   maxdrift drift-in-ppm
       This directive specifies the maximum assumed drift (frequency error) of the system clock. It limits the frequency adjustment that chronyd is allowed to use to correct the
       measured drift. It is an additional limit to the maximum adjustment that can be set by the system driver (100000 ppm on Linux, 500 ppm on FreeBSD, NetBSD, and macOS 10.13+,
       32500 ppm on illumos).

       By default, the maximum assumed drift is 500000 ppm, i.e. the adjustment is limited by the system driver rather than this directive.

   maxupdateskew skew-in-ppm
       One of chronyd&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">addition</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">computes</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="w">
       </span><span class="n">around</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">settled</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="n">yet</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">reliable</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxupdateskew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">determining</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w">

       </span><span class="nc">Typical</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">skew</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">ppm</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">polled</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">wireless</span><span class="w"> </span><span class="n">network</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">wired</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">protection</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="n">estimates</span><span class="o">.</span><span class="w"> </span><span class="nc">At</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w">
       </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bound</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimate</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">weighted</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="n">estimate</span><span class="o">.</span><span class="w"> </span><span class="nc">So</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">highly</span><span class="o">-</span><span class="n">reliable</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">master</span><span class="w">
       </span><span class="n">estimate</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">dominate</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">master</span><span class="w"> </span><span class="n">estimate</span><span class="o">.</span><span class="w">

   </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">rate</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">ppm</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">controlled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="p" data-group-id="6622804562-3">(</span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">corrtimeratio</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="6622804562-3">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="p" data-group-id="6622804562-4">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="n">earlier</span><span class="p" data-group-id="6622804562-4">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100000</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.13</span><span class="o">+</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">illumos</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">32500</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">limitation</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.13</span><span class="o">+</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="n">will</span><span class="w">
       </span><span class="n">effectively</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mf">83333.333</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="p" data-group-id="6622804562-5">(</span><span class="n">one</span><span class="w"> </span><span class="n">twelfth</span><span class="p" data-group-id="6622804562-5">)</span><span class="o">.</span><span class="w">

   </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="nc">T0</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="n">k1</span><span class="w"> </span><span class="n">k2</span><span class="p">,</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">points</span><span class="o">-</span><span class="n">file</span><span class="w">
       </span><span class="nc">Normally</span><span class="p">,</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">mainly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">crystal</span><span class="w"> </span><span class="n">oscillator</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">motherboard</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">oscillator</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">factors</span><span class="p">,</span><span class="w"> </span><span class="n">including</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">resolution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w">
       </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">oscillator</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">well</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="w">
       </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">reached</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">smaller</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">forms</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">six</span><span class="w"> </span><span class="ss">parameters</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p" data-group-id="6622804562-6">(</span><span class="ow">in</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">format</span><span class="p" data-group-id="6622804562-6">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">compensation</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="p" data-group-id="6622804562-7">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6622804562-7">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">coefficients</span><span class="w"> </span><span class="nc">T0</span><span class="p">,</span><span class="w"> </span><span class="n">k0</span><span class="p">,</span><span class="w"> </span><span class="n">k1</span><span class="p">,</span><span class="w"> </span><span class="n">k2</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="p" data-group-id="6622804562-8">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="6622804562-8">)</span><span class="w"> </span><span class="n">as</span><span class="w">

           </span><span class="n">comp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p" data-group-id="6622804562-9">(</span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">T0</span><span class="p" data-group-id="6622804562-9">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">k1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p" data-group-id="6622804562-10">(</span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">T0</span><span class="p" data-group-id="6622804562-10">)</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">k2</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="n">coefficient</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">compensation</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">range</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">tempcomp</span><span class="w"> </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">hwmon</span><span class="o">/</span><span class="n">hwmon0</span><span class="o">/</span><span class="n">temp2_input</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">26000</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.000183</span><span class="w"> </span><span class="mf">0.0</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">sysfs</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">26000</span><span class="w"> </span><span class="p" data-group-id="6622804562-11">(</span><span class="mi">26</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="nc">Celsius</span><span class="p" data-group-id="6622804562-11">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w">
       </span><span class="n">correction</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">zero</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">27000</span><span class="w"> </span><span class="p" data-group-id="6622804562-12">(</span><span class="mi">27</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="nc">Celsius</span><span class="p" data-group-id="6622804562-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="mf">0.183</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="ss">parameters</span><span class="p">:</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="p" data-group-id="6622804562-13">(</span><span class="n">temperature</span><span class="p">,</span><span class="w"> </span><span class="n">compensation</span><span class="p" data-group-id="6622804562-13">)</span><span class="w"> </span><span class="n">points</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="w">
       </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">linearly</span><span class="w"> </span><span class="n">interpolated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">extrapolated</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">tempcomp</span><span class="w"> </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">hwmon</span><span class="o">/</span><span class="n">hwmon0</span><span class="o">/</span><span class="n">temp2_input</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">tempcomp</span><span class="w">

       </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">have</span><span class="w">

           </span><span class="mi">20000</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
           </span><span class="mi">21000</span><span class="w"> </span><span class="mf">0.64</span><span class="w">
           </span><span class="mi">22000</span><span class="w"> </span><span class="mf">0.36</span><span class="w">
           </span><span class="mi">23000</span><span class="w"> </span><span class="mf">0.16</span><span class="w">
           </span><span class="mi">24000</span><span class="w"> </span><span class="mf">0.04</span><span class="w">
           </span><span class="mi">25000</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
           </span><span class="mi">26000</span><span class="w"> </span><span class="mf">0.04</span><span class="w">
           </span><span class="mi">27000</span><span class="w"> </span><span class="mf">0.16</span><span class="w">
           </span><span class="mi">28000</span><span class="w"> </span><span class="mf">0.36</span><span class="w">
           </span><span class="mi">29000</span><span class="w"> </span><span class="mf">0.64</span><span class="w">
           </span><span class="mi">30000</span><span class="w"> </span><span class="mf">1.0</span><span class="w">

       </span><span class="nc">Valid</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">corresponding</span><span class="w"> </span><span class="n">compensations</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tempcomp</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span></code></pre><p>   NTP server</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">allow</span><span class="w"> </span><span class="p" data-group-id="4474538520-1">[</span><span class="n">all</span><span class="p" data-group-id="4474538520-1">]</span><span class="w"> </span><span class="p" data-group-id="4474538520-2">[</span><span class="n">subnet</span><span class="p" data-group-id="4474538520-2">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">designate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w">
       </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operates</span><span class="w"> </span><span class="n">purely</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w">
       </span><span class="n">servers</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">Examples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="ss">follows</span><span class="p">:</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">3.4</span><span class="o">.</span><span class="mf">5.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">3.4</span><span class="o">.</span><span class="mi">5</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mi">2001</span><span class="ss">:db8</span><span class="o">::</span><span class="o">/</span><span class="mi">32</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="o">::</span><span class="o">/</span><span class="mi">0</span><span class="w">
           </span><span class="n">allow</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CIDR</span><span class="w"> </span><span class="n">notation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">third</span><span class="w">
       </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">simpler</span><span class="w"> </span><span class="n">notation</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">dots</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">fourth</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">subnet</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">fifth</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sixth</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">respectively</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">seventh</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p" data-group-id="4474538520-3">(</span><span class="n">both</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="p" data-group-id="4474538520-3">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">effect</span><span class="p">,</span><span class="w"> </span><span class="n">depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ordering</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">illustrate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="p">,</span><span class="w"> </span><span class="n">consider</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w">
       </span><span class="ss">examples</span><span class="p">:</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">deny</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w">

       </span><span class="ow">and</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">deny</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">regardless</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="ow">in</span><span class="o">.</span><span class="w"> </span><span class="nc">So</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">subnet</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">denied</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="o">.</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">relating</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">subnet</span><span class="o">.</span><span class="w"> </span><span class="nc">Within</span><span class="w"> </span><span class="n">a</span><span class="w">
       </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">capability</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">moot</span><span class="p">;</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">reconfiguration</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">rules</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">internally</span><span class="w"> </span><span class="n">represented</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">deny</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">matters</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w">
       </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">table</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">lengths</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">level</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">28</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">29</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">tables</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">25</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">28</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">table</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accheck</span><span class="w"> </span><span class="n">command</span><span class="w">
       </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">resolvable</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">DNS</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">working</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">resolves</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="4474538520-4">(</span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">resolver</span><span class="p" data-group-id="4474538520-4">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">denied</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">work</span><span class="o">.</span><span class="w">

   </span><span class="n">deny</span><span class="w"> </span><span class="p" data-group-id="4474538520-5">[</span><span class="n">all</span><span class="p" data-group-id="4474538520-5">]</span><span class="w"> </span><span class="p" data-group-id="4474538520-6">[</span><span class="n">subnet</span><span class="p" data-group-id="4474538520-6">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">denies</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">too</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">deny</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">listens</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindaddress</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.1</span><span class="w">

       </span><span class="nc">Currently</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">Therefore</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">on</span><span class="w">
       </span><span class="n">multiple</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w">

   </span><span class="n">binddevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">binddevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">binddevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">broadcast</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="4474538520-7">[</span><span class="n">port</span><span class="p" data-group-id="4474538520-7">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">declare</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="4474538520-8">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">server</span><span class="p" data-group-id="4474538520-8">)</span><span class="o">.</span><span class="w">
       </span><span class="nc">Broadcast</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="ss">follows</span><span class="p">:</span><span class="w">

           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.255</span><span class="w">
           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">2.255</span><span class="w"> </span><span class="mi">12123</span><span class="w">
           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">ff02</span><span class="o">::</span><span class="mi">101</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="p" data-group-id="4474538520-9">(</span><span class="n">the</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="4474538520-9">)</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="mi">12123</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w">
       </span><span class="n">parameter</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="p" data-group-id="4474538520-10">(</span><span class="mi">32</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">respectively</span><span class="p" data-group-id="4474538520-10">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">sent</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">send</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">to</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correspond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="o">.</span><span class="w">

       </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">onto</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">client</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">point</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">point</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">defining</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">server</span><span class="w">
       </span><span class="n">feature</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">providing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">implementations</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">measure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">Thus</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">subnet</span><span class="w">
       </span><span class="n">should</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">subject</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">clientloglimit</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allocate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">logging</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">524288</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">holding</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">timestamps</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="4474538520-11">(</span><span class="n">depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">uniformity</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="p" data-group-id="4474538520-11">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2147483648</span><span class="w"> </span><span class="p" data-group-id="4474538520-12">(</span><span class="mi">2</span><span class="w"> </span><span class="nc">GB</span><span class="p" data-group-id="4474538520-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">16777216</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">timestamps</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">clientloglimit</span><span class="w"> </span><span class="mi">1048576</span><span class="w">

   </span><span class="n">noclientlog</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">arguments</span><span class="p">,</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w"> </span><span class="nc">Normally</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="p">,</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w">
       </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

   </span><span class="n">local</span><span class="w"> </span><span class="p" data-group-id="4474538520-13">[</span><span class="n">option</span><span class="p" data-group-id="4474538520-13">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="4474538520-14">(</span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">viewpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">polling</span><span class="w">
       </span><span class="n">it</span><span class="p" data-group-id="4474538520-14">)</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">happened</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">ago</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">isolated</span><span class="w"> </span><span class="n">network</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessarily</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">kept</span><span class="w"> </span><span class="n">vaguely</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">stratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">active</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">accessible</span><span class="o">.</span><span class="w">

           </span><span class="nc">Stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="p" data-group-id="4474538520-15">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">GPS</span><span class="p">,</span><span class="w"> </span><span class="n">atomic</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span><span class="p" data-group-id="4474538520-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">close</span><span class="w">
           </span><span class="n">to</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">Stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">server</span><span class="p">;</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w">
           </span><span class="n">is</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">hops</span><span class="w"> </span><span class="n">away</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fairly</span><span class="w"> </span><span class="n">unreliable</span><span class="o">.</span><span class="w">

       </span><span class="n">distance</span><span class="w"> </span><span class="n">distance</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">activated</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p" data-group-id="4474538520-16">(</span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">increasing</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="4474538520-16">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
           </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="4474538520-17">(</span><span class="n">reported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="4474538520-17">)</span><span class="w"> </span><span class="ss">as</span><span class="p">:</span><span class="w">

               </span><span class="n">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dispersion</span><span class="w">

       </span><span class="n">orphan</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="err">‘</span><span class="n">orphan</span><span class="err">’</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w">
           </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">

           </span><span class="nc">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="p">,</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">confusing</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w">
           </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">ensures</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w">
           </span><span class="n">reference</span><span class="w"> </span><span class="n">active</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">stops</span><span class="w"> </span><span class="n">responding</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">local</span><span class="w">
           </span><span class="n">reference</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">activates</span><span class="w"> </span><span class="p" data-group-id="4474538520-18">(</span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">option</span><span class="p" data-group-id="4474538520-18">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntpd</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="4474538520-19">(</span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tos</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">command</span><span class="p" data-group-id="4474538520-19">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="mf">0.1</span><span class="w">

   </span><span class="n">ntpsigndsocket</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Samba</span><span class="w"> </span><span class="n">ntp_signd</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Domain</span><span class="w"> </span><span class="nc">Controller</span><span class="w"> </span><span class="p" data-group-id="4474538520-20">(</span><span class="nc">DC</span><span class="p" data-group-id="4474538520-20">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">feature</span><span class="p">,</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="nc">MS</span><span class="o">-</span><span class="nc">SNTP</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">signed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smbd</span><span class="w"> </span><span class="n">daemon</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">MS</span><span class="o">-</span><span class="nc">SNTP</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">an</span><span class="w">
       </span><span class="nc">MS</span><span class="o">-</span><span class="nc">SNTP</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">signed</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">account</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">crack</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">brute</span><span class="o">-</span><span class="n">force</span><span class="w"> </span><span class="n">attack</span><span class="o">.</span><span class="w"> </span><span class="nc">Access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">carefully</span><span class="w"> </span><span class="n">controlled</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntpsigndsocket</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">samba</span><span class="o">/</span><span class="n">ntp_signd</span><span class="w">

   </span><span class="n">ntsport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="nc">Key</span><span class="w"> </span><span class="nc">Establishment</span><span class="w"> </span><span class="p" data-group-id="4474538520-21">(</span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="p" data-group-id="4474538520-21">)</span><span class="w"> </span><span class="n">service</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4460</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntsservercert</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntsserverkey</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsservercert</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PEM</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">intermediate</span><span class="w"> </span><span class="n">certificates</span><span class="w">
       </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">validate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">certificate</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">dropping</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">loaded</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">once</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">restarted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">renewed</span><span class="w"> </span><span class="n">certificate</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w">
       </span><span class="n">recommended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">near</span><span class="o">-</span><span class="n">seamless</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">operation</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsserverkey</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">private</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PEM</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">which</span><span class="w">
       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">dropping</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">reasons</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">users</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">corresponding</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">order</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsprocesses</span><span class="w"> </span><span class="n">processes</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">helper</span><span class="w"> </span><span class="n">processes</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="k">with</span><span class="w">
       </span><span class="n">multi</span><span class="o">-</span><span class="n">core</span><span class="w"> </span><span class="nc">CPUs</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">multithreading</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">helper</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">handled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="mi">1</span><span class="o">.</span><span class="w">

   </span><span class="n">maxntsconnections</span><span class="w"> </span><span class="n">connections</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">accept</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">practical</span><span class="w">
       </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="nc">FD_SETSIZE</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="p" data-group-id="4474538520-22">(</span><span class="n">usually</span><span class="w"> </span><span class="mi">1024</span><span class="p" data-group-id="4474538520-22">)</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">encrypt</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w">
       </span><span class="n">file</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">ntskeys</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">restarted</span><span class="p">,</span><span class="w"> </span><span class="n">reloading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">continue</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">avoids</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">storm</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsntpserver</span><span class="w"> </span><span class="n">hostname</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="p" data-group-id="4474538520-23">(</span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fully</span><span class="w"> </span><span class="n">qualified</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">name</span><span class="p" data-group-id="4474538520-23">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p" data-group-id="4474538520-24">(</span><span class="n">s</span><span class="p" data-group-id="4474538520-24">)</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">allows</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">management</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">ntsrotate</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTP</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsrotate</span><span class="w"> </span><span class="n">interval</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rotation</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="p" data-group-id="4474538520-25">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="4474538520-25">)</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">encrypts</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="o">.</span><span class="w"> </span><span class="nc">New</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">urandom</span><span class="w">
       </span><span class="n">device</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">encrypted</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="n">key</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w">
       </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">continuously</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">604800</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p" data-group-id="4474538520-26">(</span><span class="mi">1</span><span class="w"> </span><span class="n">week</span><span class="p" data-group-id="4474538520-26">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="4474538520-27">(</span><span class="mi">68</span><span class="w"> </span><span class="n">years</span><span class="p" data-group-id="4474538520-27">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">rotation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">ntsrotate</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">managed</span><span class="w"> </span><span class="n">externally</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">ntskeys</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rekey</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">copied</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">chronyd</span><span class="w">
       </span><span class="p" data-group-id="4474538520-28">(</span><span class="n">which</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">ntsrotate</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p" data-group-id="4474538520-28">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">dedicated</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntsntpserver</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">point</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">right</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsrotate</span><span class="w"> </span><span class="mi">2592000</span><span class="w">

   </span><span class="n">port</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">strictly</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="o">-</span><span class="n">only</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">ratelimit</span><span class="w"> </span><span class="p" data-group-id="4474538520-29">[</span><span class="n">option</span><span class="p" data-group-id="4474538520-29">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">Its</span><span class="w"> </span><span class="n">purpose</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">misconfigured</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">broken</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w">
       </span><span class="n">too</span><span class="w"> </span><span class="n">frequently</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="4474538520-30">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">behind</span><span class="w"> </span><span class="nc">NAT</span><span class="p" data-group-id="4474538520-30">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">limited</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">increases</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reply</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">detected</span><span class="p">,</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">temporarily</span><span class="w"> </span><span class="n">suspended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">increasing</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">overall</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">traffic</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">monitored</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clientloglimit</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="p" data-group-id="4474538520-31">(</span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">order</span><span class="p" data-group-id="4474538520-31">)</span><span class="p">:</span><span class="w">

       </span><span class="n">interval</span><span class="w"> </span><span class="n">interval</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">responses</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p" data-group-id="4474538520-32">(</span><span class="mi">8</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="4474538520-32">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="p" data-group-id="4474538520-33">(</span><span class="mi">524288</span><span class="w">
           </span><span class="n">packets</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="4474538520-33">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="p" data-group-id="4474538520-34">(</span><span class="n">one</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="4474538520-34">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">coarse</span><span class="w"> </span><span class="p" data-group-id="4474538520-35">(</span><span class="n">responses</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">bursts</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">interval</span><span class="p" data-group-id="4474538520-35">)</span><span class="o">.</span><span class="w">

       </span><span class="n">burst</span><span class="w"> </span><span class="n">responses</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="p">,</span><span class="w"> </span><span class="n">temporarily</span><span class="w"> </span><span class="n">exceeding</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clients</span><span class="w">
           </span><span class="n">that</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">rapid</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="p" data-group-id="4474538520-36">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">option</span><span class="p" data-group-id="4474538520-36">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">255</span><span class="o">.</span><span class="w">

       </span><span class="n">leak</span><span class="w"> </span><span class="n">rate</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">exceeded</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">prevent</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">spoofed</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">completely</span><span class="w"> </span><span class="n">blocking</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">leak</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="w">
           </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">fourth</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">response</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="mi">16</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bursts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="mi">75</span><span class="p">%</span><span class="w"> </span><span class="p" data-group-id="4474538520-37">(</span><span class="k">with</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">leak</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="4474538520-37">)</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsratelimit</span><span class="w"> </span><span class="p" data-group-id="4474538520-38">[</span><span class="n">option</span><span class="p" data-group-id="4474538520-38">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="4474538520-39">(</span><span class="mi">1</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="4474538520-39">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="mi">1</span><span class="w">

   </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">max</span><span class="o">-</span><span class="n">freq</span><span class="w"> </span><span class="n">max</span><span class="o">-</span><span class="n">wander</span><span class="w"> </span><span class="p" data-group-id="4474538520-40">[</span><span class="n">leaponly</span><span class="p" data-group-id="4474538520-40">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">serves</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">easier</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">close</span><span class="w">
       </span><span class="n">together</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">BE</span><span class="w"> </span><span class="ss">WARNED</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intentionally</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">serving</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">accumulated</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">smooth</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">reject</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fail</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">select</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">completely</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">quadratic</span><span class="w"> </span><span class="n">spline</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">pieces</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">independent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">accumulated</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">corrected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">stepping</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">reset</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">stepping</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracked</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="4474538520-41">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="4474538520-41">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w">
       </span><span class="n">offset</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="p" data-group-id="4474538520-42">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="4474538520-42">)</span><span class="o">.</span><span class="w"> </span><span class="n">leaponly</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">third</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">leap</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">frequency</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">leaponly</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">leapsecmode</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">servers</span><span class="w">
       </span><span class="n">safely</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">activated</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">10000</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">skew</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">falls</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">change</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">also</span><span class="w">
       </span><span class="n">activated</span><span class="w"> </span><span class="n">manually</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">skew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

           </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="mf">0.001</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

           </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">50000</span><span class="w"> </span><span class="mf">0.01</span></code></pre><p>   Command and monitoring access</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="p" data-group-id="0806893670-1">(</span><span class="n">issued</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="0806893670-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w">
       </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">commands</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">accessible</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">chrony</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">::</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="0806893670-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loopback</span><span class="w"> </span><span class="n">interface</span><span class="p" data-group-id="0806893670-2">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">localhost</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="k">for</span><span class="w">
       </span><span class="n">command</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">interfaces</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">lines</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="w">
           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="o">::</span><span class="w">

       </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="p">,</span><span class="w"> </span><span class="nc">IPv6</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">sock</span><span class="w">

   </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">cmdallow</span><span class="w"> </span><span class="p" data-group-id="0806893670-3">[</span><span class="n">all</span><span class="p" data-group-id="0806893670-3">]</span><span class="w"> </span><span class="p" data-group-id="0806893670-4">[</span><span class="n">subnet</span><span class="p" data-group-id="0806893670-4">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="p" data-group-id="0806893670-5">(</span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="p" data-group-id="0806893670-5">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="0806893670-6">(</span><span class="nc">By</span><span class="w"> </span><span class="err">‘</span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="err">’</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">meant</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">retrieve</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="p" data-group-id="0806893670-6">)</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="p" data-group-id="0806893670-7">(</span><span class="n">but</span><span class="w"> </span><span class="n">applying</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">course</span><span class="p" data-group-id="0806893670-7">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loopback</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">access</span><span class="o">.</span><span class="w">

   </span><span class="n">cmddeny</span><span class="w"> </span><span class="p" data-group-id="0806893670-8">[</span><span class="n">all</span><span class="p" data-group-id="0806893670-8">]</span><span class="w"> </span><span class="p" data-group-id="0806893670-9">[</span><span class="n">subnet</span><span class="p" data-group-id="0806893670-9">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">denies</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cmddeny</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">cmdport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">cmdport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="p" data-group-id="0806893670-10">(</span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">program</span><span class="p" data-group-id="0806893670-10">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">altered</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="p" data-group-id="0806893670-11">(</span><span class="mi">323</span><span class="p" data-group-id="0806893670-11">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">open</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="0806893670-12">(</span><span class="nc">It</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="o">.</span><span class="p" data-group-id="0806893670-12">)</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">syntax</span><span class="p">:</span><span class="w">

           </span><span class="n">cmdport</span><span class="w"> </span><span class="mi">257</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="mi">257</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="0806893670-13">(</span><span class="n">chronyc</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">257</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">inter</span><span class="o">-</span><span class="n">operate</span><span class="w"> </span><span class="n">correctly</span><span class="o">.</span><span class="p" data-group-id="0806893670-13">)</span><span class="w">

   </span><span class="n">cmdratelimit</span><span class="w"> </span><span class="p" data-group-id="0806893670-14">[</span><span class="n">option</span><span class="p" data-group-id="0806893670-14">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w">
       </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="p" data-group-id="0806893670-15">(</span><span class="mi">16</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="0806893670-15">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">cmdratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">2</span></code></pre><p>   Real-time clock (RTC)</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">adjtime</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwclock</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">parses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w">
       </span><span class="ow">or</span><span class="w"> </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtconutc</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="sc">&#39;/etc/adjtime&#39;</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">hwclockfile</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">adjtime</span><span class="w">

   </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w">
       </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">threshold</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">trim</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trimrtc</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">issued</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">trimming</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mi">1</span><span class="w">
       </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">threshold</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="mi">30</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcdevice</span><span class="w"> </span><span class="n">device</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcdevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">accessing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="n">associated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">rtcfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">rtc</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">exits</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">writertc</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">epoch</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">epoch</span><span class="w">
       </span><span class="p" data-group-id="4891296594-1">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="nc">January</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1970</span><span class="p" data-group-id="4891296594-1">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">So</span><span class="w"> </span><span class="n">far</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="p">;</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">system</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">software</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">facilities</span><span class="w"> </span><span class="p" data-group-id="4891296594-2">(</span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w">
       </span><span class="n">directive</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">chronyd</span><span class="p" data-group-id="4891296594-2">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="ss">apply</span><span class="p">:</span><span class="w">

        </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="nc">Linux</span><span class="o">.</span><span class="w">

        </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">extended</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="p" data-group-id="4891296594-3">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">capable</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">things</span><span class="p" data-group-id="4891296594-3">)</span><span class="o">.</span><span class="w">

        </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="k" data-group-id="4891296594-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">all</span><span class="o">.</span><span class="w">

   </span><span class="n">rtconutc</span><span class="w">
       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="4891296594-5">(</span><span class="n">including</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">changes</span><span class="p" data-group-id="4891296594-5">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">convenient</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">PCs</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">dual</span><span class="o">-</span><span class="n">booted</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">Windows</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="p" data-group-id="4891296594-6">(</span><span class="n">summer</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="4891296594-6">)</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ends</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">you</span><span class="w">
       </span><span class="n">next</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="nc">Universal</span><span class="w"> </span><span class="nc">Coordinated</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="p" data-group-id="4891296594-7">(</span><span class="nc">UTC</span><span class="p" data-group-id="4891296594-7">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">suffer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ends</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtconutc</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">appears</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">arguments</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w">
       </span><span class="n">hwclock</span><span class="w"> </span><span class="n">program</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">relevant</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcsync</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">copied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">drift</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="n">minutes</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">nothing</span><span class="o">.</span></code></pre><p>   Logging</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">log</span><span class="w"> </span><span class="p" data-group-id="9283528397-1">[</span><span class="n">option</span><span class="p" data-group-id="9283528397-1">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">logdir</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w">
       </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">meanings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">columns</span><span class="o">.</span><span class="w">

       </span><span class="n">rawmeasurements</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w">
           </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">debugging</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">problem</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-2">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-2">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">    </span><span class="nc">N</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">111</span><span class="w"> </span><span class="mi">111</span><span class="w"> </span><span class="mi">1111</span><span class="w">  </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="err">\</span><span class="w">
                  </span><span class="o">-</span><span class="mf">4.966e-03</span><span class="w">  </span><span class="mf">2.296e-01</span><span class="w">  </span><span class="mf">1.577e-05</span><span class="w">  </span><span class="mf">1.615e-01</span><span class="w">  </span><span class="mf">7.446e-03</span><span class="w"> </span><span class="nc">CB00717B</span><span class="w"> </span><span class="mi">4</span><span class="nc">B</span><span class="w"> </span><span class="nc">D</span><span class="w"> </span><span class="nc">K</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-3">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-3">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-4">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">13</span><span class="p" data-group-id="9283528397-4">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-5">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="9283528397-5">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">came</span><span class="w"> </span><span class="p" data-group-id="9283528397-6">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="9283528397-6">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="9283528397-7">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="sc">? </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w">
               </span><span class="n">remote</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="p" data-group-id="9283528397-7">)</span><span class="w"> </span><span class="p" data-group-id="9283528397-8">[</span><span class="nc">N</span><span class="p" data-group-id="9283528397-8">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-9">[</span><span class="mi">2</span><span class="p" data-group-id="9283528397-9">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p" data-group-id="9283528397-10">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="9283528397-10">)</span><span class="w"> </span><span class="p" data-group-id="9283528397-11">[</span><span class="mi">111</span><span class="p" data-group-id="9283528397-11">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="9283528397-12">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="9283528397-12">)</span><span class="w"> </span><span class="p" data-group-id="9283528397-13">[</span><span class="mi">111</span><span class="p" data-group-id="9283528397-13">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Results</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="p">,</span><span class="w"> </span><span class="n">maxdelayratio</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="p" data-group-id="9283528397-14">(</span><span class="ow">or</span><span class="w"> </span><span class="n">maxdelayquant</span><span class="p" data-group-id="9283528397-14">)</span><span class="w"> </span><span class="n">tests</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p" data-group-id="9283528397-15">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="9283528397-15">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">these</span><span class="w">
               </span><span class="n">four</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">precision</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-16">[</span><span class="mi">1111</span><span class="p" data-group-id="9283528397-16">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="p" data-group-id="9283528397-17">[</span><span class="mi">10</span><span class="p" data-group-id="9283528397-17">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">Remote</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="p" data-group-id="9283528397-18">[</span><span class="mi">10</span><span class="p" data-group-id="9283528397-18">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="err">‘</span><span class="nc">Score</span><span class="err">’</span><span class="w"> </span><span class="p" data-group-id="9283528397-19">(</span><span class="n">an</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">decide</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">decrease</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">level</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w">
               </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="p" data-group-id="9283528397-19">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-20">[</span><span class="mf">1.0</span><span class="p" data-group-id="9283528397-20">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p" data-group-id="9283528397-21">(</span><span class="n">theta</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="9283528397-21">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-22">[</span><span class="o">-</span><span class="mf">4.966e-03</span><span class="p" data-group-id="9283528397-22">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="9283528397-23">(</span><span class="n">delta</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="9283528397-23">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-24">[</span><span class="mf">2.296e-01</span><span class="p" data-group-id="9283528397-24">]</span><span class="w">

            </span><span class="mi">14</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="9283528397-25">(</span><span class="n">epsilon</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="9283528397-25">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-26">[</span><span class="mf">1.577e-05</span><span class="p" data-group-id="9283528397-26">]</span><span class="w">

            </span><span class="mi">15</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="9283528397-27">(</span><span class="nc">DELTA</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="9283528397-27">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-28">[</span><span class="mf">1.615e-01</span><span class="p" data-group-id="9283528397-28">]</span><span class="w">

            </span><span class="mi">16</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="9283528397-29">(</span><span class="nc">EPSILON</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="9283528397-29">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-30">[</span><span class="mf">7.446e-03</span><span class="p" data-group-id="9283528397-30">]</span><span class="w">

            </span><span class="mi">17</span><span class="o">.</span><span class="w"> </span><span class="nc">Reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-31">[</span><span class="nc">CB00717B</span><span class="p" data-group-id="9283528397-31">]</span><span class="w">

            </span><span class="mi">18</span><span class="o">.</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="p" data-group-id="9283528397-32">(</span><span class="mi">1</span><span class="o">=</span><span class="n">active</span><span class="w"> </span><span class="n">peer</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">=</span><span class="n">passive</span><span class="w"> </span><span class="n">peer</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="o">=</span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="nc">B</span><span class="o">=</span><span class="n">basic</span><span class="p">,</span><span class="w"> </span><span class="nc">I</span><span class="o">=</span><span class="n">interleaved</span><span class="p" data-group-id="9283528397-32">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-33">[</span><span class="mi">4</span><span class="nc">B</span><span class="p" data-group-id="9283528397-33">]</span><span class="w">

            </span><span class="mi">19</span><span class="o">.</span><span class="w"> </span><span class="nc">Source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="p" data-group-id="9283528397-34">(</span><span class="nc">D</span><span class="o">=</span><span class="n">daemon</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="nc">H</span><span class="o">=</span><span class="n">hardware</span><span class="p" data-group-id="9283528397-34">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-35">[</span><span class="nc">D</span><span class="p" data-group-id="9283528397-35">]</span><span class="w">

            </span><span class="mi">20</span><span class="o">.</span><span class="w"> </span><span class="nc">Source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="p" data-group-id="9283528397-36">(</span><span class="nc">D</span><span class="o">=</span><span class="n">daemon</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="nc">H</span><span class="o">=</span><span class="n">hardware</span><span class="p" data-group-id="9283528397-36">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-37">[</span><span class="nc">K</span><span class="p" data-group-id="9283528397-37">]</span><span class="w">

       </span><span class="n">measurements</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rawmeasurements</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w">
           </span><span class="n">tests</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">producing</span><span class="w"> </span><span class="n">graphs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">performance</span><span class="o">.</span><span class="w">

       </span><span class="n">statistics</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">statistics</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-38">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-38">)</span><span class="w"> </span><span class="n">from</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">     </span><span class="mf">6.261e-03</span><span class="w"> </span><span class="o">-</span><span class="mf">3.247e-03</span><span class="w"> </span><span class="err">\</span><span class="w">
                    </span><span class="mf">2.220e-03</span><span class="w">  </span><span class="mf">1.874e-06</span><span class="w">  </span><span class="mf">1.080e-06</span><span class="w"> </span><span class="mf">7.8e-02</span><span class="w">  </span><span class="mi">16</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="w">  </span><span class="mf">0.00</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-39">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-39">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-40">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="9283528397-40">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-41">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="9283528397-41">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="p" data-group-id="9283528397-42">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="9283528397-42">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="9283528397-43">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-43">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-44">[</span><span class="mf">6.261e-03</span><span class="p" data-group-id="9283528397-44">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="9283528397-45">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">fast</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p" data-group-id="9283528397-45">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-46">[</span><span class="o">-</span><span class="mf">3.247e-03</span><span class="p" data-group-id="9283528397-46">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="p" data-group-id="9283528397-47">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-47">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-48">[</span><span class="mf">2.220e-03</span><span class="p" data-group-id="9283528397-48">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="9283528397-49">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="p" data-group-id="9283528397-49">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w">
               </span><span class="n">is</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">compensation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-50">[</span><span class="mf">1.874e-06</span><span class="p" data-group-id="9283528397-50">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p" data-group-id="9283528397-51">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="9283528397-51">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-52">[</span><span class="mf">1.080e-06</span><span class="p" data-group-id="9283528397-52">]</span><span class="o">.</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">|</span><span class="n">old_rate</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">new_rate</span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">old_rate_error</span><span class="o">.</span><span class="w"> </span><span class="nc">Large</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">modelling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">well</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-53">[</span><span class="mf">7.8e-02</span><span class="p" data-group-id="9283528397-53">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-54">[</span><span class="mi">16</span><span class="p" data-group-id="9283528397-54">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="p" data-group-id="9283528397-55">(</span><span class="n">the</span><span class="w"> </span><span class="n">oldest</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prune</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">looks</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">fit</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w">
               </span><span class="n">model</span><span class="p" data-group-id="9283528397-55">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-56">[</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">discarded</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="9283528397-56">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">residuals</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">sign</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">computed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w">
               </span><span class="n">represented</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">discarded</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">retained</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">tabulated</span><span class="o">.</span><span class="w"> </span><span class="nc">Values</span><span class="w"> </span><span class="n">of</span><span class="w">
               </span><span class="n">approximately</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-57">[</span><span class="mi">8</span><span class="p" data-group-id="9283528397-57">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offsets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="w">
               </span><span class="ow">and</span><span class="w"> </span><span class="o">+</span><span class="mf">0.5</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">back</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-58">[</span><span class="mf">0.00</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w">
               </span><span class="n">correction</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">asymmetry</span><span class="p" data-group-id="9283528397-58">]</span><span class="w">

       </span><span class="n">selection</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">grows</span><span class="w">
           </span><span class="n">quadratically</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="9283528397-59">(</span><span class="n">each</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">triggers</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">sources</span><span class="p" data-group-id="9283528397-59">)</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-60">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-60">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2022</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">20</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="o">--</span><span class="o">--</span><span class="o">-</span><span class="w">  </span><span class="mi">377</span><span class="w">  </span><span class="mf">1.00</span><span class="w">  </span><span class="err">\</span><span class="w">
                    </span><span class="mf">4.228</span><span class="n">e</span><span class="o">+</span><span class="mi">01</span><span class="w"> </span><span class="o">-</span><span class="mf">1.575e-04</span><span class="w">  </span><span class="mf">1.239e-04</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-61">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-61">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-62">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="p" data-group-id="9283528397-62">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-63">[</span><span class="mi">02</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">20</span><span class="p" data-group-id="9283528397-63">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-64">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="9283528397-64">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">State</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">indicated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">symbols</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-65">[</span><span class="o">*</span><span class="p" data-group-id="9283528397-65">]</span><span class="w">

                   </span><span class="nc">Not</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ss">synchronisation</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">M</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">enough</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="p" data-group-id="9283528397-66">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="9283528397-66">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="err">~</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="p" data-group-id="9283528397-67">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="9283528397-67">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">M</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">S</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">O</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="p" data-group-id="9283528397-68">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="9283528397-68">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">fully</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="9283528397-69">(</span><span class="n">falseticker</span><span class="p" data-group-id="9283528397-69">)</span><span class="o">.</span><span class="w">

                   </span><span class="nc">Considered</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="ss">used</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">W</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="9283528397-70">(</span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsources</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="9283528397-70">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">P</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">preferred</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">U</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="p" data-group-id="9283528397-71">(</span><span class="k">after</span><span class="w"> </span><span class="n">selecting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="9283528397-71">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">D</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">had</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="9283528397-72">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="9283528397-72">)</span><span class="o">.</span><span class="w">

                   </span><span class="nc">Used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="ss">clock</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="o">*</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p" data-group-id="9283528397-73">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="p" data-group-id="9283528397-73">)</span><span class="o">.</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Reachability</span><span class="w"> </span><span class="n">register</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">octal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">register</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">missed</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">377</span><span class="w"> </span><span class="n">indicates</span><span class="w">
               </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">reply</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">eight</span><span class="w"> </span><span class="n">transmissions</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-74">[</span><span class="mi">377</span><span class="p" data-group-id="9283528397-74">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">Current</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">scoring</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">avoids</span><span class="w"> </span><span class="n">frequent</span><span class="w"> </span><span class="n">reselection</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">larger</span><span class="w">
               </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">selections</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reselected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w">
               </span><span class="n">reset</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-75">[</span><span class="mf">1.00</span><span class="p" data-group-id="9283528397-75">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">Interval</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-76">[</span><span class="mf">4.228</span><span class="n">e</span><span class="o">+</span><span class="mi">01</span><span class="p" data-group-id="9283528397-76">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Lower</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-77">[</span><span class="o">-</span><span class="mf">1.575e-04</span><span class="p" data-group-id="9283528397-77">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Upper</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-78">[</span><span class="mf">1.239e-04</span><span class="p" data-group-id="9283528397-78">]</span><span class="w">

       </span><span class="n">tracking</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">slews</span><span class="w"> </span><span class="n">made</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-79">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w">
           </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-79">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">36</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">     </span><span class="mi">2</span><span class="w">     </span><span class="o">-</span><span class="mf">3.541</span><span class="w">      </span><span class="mf">0.075</span><span class="w"> </span><span class="o">-</span><span class="mf">8.621e-06</span><span class="w"> </span><span class="nc">N</span><span class="w"> </span><span class="err">\</span><span class="w">
                           </span><span class="mi">2</span><span class="w">  </span><span class="mf">2.940e-03</span><span class="w"> </span><span class="o">-</span><span class="mf">2.084e-04</span><span class="w">  </span><span class="mf">1.534e-02</span><span class="w">  </span><span class="mf">3.472e-04</span><span class="w">  </span><span class="mf">8.304e-03</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-80">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-80">)</span><span class="w"> </span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-81">[</span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="9283528397-81">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-82">[</span><span class="mi">13</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">36</span><span class="p" data-group-id="9283528397-82">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-83">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="9283528397-83">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-84">[</span><span class="mi">2</span><span class="p" data-group-id="9283528397-84">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="p" data-group-id="9283528397-85">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="9283528397-85">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-86">[</span><span class="o">-</span><span class="mf">3.541</span><span class="p" data-group-id="9283528397-86">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="p" data-group-id="9283528397-87">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="9283528397-87">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-88">[</span><span class="mf">0.075</span><span class="p" data-group-id="9283528397-88">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">corrected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="9283528397-89">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="9283528397-89">)</span><span class="o">.</span><span class="w">
               </span><span class="p" data-group-id="9283528397-90">[</span><span class="o">-</span><span class="mf">8.621e-06</span><span class="p" data-group-id="9283528397-90">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="9283528397-91">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="sc">? </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w">
               </span><span class="ow">not</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="p" data-group-id="9283528397-91">)</span><span class="w"> </span><span class="p" data-group-id="9283528397-92">[</span><span class="nc">N</span><span class="p" data-group-id="9283528397-92">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-93">[</span><span class="mi">2</span><span class="p" data-group-id="9283528397-93">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p" data-group-id="9283528397-94">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-94">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-95">[</span><span class="mf">2.940e-03</span><span class="p" data-group-id="9283528397-95">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="p" data-group-id="9283528397-96">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="9283528397-96">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-97">[</span><span class="o">-</span><span class="mf">2.084e-04</span><span class="p" data-group-id="9283528397-97">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="p" data-group-id="9283528397-98">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-98">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-99">[</span><span class="mf">1.534e-02</span><span class="p" data-group-id="9283528397-99">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="p" data-group-id="9283528397-100">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-100">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-101">[</span><span class="mf">3.472e-04</span><span class="p" data-group-id="9283528397-101">]</span><span class="w">

            </span><span class="mi">14</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="p" data-group-id="9283528397-102">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-102">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">correction</span><span class="p">,</span><span class="w"> </span><span class="n">root</span><span class="w">
               </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-103">[</span><span class="mf">8.304e-03</span><span class="p" data-group-id="9283528397-103">]</span><span class="w">

       </span><span class="n">rtc</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-104">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-104">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtc</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w">
           </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w">     </span><span class="o">-</span><span class="mf">0.037360</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="o">-</span><span class="mf">0.037434</span><span class="err">\</span><span class="w">
                         </span><span class="o">-</span><span class="mf">37.948</span><span class="w">  </span><span class="mi">12</span><span class="w">   </span><span class="mi">5</span><span class="w">  </span><span class="mi">120</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-105">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-105">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-106">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="9283528397-106">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-107">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="9283528397-107">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="9283528397-108">[</span><span class="o">-</span><span class="mf">0.037360</span><span class="p" data-group-id="9283528397-108">]</span><span class="o">.</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Flag</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">coefficients</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-109">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">yes</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">no</span><span class="p" data-group-id="9283528397-109">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-110">[</span><span class="mi">1</span><span class="p" data-group-id="9283528397-110">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Offset</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">predicted</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">tends</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w">
               </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">outlier</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">serious</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-111">[</span><span class="o">-</span><span class="mf">0.037434</span><span class="p" data-group-id="9283528397-111">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-112">[</span><span class="o">-</span><span class="mf">37.948</span><span class="p" data-group-id="9283528397-112">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-113">[</span><span class="mi">12</span><span class="p" data-group-id="9283528397-113">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">residuals</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">sign</span><span class="o">.</span><span class="w"> </span><span class="nc">Low</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">straight</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">older</span><span class="w">
               </span><span class="n">measurements</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">discarded</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-114">[</span><span class="mi">5</span><span class="p" data-group-id="9283528397-114">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="p" data-group-id="9283528397-115">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-115">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-116">[</span><span class="mi">120</span><span class="p" data-group-id="9283528397-116">]</span><span class="w">

       </span><span class="n">refclocks</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">refclocks</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-117">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="9283528397-117">)</span><span class="w">
           </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2009</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">27.000000</span><span class="w"> </span><span class="nc">PPS2</span><span class="w">    </span><span class="mi">7</span><span class="w"> </span><span class="nc">N</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mf">4.900000e-07</span><span class="w"> </span><span class="o">-</span><span class="mf">6.741777e-07</span><span class="w">  </span><span class="mf">1.000e-06</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-118">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-118">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-119">[</span><span class="mi">2009</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span><span class="p" data-group-id="9283528397-119">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="nc">Microsecond</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-120">[</span><span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">27.000000</span><span class="p" data-group-id="9283528397-120">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">came</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-121">[</span><span class="nc">PPS2</span><span class="p" data-group-id="9283528397-121">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Sequence</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="n">samples</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-122">[</span><span class="mi">7</span><span class="p" data-group-id="9283528397-122">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="9283528397-123">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="9283528397-123">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-124">[</span><span class="nc">N</span><span class="p" data-group-id="9283528397-124">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">Flag</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-125">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">yes</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">no</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">sample</span><span class="p" data-group-id="9283528397-125">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-126">[</span><span class="mi">1</span><span class="p" data-group-id="9283528397-126">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-127">[</span><span class="mf">4.900000e-07</span><span class="p" data-group-id="9283528397-127">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">corrections</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-128">[</span><span class="o">-</span><span class="mf">6.741777e-07</span><span class="p" data-group-id="9283528397-128">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Assumed</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-129">[</span><span class="mf">1.000e-06</span><span class="p" data-group-id="9283528397-129">]</span><span class="w">

       </span><span class="n">tempcomp</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">compensations</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">tempcomp</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="9283528397-130">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">file</span><span class="p" data-group-id="9283528397-130">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">48</span><span class="w">  </span><span class="mf">2.8000</span><span class="n">e</span><span class="o">+</span><span class="mi">04</span><span class="w">  </span><span class="mf">3.6600e-01</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="9283528397-131">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="9283528397-131">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="9283528397-132">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span><span class="p" data-group-id="9283528397-132">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-133">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">48</span><span class="p" data-group-id="9283528397-133">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Temperature</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-134">[</span><span class="mf">2.8000</span><span class="n">e</span><span class="o">+</span><span class="mi">04</span><span class="p" data-group-id="9283528397-134">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Applied</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="9283528397-135">[</span><span class="mf">3.6600e-01</span><span class="p" data-group-id="9283528397-135">]</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">log</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">tracking</span><span class="w">

   </span><span class="n">logbanner</span><span class="w"> </span><span class="n">entries</span><span class="w">
       </span><span class="nc">A</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">meanings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">columns</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">logbanner</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">written</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">entirely</span><span class="o">.</span><span class="w">

   </span><span class="n">logchange</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">adjustment</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">message</span><span class="o">.</span><span class="w"> </span><span class="nc">Clock</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">detected</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="n">timestamps</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">logchange</span><span class="w"> </span><span class="mf">0.1</span><span class="w">

       </span><span class="n">which</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compensated</span><span class="o">.</span><span class="w">

   </span><span class="n">logdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">logdir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">chrony</span><span class="w">

   </span><span class="n">mailonchange</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">applies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">exceeding</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">mailonchange</span><span class="w"> </span><span class="n">root</span><span class="na">@localhost</span><span class="w"> </span><span class="mf">0.5</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="nc">F</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">fork</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sendmail</span><span class="w"> </span><span class="n">binary</span><span class="o">.</span></code></pre><p>   Miscellaneous</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">confdir</span><span class="w"> </span><span class="n">directory</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lexicographical</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">names</span><span class="o">.</span><span class="w">

       </span><span class="nc">Multiple</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="p" data-group-id="5662750727-1">(</span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="5662750727-1">)</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fragmented</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w">
       </span><span class="n">directory</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">confdir</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">d</span><span class="w">

   </span><span class="n">sourcedir</span><span class="w"> </span><span class="n">directory</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">sourcedir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">.</span><span class="n">sources</span><span class="w"> </span><span class="n">suffix</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="5662750727-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w">
       </span><span class="n">pool</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">directives</span><span class="p" data-group-id="5662750727-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="n">terminated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">character</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reloaded</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">DHCP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">networking</span><span class="w">
       </span><span class="n">script</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">sourcedir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">-</span><span class="n">dhcp</span><span class="w">

   </span><span class="n">include</span><span class="w"> </span><span class="n">pattern</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">wildcard</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">Unlike</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">include</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="o">*</span><span class="o">.</span><span class="n">conf</span><span class="w">

   </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="p" data-group-id="5662750727-3">[</span><span class="n">option</span><span class="p" data-group-id="5662750727-3">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="p" data-group-id="5662750727-4">(</span><span class="nc">NIC</span><span class="p" data-group-id="5662750727-4">)</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">own</span><span class="w">
       </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">accurately</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">transmissions</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">receptions</span><span class="p">,</span><span class="w"> </span><span class="n">avoiding</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">queueing</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w">
       </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">results</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w">
       </span><span class="n">sides</span><span class="w"> </span><span class="n">receiving</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="p" data-group-id="5662750727-5">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">peers</span><span class="p" data-group-id="5662750727-5">)</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">3.19</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ethtool</span><span class="w"> </span><span class="o">-</span><span class="nc">T</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">capabilities</span><span class="w"> </span><span class="n">should</span><span class="w">
       </span><span class="n">include</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="n">raw</span><span class="o">-</span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="n">transmit</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="k">receive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ntp</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">Timestamping</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">packets</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">bridged</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">bonded</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">4.13</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="k">receive</span><span class="w">
       </span><span class="n">timestamps</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">Transmit</span><span class="o">-</span><span class="n">only</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">free</span><span class="o">.</span><span class="w"> </span><span class="nc">Multiple</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">
       </span><span class="nc">Applications</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="5662750727-6">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="5662750727-6">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">ptp</span><span class="o">/</span><span class="n">ptpX</span><span class="o">/</span><span class="n">n_vclocks</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">feature</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">5.14</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="5662750727-7">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">hardware</span><span class="p">,</span><span class="w"> </span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="5662750727-7">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">indicated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">measurements</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntpdata</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">all</span><span class="w">
       </span><span class="n">available</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">minpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">two</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correspond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w">
           </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="5662750727-8">(</span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="5662750727-8">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="5662750727-9">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">64</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="5662750727-9">)</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w">

       </span><span class="n">precision</span><span class="w"> </span><span class="n">precision</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="5662750727-10">(</span><span class="mi">100</span><span class="w"> </span><span class="n">nanoseconds</span><span class="p" data-group-id="5662750727-10">)</span><span class="o">.</span><span class="w">

       </span><span class="n">txcomp</span><span class="w"> </span><span class="n">compensation</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">transmission</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">layer</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w">
           </span><span class="n">to</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">obtained</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">rxcomp</span><span class="w"> </span><span class="n">compensation</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">reception</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">layer</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">subtracted</span><span class="w">
           </span><span class="n">from</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">obtained</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">nocrossts</span><span class="w">
           </span><span class="nc">Some</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">precisely</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">

       </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">filter</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">filter</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">following</span><span class="p">:</span><span class="w">

           </span><span class="n">all</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">ntp</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">ptp</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">none</span><span class="w">
               </span><span class="nc">Disables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w"> </span><span class="nc">Some</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">none</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">Timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">enabled</span><span class="w">
           </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ptpport</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">receiving</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="o">.</span><span class="w"> </span><span class="nc">Forcing</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w">
           </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp</span><span class="w"> </span><span class="n">filters</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">

       </span><span class="nc">Examples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">are</span><span class="p">:</span><span class="w">

           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">eth0</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">eth1</span><span class="w"> </span><span class="n">txcomp</span><span class="w"> </span><span class="mi">300</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="n">rxcomp</span><span class="w"> </span><span class="mi">645</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="o">*</span><span class="w">

   </span><span class="n">keyfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peers</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p" data-group-id="5662750727-11">(</span><span class="nc">MAC</span><span class="p" data-group-id="5662750727-11">)</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cryptographic</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">below</span><span class="p">:</span><span class="w">

           </span><span class="n">keyfile</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">keys</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">simply</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ID</span><span class="o">-</span><span class="n">key</span><span class="w"> </span><span class="n">pairs</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ss">below</span><span class="p">:</span><span class="w">

           </span><span class="mi">10</span><span class="w"> </span><span class="n">tulip</span><span class="w">
           </span><span class="mi">11</span><span class="w"> </span><span class="n">hyacinth</span><span class="w">
           </span><span class="mi">20</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="nc">ASCII</span><span class="ss">:crocus</span><span class="w">
           </span><span class="mi">25</span><span class="w"> </span><span class="nc">SHA1</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">933</span><span class="nc">F62BE1D604E68A81B557F18CFA200483F5B70</span><span class="w">
           </span><span class="mi">30</span><span class="w"> </span><span class="nc">AES128</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">7</span><span class="nc">EA62AE64D190114D46D5A082F948EC1</span><span class="w">
           </span><span class="mi">31</span><span class="w"> </span><span class="nc">AES256</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">37</span><span class="nc">DDCBC67BB902BCB8E995977FAB4D2B5642F5B32EBCEEE421921D97E5CBFE39</span><span class="w">
            </span><span class="n">...</span><span class="w">

       </span><span class="nc">Each</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">consists</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ID</span><span class="p">,</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">key</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cryptographic</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">MAC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="nc">MD5</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">was</span><span class="w">
       </span><span class="n">built</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">hashing</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">crypto</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="p" data-group-id="5662750727-12">(</span><span class="nc">Nettle</span><span class="p">,</span><span class="w"> </span><span class="nc">GnuTLS</span><span class="p">,</span><span class="w"> </span><span class="nc">NSS</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">LibTomCrypt</span><span class="p" data-group-id="5662750727-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ss">available</span><span class="p">:</span><span class="w"> </span><span class="nc">MD5</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA1</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA256</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA384</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA512</span><span class="o">.</span><span class="w">
       </span><span class="nc">Depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">using</span><span class="p">,</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ciphers</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ss">available</span><span class="p">:</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">224</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">384</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">512</span><span class="p">,</span><span class="w">
       </span><span class="nc">TIGER</span><span class="p">,</span><span class="w"> </span><span class="nc">WHIRLPOOL</span><span class="p">,</span><span class="w"> </span><span class="nc">AES128</span><span class="p">,</span><span class="w"> </span><span class="nc">AES256</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">ASCII</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">white</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ss">ASCII</span><span class="p">:</span><span class="w"> </span><span class="n">prefix</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">HEX</span><span class="p">:</span><span class="w"> </span><span class="n">prefix</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">maximum</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2047</span><span class="w"> </span><span class="n">characters</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cipher</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="p" data-group-id="5662750727-13">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">AES128</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">AES256</span><span class="p" data-group-id="5662750727-13">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="p" data-group-id="5662750727-14">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">HEX</span><span class="p">:</span><span class="w">
       </span><span class="n">prefix</span><span class="p" data-group-id="5662750727-14">)</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="n">bits</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="nc">AES</span><span class="w"> </span><span class="n">ciphers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">SHA3</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">functions</span><span class="o">.</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">avoided</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">keygen</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">generates</span><span class="w"> </span><span class="mi">160</span><span class="o">-</span><span class="n">bit</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">SHA1</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">reasons</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="p" data-group-id="5662750727-15">(</span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rekey</span><span class="w">
       </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="5662750727-15">)</span><span class="o">.</span><span class="w">

   </span><span class="n">lock_all</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">lock_all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="nc">RAM</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">paged</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">consistent</span><span class="w"> </span><span class="n">latency</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="o">.</span><span class="w">

   </span><span class="n">pidfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">Unless</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="nc">Q</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="p" data-group-id="5662750727-16">(</span><span class="nc">PID</span><span class="p" data-group-id="5662750727-16">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">startup</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pidfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="ss">.</span><span class="p">:</span><span class="w">

           </span><span class="n">pidfile</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">pid</span><span class="w">

   </span><span class="n">ptpport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">ptpport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="p" data-group-id="5662750727-17">(</span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="p" data-group-id="5662750727-17">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">cannot</span><span class="w">
       </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">unicast</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">recognized</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">319</span><span class="w"> </span><span class="p" data-group-id="5662750727-18">(</span><span class="nc">PTP</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="5662750727-18">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="5662750727-19">(</span><span class="n">disabled</span><span class="p" data-group-id="5662750727-19">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">future</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">between</span><span class="w">
       </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w">
       </span><span class="nc">Each</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w">
       </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ptp</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">maxpoll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">319</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">ptp</span><span class="w">
           </span><span class="n">ptpport</span><span class="w"> </span><span class="mi">319</span><span class="w">

   </span><span class="n">sched_priority</span><span class="w"> </span><span class="n">priority</span><span class="w">
       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sched_priority</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SCHED_FIFO</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="p" data-group-id="5662750727-20">(</span><span class="n">which</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="mi">100</span><span class="p" data-group-id="5662750727-20">)</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="5662750727-21">(</span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="p" data-group-id="5662750727-21">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">constraint</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pthread_setschedparam</span><span class="p" data-group-id="5662750727-22">(</span><span class="p" data-group-id="5662750727-22">)</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instruct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SCHED_FIFO</span><span class="w"> </span><span class="n">first</span><span class="o">-</span><span class="ow">in</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="o">-</span><span class="n">out</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduling</span><span class="w">
       </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">priority</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">whenever</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ready</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">run</span><span class="p">,</span><span class="w"> </span><span class="n">interrupting</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">higher</span><span class="w">
       </span><span class="n">priority</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">modest</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">consistent</span><span class="w"> </span><span class="n">latency</span><span class="w"> </span><span class="n">since</span><span class="w">
       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pthread_setschedparam</span><span class="p" data-group-id="5662750727-23">(</span><span class="mi">3</span><span class="p" data-group-id="5662750727-23">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">more</span><span class="w">
       </span><span class="n">details</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">thread_policy_set</span><span class="p" data-group-id="5662750727-24">(</span><span class="p" data-group-id="5662750727-24">)</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduling</span><span class="o">.</span><span class="w"> </span><span class="nc">As</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="n">above</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">need</span><span class="w">
       </span><span class="n">it</span><span class="o">.</span><span class="w">

   </span><span class="n">user</span><span class="w"> </span><span class="n">user</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">libcap</span><span class="w"> </span><span class="n">library</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">forks</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">processes</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">retains</span><span class="w">
       </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">behalf</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="c">_chrony</span><span class="o">.</span></code></pre><p>EXAMPLES
   NTP client with permanent connection to NTP servers</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="p" data-group-id="7096326562-1">(</span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">derive</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">time</span><span class="w">
   </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="p" data-group-id="7096326562-1">)</span><span class="w"> </span><span class="n">permanently</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">methods</span><span class="p">:</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Your</span><span class="w"> </span><span class="n">institution</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">Contact</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">administrator</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Your</span><span class="w"> </span><span class="nc">ISP</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">customers</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Somewhere</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">homepage</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">near</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="nc">Check</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">access</span><span class="w">
       </span><span class="n">policy</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">facilities</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Use</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="w">

   </span><span class="nc">Assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ss">minimum</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">

   </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driftfile</span><span class="p">,</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="7096326562-2">(</span><span class="n">one</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="7096326562-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">multiple</span><span class="w">
   </span><span class="n">server</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">pool</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="7096326562-3">(</span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="p" data-group-id="7096326562-3">)</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Network</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="7096326562-4">(</span><span class="nc">NTS</span><span class="p" data-group-id="7096326562-4">)</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">support</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">secure</span><span class="w">
   </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span></code></pre><p>   NTP client with infrequent connection to NTP servers</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">occasional</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">tell</span><span class="w">
   </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">down</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">continuously</span><span class="w"> </span><span class="n">trying</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">inaccessible</span><span class="o">.</span><span class="w">

   </span><span class="nc">Again</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="ss">contain</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">contacted</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">receives</span><span class="w"> </span><span class="n">notification</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">to</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">finish</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="kn">use</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">pppd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w">
   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ppp</span><span class="o">/</span><span class="n">ip</span><span class="o">-</span><span class="n">up</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ss">include</span><span class="p">:</span><span class="w">

       </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="w"> </span><span class="n">online</span><span class="w">

   </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ppp</span><span class="o">/</span><span class="n">ip</span><span class="o">-</span><span class="n">down</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ss">include</span><span class="p">:</span><span class="w">

       </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="w"> </span><span class="n">offline</span><span class="w">

   </span><span class="n">chronyd</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">occur</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="o">.</span></code></pre><p>   Isolated networks</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">connectivity</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">derives</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">situation</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">timeserver</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">manual</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">program</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">system</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">initially</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="err">‘</span><span class="n">majority</span><span class="o">-</span><span class="n">vote</span><span class="err">’</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">clients</span><span class="err">&#39;</span><span class="w"> </span><span class="n">times</span><span class="p">;</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">‘</span><span class="n">flywheel</span><span class="err">’</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w">
   </span><span class="n">rebooting</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">needs</span><span class="w">
   </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">activated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ready</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">served</span><span class="o">.</span><span class="w"> </span><span class="nc">After</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">adjustments</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">

   </span><span class="nc">A</span><span class="w"> </span><span class="n">typical</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="7160464125-1">(</span><span class="n">called</span><span class="w"> </span><span class="n">ntp</span><span class="o">.</span><span class="n">local</span><span class="p" data-group-id="7160464125-1">)</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="p" data-group-id="7160464125-2">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mi">165</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="n">subnet</span><span class="p" data-group-id="7160464125-2">)</span><span class="p">:</span><span class="w">

       </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">client1</span><span class="w"> </span><span class="n">client3</span><span class="w"> </span><span class="n">client6</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">8</span><span class="w">
       </span><span class="n">manual</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="mf">0.01</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resynchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">restarts</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp</span><span class="o">.</span><span class="n">local</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">designated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="o">.</span><span class="w">
   </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="p" data-group-id="7160464125-3">(</span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="p" data-group-id="7160464125-3">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">role</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="o">.</span><span class="w">

   </span><span class="nc">A</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="p" data-group-id="7160464125-4">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">local</span><span class="p">,</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="p" data-group-id="7160464125-4">)</span><span class="p">:</span><span class="w">

       </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">orphan</span><span class="w">
       </span><span class="n">manual</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostnames</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">modified</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">Their</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w">
   </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span></code></pre><p>   RTC tracking</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">considers</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">occasional</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">turned</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="err">‘</span><span class="n">sessions</span><span class="err">’</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">relies</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">to</span><span class="w">
   </span><span class="n">maintain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">periods</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">powered</span><span class="w"> </span><span class="n">up</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">exclusively</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="nc">Dual</span><span class="o">-</span><span class="n">boot</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">work</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="p" data-group-id="1822505394-1">(</span><span class="k">if</span><span class="w"> </span><span class="n">anything</span><span class="p" data-group-id="1822505394-1">)</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="mf">2.6</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">kernels</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">motherboard</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">HPET</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">HPET_EMULATE_RTC</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w">
   </span><span class="nc">Otherwise</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">interact</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="o">.</span><span class="w"> </span><span class="nc">These</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">straight</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">fits</span><span class="w">
   </span><span class="n">are</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">free</span><span class="o">-</span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">online</span><span class="o">.</span><span class="w">

   </span><span class="nc">Whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="p" data-group-id="1822505394-2">(</span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">interface</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="p" data-group-id="1822505394-2">)</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">error</span><span class="w">
   </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">powered</span><span class="w"> </span><span class="n">down</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p" data-group-id="1822505394-3">(</span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">specified</span><span class="p" data-group-id="1822505394-3">)</span><span class="o">.</span><span class="w"> </span><span class="nc">These</span><span class="w"> </span><span class="n">pieces</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">writertc</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">respectively</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">reads</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">shutdown</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w">
   </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">continuously</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">reloaded</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">online</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">sessions</span><span class="sc">&#39; measurements can contribute to the line-fitting process, which gives a much better estimate of the computer’s gain
   or loss rate.

   One problem with saving the measurements and RTC data when the machine is shut down is what happens if there is a power failure; the most recent data will not be saved. Although
   chronyd is robust enough to cope with this, some performance might be lost. (The main danger arises if the RTC has been changed during the session, with the trimrtc command in
   chronyc. Because of this, trimrtc will make sure that a meaningful RTC file is saved after the change is completed).

   The easiest protection against power failure is to put the dump and writertc commands in the same place as the offline command is issued to take chronyd offline; because chronyd
   free-runs between online sessions, no parameters will change significantly between going offline from the Internet and any power failure.

   A final point regards computers which are left running for extended periods and where it is desired to spin down the hard disc when it is not in use (e.g. when not accessed for
   15 minutes). chronyd has been planned so it supports such operation; this is the reason why the RTC tracking parameters are not saved to disc after every update, but only when
   the user requests such a write, or during the shutdown sequence. The only other facility that will generate periodic writes to the disc is the log rtc facility in the
   configuration file; this option should not be used if you want your disc to spin down.

   To illustrate how a computer might be configured for this case, example configuration files are shown.

   For the chrony.conf file, the following can be used as an example.

       server foo.example.net maxdelay 0.4 offline
       server bar.example.net maxdelay 0.4 offline
       server baz.example.net maxdelay 0.4 offline
       logdir /var/log/chrony
       log statistics measurements tracking
       driftfile /var/lib/chrony/drift
       makestep 1.0 3
       maxupdateskew 100.0
       dumpdir /var/lib/chrony
       rtcfile /var/lib/chrony/rtc

   pppd is used for connecting to the Internet. This runs two scripts /etc/ppp/ip-up and /etc/ppp/ip-down when the link goes online and offline respectively.

   The relevant part of the /etc/ppp/ip-up file is:

       /usr/bin/chronyc online

   and the relevant part of the /etc/ppp/ip-down script is:

       /usr/bin/chronyc -m offline dump writertc

   chronyd is started during the boot sequence with the -r and -s options. It might need to be started before any software that depends on the system clock not jumping or moving
   backwards, depending on the directives in chronyd&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">shutdown</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">SIGTERM</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="nc">SIGKILL</span><span class="p">;</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SIGTERM</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">saved</span><span class="o">.</span></code></pre><p>   Public NTP server</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">join</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">join</span><span class="o">.</span><span class="n">html</span><span class="o">&gt;</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">permanent</span><span class="w"> </span><span class="n">connection</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="7817661523-1">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">on</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">homepage</span><span class="p" data-group-id="7817661523-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="7817661523-2">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">GPS</span><span class="w"> </span><span class="n">receiver</span><span class="p" data-group-id="7817661523-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">logging</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">increased</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w">
   </span><span class="ow">and</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">timezone</span><span class="w"> </span><span class="n">database</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">right</span><span class="o">/</span><span class="nc">UTC</span><span class="w"> </span><span class="n">timezone</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
   </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reliable</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">leap</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">shortens</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w">
   </span><span class="n">serve</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">restarted</span><span class="w"> </span><span class="p" data-group-id="7817661523-3">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">upgrading</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="p" data-group-id="7817661523-3">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">bar</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">baz</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">qux</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">
       </span><span class="n">allow</span><span class="w">
       </span><span class="n">clientloglimit</span><span class="w"> </span><span class="mi">100000000</span><span class="w">
       </span><span class="n">leapsectz</span><span class="w"> </span><span class="n">right</span><span class="o">/</span><span class="nc">UTC</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">dumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chronyc</span><span class="p" data-group-id="7416186270-1">(</span><span class="mi">1</span><span class="p" data-group-id="7416186270-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="p" data-group-id="7416186270-2">(</span><span class="mi">8</span><span class="p" data-group-id="7416186270-2">)</span></code></pre><p>BUGS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">For</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">bugs</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">visit</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">chrony</span><span class="o">.</span><span class="n">tuxfamily</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="o">.</span></code></pre><p>AUTHORS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">Richard</span><span class="w"> </span><span class="nc">Curnow</span><span class="p">,</span><span class="w"> </span><span class="nc">Miroslav</span><span class="w"> </span><span class="nc">Lichvar</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="o">.</span></code></pre><p>chrony 4.3                                                                              2022-08-29                                                                         CHRONY.CONF(5)</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="chntpw.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
chntpw
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="clamassassin.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
clamassassin
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.2) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

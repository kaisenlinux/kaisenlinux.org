<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Manpages v2.3.0">

    <title>nfs — Manpages v2.3.0</title>
    <link rel="stylesheet" href="dist/html-elixir-HHVY3JYD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-XWGFFSCD.js"></script>
    <script src="dist/sidebar_items-357E47FD.js"></script>

      <script src="doc-versions.js"></script>

    <script async src="dist/html-JDI3AVDD.js"></script>

<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://kaisenlinux.org/manpages/">
        <img src="assets/logo.jpg" alt="Manpages" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v2.3.0
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">MANUALS</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>



  <span>nfs</span>
</h1>

<p>NFS(5)                                                                              File Formats Manual                                                                             NFS(5)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">nfs</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">fstab</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfs</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">NFS</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">an</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="nc">Standard</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">Sun</span><span class="w"> </span><span class="nc">Microsystems</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mi">1984</span><span class="o">.</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">developed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">sharing</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">residing</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w">  </span><span class="nc">Depending</span><span class="w"> </span><span class="n">on</span><span class="w">
   </span><span class="n">kernel</span><span class="w"> </span><span class="n">configuration</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mf">4.0</span><span class="p">,</span><span class="w"> </span><span class="mf">4.1</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mf">4.2</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="4137196996-1">(</span><span class="mi">8</span><span class="p" data-group-id="4137196996-1">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">attaches</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="sc">&#39;s name space hierarchy at a given mount point.  The /etc/fstab file describes how mount(8)  should  assemble  a  system&#39;</span><span class="n">s</span><span class="w">
   </span><span class="n">file</span><span class="w">  </span><span class="n">name</span><span class="w">  </span><span class="n">hierarchy</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">various</span><span class="w"> </span><span class="n">independent</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="p" data-group-id="4137196996-2">(</span><span class="n">including</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="p" data-group-id="4137196996-2">)</span><span class="o">.</span><span class="w">  </span><span class="nc">Each</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">describes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="p">,</span><span class="w"> </span><span class="n">its</span><span class="w">
   </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">mounts</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w">
   </span><span class="n">point</span><span class="p">,</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">type</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">file</span><span class="w">  </span><span class="n">system</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">mounted</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">behaves</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">accessing</span><span class="w">
   </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">fifth</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sixth</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">NFS</span><span class="p">,</span><span class="w"> </span><span class="n">thus</span><span class="w"> </span><span class="n">conventionally</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">digit</span><span class="w"> </span><span class="n">zero</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="ss">example</span><span class="p">:</span><span class="w">

           </span><span class="n">server</span><span class="ss">:path</span><span class="w">   </span><span class="o">/</span><span class="n">mountpoint</span><span class="w">   </span><span class="n">fstype</span><span class="w">   </span><span class="n">option</span><span class="p">,</span><span class="n">option</span><span class="p">,</span><span class="n">...</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s hostname and export pathname are separated by a colon, while the mount options are separated by commas. The remaining fields are separated by blanks or tabs.

   The server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">unqualified</span><span class="w"> </span><span class="n">hostname</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fully</span><span class="w"> </span><span class="n">qualified</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dotted</span><span class="w"> </span><span class="n">quad</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">enclosed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w">  </span><span class="n">brackets</span><span class="o">.</span><span class="w">   </span><span class="nc">Link</span><span class="o">-</span><span class="n">local</span><span class="w">  </span><span class="ow">and</span><span class="w">
   </span><span class="n">site</span><span class="o">-</span><span class="n">local</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accompanied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">identifier</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">ipv6</span><span class="p" data-group-id="4137196996-3">(</span><span class="mi">7</span><span class="p" data-group-id="4137196996-3">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">fstype</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="s">&quot;nfs&quot;</span><span class="o">.</span><span class="w">  </span><span class="nc">Use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="s">&quot;nfs4&quot;</span><span class="w"> </span><span class="n">fstype</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deprecated</span><span class="o">.</span></code></pre><p>MOUNT OPTIONS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Refer</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">mount</span><span class="p" data-group-id="4381368922-1">(</span><span class="mi">8</span><span class="p" data-group-id="4381368922-1">)</span><span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k" data-group-id="4381368922-2">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="ow">in</span><span class="w">
   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="o">.</span></code></pre><p>   Options supported by all versions</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">These</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="o">.</span><span class="w">

   </span><span class="n">nfsvers</span><span class="o">=</span><span class="n">n</span><span class="w">      </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s NFS service.  If the server does not support the requested version, the mount request fails.   If  this
                  option is not specified, the client tries version 4.2 first, then negotiates down until it finds a version supported by the server.

   vers=n         This option is an alternative to the nfsvers option.  It is included for compatibility with other operating systems

   soft / hard    Determines  the  recovery  behavior  of the NFS client after an NFS request times out.  If neither option is specified (or if the hard option is specified), NFS re‐
                  quests are retried indefinitely.  If the soft option is specified, then the NFS client fails an NFS request after retrans retransmissions have  been  sent,  causing
                  the NFS client to return an error to the calling application.

                  NB:  A  so-called  &quot;soft&quot;  timeout can cause silent data corruption in certain cases. As such, use the soft option only when client responsiveness is more important
                  than data integrity.  Using NFS over TCP or increasing the value of the retrans option may mitigate some of the risks of using the soft option.

   softreval / nosoftreval
                  In cases where the NFS server is down, it may be useful to allow the NFS client to continue to serve up paths and attributes from cache after  retrans  attempts  to
                  revalidate that cache have timed out.  This may, for instance, be helpful when trying to unmount a filesystem tree from a server that is permanently down.

                  It is possible to combine softreval with the soft mount option, in which case operations that cannot be served up from cache will time out and return an error after
                  retrans attempts. The combination with the default hard mount option implies those uncached operations will continue to retry until a response is received from  the
                  server.

                  Note:  the  default  mount option is nosoftreval which disallows fallback to cache when revalidation fails, and instead follows the behavior dictated by the hard or
                  soft mount option.

   intr / nointr  This option is provided for backward compatibility.  It is ignored after kernel 2.6.25.

   timeo=n        The time in deciseconds (tenths of a second) the NFS client waits for a response before it retries an NFS request.

                  For NFS over TCP the default timeo value is 600 (60 seconds).  The NFS client performs linear backoff: After each retransmission the timeout is increased  by  timeo
                  up to the maximum of 600 seconds.

                  However,  for NFS over UDP, the client uses an adaptive algorithm to estimate an appropriate timeout value for frequently used request types (such as READ and WRITE
                  requests), but uses the timeo setting for infrequently used request types (such as FSINFO requests).  If the timeo option is not specified,  infrequently  used  re‐
                  quest  types  are  retried  after 1.1 seconds.  After each retransmission, the NFS client doubles the timeout for that request, up to a maximum timeout length of 60
                  seconds.

   retrans=n      The number of times the NFS client retries a request before it attempts further recovery action. If the retrans option is not specified, the NFS client  tries  each
                  UDP request three times and each TCP request twice.

                  The  NFS  client generates a &quot;server not responding&quot; message after retrans retries, then attempts further recovery (depending on whether the hard mount option is in
                  effect).

   rsize=n        The maximum number of bytes in each network READ request that the NFS client can receive when reading data from a file on an NFS server.  The  actual  data  payload
                  size  of  each  NFS  READ  request is equal to or smaller than the rsize setting. The largest read payload supported by the Linux NFS client is 1,048,576 bytes (one
                  megabyte).

                  The rsize value is a positive integral multiple of 1024.  Specified rsize values lower than 1024 are replaced with 4096; values larger  than  1048576  are  replaced
                  with 1048576. If a specified value is within the supported range but not a multiple of 1024, it is rounded down to the nearest multiple of 1024.

                  If an rsize value is not specified, or if the specified rsize value is larger than the maximum that either client or server can support, the client and server nego‐
                  tiate the largest rsize value that they can both support.

                  The rsize mount option as specified on the mount(8) command line appears in the /etc/mtab file. However, the effective rsize value  negotiated  by  the  client  and
                  server is reported in the /proc/mounts file.

   wsize=n        The  maximum  number  of  bytes per network WRITE request that the NFS client can send when writing data to a file on an NFS server. The actual data payload size of
                  each NFS WRITE request is equal to or smaller than the wsize setting. The largest write payload supported by the Linux NFS client is 1,048,576 bytes (one megabyte).

                  Similar to rsize , the wsize value is a positive integral multiple of 1024.  Specified wsize values lower than 1024 are  replaced  with  4096;  values  larger  than
                  1048576  are  replaced  with  1048576.  If a specified value is within the supported range but not a multiple of 1024, it is rounded down to the nearest multiple of
                  1024.

                  If a wsize value is not specified, or if the specified wsize value is larger than the maximum that either client or server can support, the client and server  nego‐
                  tiate the largest wsize value that they can both support.

                  The  wsize  mount  option  as  specified on the mount(8) command line appears in the /etc/mtab file. However, the effective wsize value negotiated by the client and
                  server is reported in the /proc/mounts file.

   ac / noac      Selects whether the client may cache file attributes. If neither option is specified (or if ac is specified), the client caches file attributes.

                  To improve performance, NFS clients cache file attributes. Every few seconds, an NFS client checks the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">version</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">each</span><span class="w">  </span><span class="n">file</span><span class="sc">&#39;s  attributes  for  updates.
                  Changes  that occur on the server in those small intervals remain undetected until the client checks the server again. The noac option prevents clients from caching
                  file attributes so that applications can more quickly detect file changes on the server.

                  In addition to preventing the client from caching file attributes, the noac option forces application writes to become synchronous so that local changes to  a  file
                  become visible on the server immediately.  That way, other clients can quickly detect recent writes when they check the file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">attributes</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Using</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">accessing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">extracts</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">significant</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">penalty</span><span class="o">.</span><span class="w">  </span><span class="nc">As</span><span class="w"> </span><span class="n">such</span><span class="p">,</span><span class="w"> </span><span class="n">ju</span><span class="err">‐</span><span class="w">
                  </span><span class="n">dicious</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">encouraged</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">detailed</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">trade</span><span class="o">-</span><span class="n">offs</span><span class="o">.</span><span class="w">

   </span><span class="n">acregmin</span><span class="o">=</span><span class="n">n</span><span class="w">     </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="6636869803-1">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6636869803-1">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">fresh</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w">  </span><span class="n">option</span><span class="w">
                  </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">3</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">minimum</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">

   </span><span class="n">acregmax</span><span class="o">=</span><span class="n">n</span><span class="w">     </span><span class="nc">The</span><span class="w">  </span><span class="n">maximum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="6636869803-2">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6636869803-2">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">fresh</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w">
                  </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">60</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">maximum</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">

   </span><span class="n">acdirmin</span><span class="o">=</span><span class="n">n</span><span class="w">     </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="6636869803-3">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6636869803-3">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">fresh</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w">  </span><span class="n">is</span><span class="w">
                  </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">30</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">minimum</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">

   </span><span class="n">acdirmax</span><span class="o">=</span><span class="n">n</span><span class="w">     </span><span class="nc">The</span><span class="w">  </span><span class="n">maximum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="6636869803-4">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6636869803-4">)</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">fresh</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w">
                  </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">60</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">maximum</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">

   </span><span class="n">actimeo</span><span class="o">=</span><span class="n">n</span><span class="w">      </span><span class="nc">Using</span><span class="w"> </span><span class="n">actimeo</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">acregmin</span><span class="p">,</span><span class="w"> </span><span class="n">acregmax</span><span class="p">,</span><span class="w"> </span><span class="n">acdirmin</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">acdirmax</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">for</span><span class="w">  </span><span class="n">each</span><span class="w">
                  </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="n">above</span><span class="o">.</span><span class="w">

   </span><span class="n">bg</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fg</span><span class="w">        </span><span class="nc">Determines</span><span class="w">  </span><span class="n">how</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-5">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-5">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">behaves</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">fails</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">fg</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-6">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-6">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
                  </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fails</span><span class="w"> </span><span class="n">outright</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">&quot;foreground&quot;</span><span class="w"> </span><span class="n">mount</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">fg</span><span class="w"> </span><span class="n">nor</span><span class="w"> </span><span class="n">bg</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bg</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-7">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-7">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">fork</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">continues</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">export</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">parent</span><span class="w">  </span><span class="n">immedi</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ately</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">code</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">&quot;background&quot;</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">missing</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-8">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-8">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">acts</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">timed</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">permits</span><span class="w"> </span><span class="n">nested</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w">
                  </span><span class="n">to</span><span class="w"> </span><span class="n">proceed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">initialization</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">yet</span><span class="w"> </span><span class="n">available</span><span class="o">.</span><span class="w">  </span><span class="nc">Alternatively</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">issues</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">addressed</span><span class="w">  </span><span class="n">using</span><span class="w">  </span><span class="n">an</span><span class="w">  </span><span class="n">auto</span><span class="err">‐</span><span class="w">
                  </span><span class="n">mounter</span><span class="w"> </span><span class="p" data-group-id="6636869803-9">(</span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">automount</span><span class="p" data-group-id="6636869803-10">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-10">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="p" data-group-id="6636869803-9">)</span><span class="o">.</span><span class="w">

   </span><span class="n">nconnect</span><span class="o">=</span><span class="n">n</span><span class="w">     </span><span class="nc">When</span><span class="w">  </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">oriented</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">TCP</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">sometimes</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">advantageous</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">instance</span><span class="p">,</span><span class="w">
                  </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">equipped</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">cards</span><span class="w"> </span><span class="p" data-group-id="6636869803-11">(</span><span class="nc">NICs</span><span class="p" data-group-id="6636869803-11">)</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">spread</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">load</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">overall</span><span class="w">  </span><span class="n">perfor</span><span class="err">‐</span><span class="w">
                  </span><span class="n">mance</span><span class="o">.</span><span class="w">   </span><span class="nc">In</span><span class="w">  </span><span class="n">such</span><span class="w">  </span><span class="n">cases</span><span class="p">,</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">nconnect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">established</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w">
                  </span><span class="n">limit</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nconnect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">pNFS</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">decide</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">

   </span><span class="n">max_connect</span><span class="o">=</span><span class="n">n</span><span class="w">  </span><span class="nc">While</span><span class="w"> </span><span class="n">nconnect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">established</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="nc">IP</span><span class="p">,</span><span class="w"> </span><span class="n">max_connect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w">  </span><span class="n">maximum</span><span class="w">
                  </span><span class="n">number</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">connections</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">different</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="nc">IPs</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">belong</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">NFSv4</span><span class="o">.</span><span class="mi">1</span><span class="o">+</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="6636869803-12">(</span><span class="n">session</span><span class="w"> </span><span class="n">trunkable</span><span class="w"> </span><span class="n">connections</span><span class="p" data-group-id="6636869803-12">)</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">discovers</span><span class="w">
                  </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">established</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">dropping</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">transport</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">new</span><span class="w">  </span><span class="n">connection</span><span class="w">  </span><span class="n">to</span><span class="w">
                  </span><span class="n">the</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">transports</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w">

   </span><span class="n">rdirplus</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nordirplus</span><span class="w">
                  </span><span class="nc">Selects</span><span class="w">  </span><span class="n">whether</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="nc">READDIRPLUS</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">READDIRPLUS</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">v3</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">v4</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">read</span><span class="w">
                  </span><span class="n">small</span><span class="w"> </span><span class="n">directories</span><span class="o">.</span><span class="w">  </span><span class="nc">Some</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="nc">READDIR</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directories</span><span class="o">.</span><span class="w">

   </span><span class="n">retry</span><span class="o">=</span><span class="n">n</span><span class="w">        </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-13">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-13">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">retries</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">foreground</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">giving</span><span class="w"> </span><span class="n">up</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w">  </span><span class="ow">not</span><span class="w">  </span><span class="n">specified</span><span class="p">,</span><span class="w">
                  </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">foreground</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">minutes</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">background</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">10000</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="p" data-group-id="6636869803-14">(</span><span class="mi">80</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="n">shy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">week</span><span class="p" data-group-id="6636869803-14">)</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">zero</span><span class="w">
                  </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6636869803-15">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-15">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">exits</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">failure</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">affects</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">retries</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">doesn</span><span class="sc">&#39;t affect the delay caused by each retry.  For UDP each retry takes the time determined by the  timeo
                  and  retrans options, which by default will be about 7 seconds.  For TCP the default is 3 minutes, but system TCP connection timeouts will sometimes limit the time‐
                  out of each retransmission to around 2 minutes.

   sec=flavors    A colon-separated list of one or more security flavors to use for accessing files on the mounted export. If the server does not support any of  these  flavors,  the
                  mount  operation  fails.   If  sec= is not specified, the client attempts to find a security flavor that both the client and the server supports.  Valid flavors are
                  none, sys, krb5, krb5i, and krb5p.  Refer to the SECURITY CONSIDERATIONS section for details.

   sharecache / nosharecache
                  Determines how the client&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">mounting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">concurrently</span><span class="o">.</span><span class="w">  </span><span class="nc">Using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">reduces</span><span class="w">  </span><span class="n">mem</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ory</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">presents</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">accessed</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w">  </span><span class="n">neither</span><span class="w">  </span><span class="n">option</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">specified</span><span class="p">,</span><span class="w">  </span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sharecache</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">export</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w">
                  </span><span class="n">nosharecache</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">cache</span><span class="o">.</span><span class="w">  </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">shared</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="n">first</span><span class="w">
                  </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">subsequent</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">export</span><span class="o">.</span><span class="w">

                  </span><span class="nc">As</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">18</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">nosharecache</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">legacy</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">behavior</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">risk</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">copies</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">file</span><span class="w">
                  </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">become</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">copies</span><span class="o">.</span><span class="w">

   </span><span class="n">resvport</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">noresvport</span><span class="w">
                  </span><span class="nc">Specifies</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">communicating</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w">  </span><span class="ow">not</span><span class="w">  </span><span class="n">specified</span><span class="p">,</span><span class="w">
                  </span><span class="ow">or</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">resvport</span><span class="w">  </span><span class="n">option</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noresvport</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w">
                  </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">kernels</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">28</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Using</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">helps</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">clients</span><span class="w">  </span><span class="n">to</span><span class="w">
                  </span><span class="n">connect</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SECURITY</span><span class="w"> </span><span class="nc">CONSIDERATIONS</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

   </span><span class="n">lookupcache</span><span class="o">=</span><span class="n">mode</span><span class="w">
                  </span><span class="nc">Specifies</span><span class="w">  </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">manages</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="n">mode</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="n">none</span><span class="p">,</span><span class="w"> </span><span class="n">pos</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">positive</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w">
                  </span><span class="ow">in</span><span class="w"> </span><span class="n">kernels</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">28</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="o">.</span><span class="w">

                  </span><span class="nc">The</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="nc">LOOKUP</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">referred</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">as</span><span class="w">  </span><span class="n">positive</span><span class="o">.</span><span class="w">
                  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">referred</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">negative</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w">  </span><span class="n">this</span><span class="w">  </span><span class="n">option</span><span class="w">  </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">parent</span><span class="w"> </span><span class="n">directory</span><span class="sc">&#39;s cached
                  attributes expire.

                  If pos or positive is specified, the client assumes positive entries are valid until their parent directory&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">expire</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">revalidates</span><span class="w"> </span><span class="n">nega</span><span class="err">‐</span><span class="w">
                  </span><span class="n">tive</span><span class="w"> </span><span class="n">entires</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">them</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w">  </span><span class="n">none</span><span class="w">  </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">revalidates</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">them</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">permits</span><span class="w"> </span><span class="n">quick</span><span class="w"> </span><span class="n">detection</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">that</span><span class="w">
                  </span><span class="n">were</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">performance</span><span class="o">.</span><span class="w">

                  </span><span class="nc">The</span><span class="w"> </span><span class="nc">DATA</span><span class="w"> </span><span class="nc">AND</span><span class="w"> </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">detailed</span><span class="w"> </span><span class="n">discussion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">trade</span><span class="o">-</span><span class="n">offs</span><span class="o">.</span><span class="w">

   </span><span class="n">fsc</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nofsc</span><span class="w">    </span><span class="nc">Enable</span><span class="o">/</span><span class="nc">Disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="p" data-group-id="6636869803-16">(</span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="p" data-group-id="6636869803-16">)</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">pages</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">FS</span><span class="o">-</span><span class="nc">Cache</span><span class="w"> </span><span class="n">facility</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w">  </span><span class="n">cachefilesd</span><span class="p" data-group-id="6636869803-17">(</span><span class="mi">8</span><span class="p" data-group-id="6636869803-17">)</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="o">&lt;</span><span class="n">kernel_source</span><span class="o">&gt;</span><span class="o">/</span><span class="nc">Documentation</span><span class="o">/</span><span class="n">filesys</span><span class="err">‐</span><span class="w">
                  </span><span class="n">tems</span><span class="o">/</span><span class="n">caching</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">FS</span><span class="o">-</span><span class="nc">Cache</span><span class="w"> </span><span class="n">facility</span><span class="o">.</span><span class="w">  </span><span class="nc">Default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">nofsc</span><span class="o">.</span><span class="w">

   </span><span class="n">sloppy</span><span class="w">         </span><span class="nc">The</span><span class="w"> </span><span class="n">sloppy</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="n">nfs</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">option</span><span class="o">.</span></code></pre><p>   Options for NFS versions 2 and 3 only</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Use</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">along</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">subsection</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

   </span><span class="n">proto</span><span class="o">=</span><span class="n">netid</span><span class="w">    </span><span class="nc">The</span><span class="w">  </span><span class="n">netid</span><span class="w">  </span><span class="n">determines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">communicate</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Available</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">udp</span><span class="p">,</span><span class="w"> </span><span class="n">udp6</span><span class="p">,</span><span class="w"> </span><span class="n">tcp</span><span class="p">,</span><span class="w"> </span><span class="n">tcp6</span><span class="p">,</span><span class="w"> </span><span class="n">rdma</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rdma6</span><span class="o">.</span><span class="w">  </span><span class="nc">Those</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k">end</span><span class="w">
                  </span><span class="ow">in</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">TI</span><span class="o">-</span><span class="nc">RPC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="ow">in</span><span class="o">.</span><span class="w"> </span><span class="nc">Others</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Each</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">retrans</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">timeo</span><span class="w"> </span><span class="n">settings</span><span class="o">.</span><span class="w">  </span><span class="nc">Refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

                  </span><span class="nc">In</span><span class="w"> </span><span class="n">addition</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">controlling</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">transmits</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">how</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">mount</span><span class="p" data-group-id="8662750419-1">(</span><span class="mi">8</span><span class="p" data-group-id="8662750419-1">)</span><span class="w">  </span><span class="n">command</span><span class="w">  </span><span class="n">communicates</span><span class="w">  </span><span class="k">with</span><span class="w">  </span><span class="n">the</span><span class="w">
                  </span><span class="n">server</span><span class="sc">&#39;s  rpcbind  and  mountd services.  Specifying a netid that uses TCP forces all traffic from the mount(8) command and the NFS client to use TCP.  Specifying a
                  netid that uses UDP forces all traffic types to use UDP.

                  Before using NFS over UDP, refer to the TRANSPORT METHODS section.

                  If the proto mount option is not specified, the mount(8) command discovers which protocols the server supports and chooses an appropriate transport  for  each  ser‐
                  vice.  Refer to the TRANSPORT METHODS section for more details.

   udp            The udp option is an alternative to specifying proto=udp.  It is included for compatibility with other operating systems.

                  Before using NFS over UDP, refer to the TRANSPORT METHODS section.

   tcp            The tcp option is an alternative to specifying proto=tcp.  It is included for compatibility with other operating systems.

   rdma           The rdma option is an alternative to specifying proto=rdma.

   port=n         The numeric value of the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s NFS service is not available on the specified port, the mount request fails.

                  If  this  option is not specified, or if the specified port value is 0, then the NFS client uses the NFS service port number advertised by the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">rpcbind</span><span class="w"> </span><span class="n">ser</span><span class="err">‐</span><span class="w">
                  </span><span class="n">vice</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s rpcbind service is not available, the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">is</span><span class="w">  </span><span class="ow">not</span><span class="w">  </span><span class="n">registered</span><span class="w">  </span><span class="k">with</span><span class="w">  </span><span class="n">its</span><span class="w">  </span><span class="n">rpcbind</span><span class="w">  </span><span class="n">service</span><span class="p">,</span><span class="w">  </span><span class="ow">or</span><span class="w">  </span><span class="n">the</span><span class="w">
                  </span><span class="n">server</span><span class="sc">&#39;s NFS service is not available on the advertised port.

   mountport=n    The numeric value of the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s mountd service is not available on the specified port, the mount request fails.

                  If  this  option  is  not  specified,  or if the specified port value is 0, then the mount(8) command uses the mountd service port number advertised by the server&#39;</span><span class="n">s</span><span class="w">
                  </span><span class="n">rpcbind</span><span class="w"> </span><span class="n">service</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s rpcbind service is not available, the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">registered</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">rpcbind</span><span class="w">  </span><span class="n">service</span><span class="p">,</span><span class="w">
                  </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s mountd service is not available on the advertised port.

                  This option can be used when mounting an NFS server through a firewall that blocks the rpcbind protocol.

   mountproto=netid
                  The  transport  the NFS client uses to transmit requests to the NFS server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">performing</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">unmounting</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w">
                  </span><span class="n">point</span><span class="o">.</span><span class="w">

                  </span><span class="n">netid</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">udp</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">tcp</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="ow">or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nc">TI</span><span class="o">-</span><span class="nc">RPC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="n">nfs</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">udp6</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">tcp6</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

                  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">mounting</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">transport</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proto</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w">  </span><span class="n">differ</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ent</span><span class="w">  </span><span class="n">transports</span><span class="w">  </span><span class="k">for</span><span class="w">  </span><span class="n">mountd</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s mountd service is not available via the specified transport, the mount re‐
                  quest fails.

                  Refer to the TRANSPORT METHODS section for more on how the mountproto mount option interacts with the proto mount option.

   mounthost=name The hostname of the host running mountd.  If this option is not specified, the mount(8) command assumes that the mountd service runs on the same  host  as  the  NFS
                  service.

   mountvers=n    The RPC version number used to contact the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">ver</span><span class="err">‐</span><span class="w">
                  </span><span class="n">sion</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">services</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w">

   </span><span class="n">namlen</span><span class="o">=</span><span class="n">n</span><span class="w">       </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pathname</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">negotiated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w">  </span><span class="n">most</span><span class="w">  </span><span class="n">cases</span><span class="p">,</span><span class="w">  </span><span class="n">this</span><span class="w">
                  </span><span class="n">maximum</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">255</span><span class="w"> </span><span class="n">characters</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Some</span><span class="w"> </span><span class="n">early</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">negotiation</span><span class="o">.</span><span class="w">  </span><span class="nc">Using</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">ensures</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">pathconf</span><span class="p" data-group-id="8662750419-2">(</span><span class="mi">3</span><span class="p" data-group-id="8662750419-2">)</span><span class="w"> </span><span class="n">reports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proper</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">applications</span><span class="w">
                  </span><span class="ow">in</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">cases</span><span class="o">.</span><span class="w">

   </span><span class="n">lock</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nolock</span><span class="w">  </span><span class="nc">Selects</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="p" data-group-id="8662750419-3">(</span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p" data-group-id="8662750419-3">)</span><span class="p">,</span><span class="w"> </span><span class="nc">NLM</span><span class="w">  </span><span class="n">locking</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="n">used</span><span class="w">  </span><span class="k">for</span><span class="w">
                  </span><span class="n">this</span><span class="w">  </span><span class="n">mount</span><span class="w">  </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nolock</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">exclusion</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w">
                  </span><span class="n">client</span><span class="o">.</span><span class="w">  </span><span class="nc">Remote</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">

                  </span><span class="nc">NLM</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nolock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">implementation</span><span class="w">  </span><span class="n">on</span><span class="w">  </span><span class="nc">Linux</span><span class="o">.</span><span class="w">   </span><span class="nc">Using</span><span class="w">  </span><span class="n">the</span><span class="w">
                  </span><span class="n">nolock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">mounting</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k" data-group-id="8662750419-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">protocol</span><span class="o">.</span><span class="w">

   </span><span class="n">cto</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">nocto</span><span class="w">    </span><span class="nc">Selects</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">close</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">open</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">semantics</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="p" data-group-id="8662750419-5">(</span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">cto</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p" data-group-id="8662750419-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">close</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">open</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coher</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ence</span><span class="w"> </span><span class="n">semantics</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nocto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">standard</span><span class="w"> </span><span class="n">heuristic</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">changed</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nocto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">read</span><span class="o">-</span><span class="n">only</span><span class="w"> </span><span class="n">mounts</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">changes</span><span class="w">  </span><span class="n">only</span><span class="w">  </span><span class="n">occasionally</span><span class="o">.</span><span class="w">   </span><span class="nc">The</span><span class="w">  </span><span class="nc">DATA</span><span class="w">  </span><span class="nc">AND</span><span class="w">
                  </span><span class="nc">METADATA</span><span class="w"> </span><span class="nc">COHERENCE</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">discusses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">detail</span><span class="o">.</span><span class="w">

   </span><span class="n">acl</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">noacl</span><span class="w">    </span><span class="nc">Selects</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">proprietary</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">Solaris</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">manages</span><span class="w">
                  </span><span class="nc">Access</span><span class="w"> </span><span class="nc">Control</span><span class="w"> </span><span class="nc">Lists</span><span class="o">.</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">neither</span><span class="w"> </span><span class="n">acl</span><span class="w"> </span><span class="n">nor</span><span class="w"> </span><span class="n">noacl</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">negotiates</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="n">server</span><span class="w">  </span><span class="n">sup</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ports</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">  </span><span class="nc">Disabling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">negotiation</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">problems</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SECURITY</span><span class="w"> </span><span class="nc">CONSIDERATIONS</span><span class="w">
                  </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

   </span><span class="n">local_lock</span><span class="o">=</span><span class="n">mechanism</span><span class="w">
                  </span><span class="nc">Specifies</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="n">mechanisms</span><span class="o">.</span><span class="w">  </span><span class="n">mechanism</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="n">flock</span><span class="p">,</span><span class="w"> </span><span class="n">posix</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">none</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">op</span><span class="err">‐</span><span class="w">
                  </span><span class="n">tion</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">kernels</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">37</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="o">.</span><span class="w">

                  </span><span class="nc">The</span><span class="w">  </span><span class="nc">Linux</span><span class="w">  </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">local</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">exclusion</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">applica</span><span class="err">‐</span><span class="w">
                  </span><span class="n">tions</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">Remote</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">none</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">local</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">local</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">posix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

                  </span><span class="nc">To</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">legacy</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">12</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="sc">&#39;local_lock=flock&#39;</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">exporting</span><span class="w"> </span><span class="nc">NFS</span><span class="w">  </span><span class="n">mounts</span><span class="w">  </span><span class="n">via</span><span class="w">  </span><span class="nc">Samba</span><span class="w">  </span><span class="n">as</span><span class="w">
                  </span><span class="nc">Samba</span><span class="w"> </span><span class="n">maps</span><span class="w"> </span><span class="nc">Windows</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">flock</span><span class="o">.</span><span class="w"> </span><span class="nc">Since</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">12</span><span class="w"> </span><span class="n">implement</span><span class="w"> </span><span class="n">flock</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">emulating</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">locks</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">conflicting</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">

                  </span><span class="ss">NOTE</span><span class="p">:</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">together</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="sc">&#39;local_lock&#39;</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="sc">&#39;nolock&#39;</span><span class="o">/</span><span class="sc">&#39;lock&#39;</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span></code></pre><p>   Options for NFS version 4 only</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Use</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">along</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">subsection</span><span class="w"> </span><span class="n">above</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w">

   </span><span class="n">proto</span><span class="o">=</span><span class="n">netid</span><span class="w">    </span><span class="nc">The</span><span class="w">  </span><span class="n">netid</span><span class="w"> </span><span class="n">determines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">communicate</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Supported</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">tcp</span><span class="p">,</span><span class="w"> </span><span class="n">tcp6</span><span class="p">,</span><span class="w"> </span><span class="n">rdma</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rdma6</span><span class="o">.</span><span class="w">  </span><span class="n">tcp6</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w">
                  </span><span class="n">is</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">TI</span><span class="o">-</span><span class="nc">RPC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="ow">in</span><span class="o">.</span><span class="w"> </span><span class="nc">Both</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

                  </span><span class="nc">All</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">TCP</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="nc">TCP</span><span class="w">  </span><span class="n">protocol</span><span class="o">.</span><span class="w">   </span><span class="nc">Refer</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">the</span><span class="w">
                  </span><span class="nc">TRANSPORT</span><span class="w"> </span><span class="nc">METHODS</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

   </span><span class="n">minorversion</span><span class="o">=</span><span class="n">n</span><span class="w"> </span><span class="nc">Specifies</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">minor</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w">  </span><span class="nc">NFSv4</span><span class="w"> </span><span class="n">introduces</span><span class="w"> </span><span class="s">&quot;minor versioning,&quot;</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">enhancements</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">introduced</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">bumping</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">proto</span><span class="err">‐</span><span class="w">
                  </span><span class="n">col</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w">  </span><span class="nc">Before</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">38</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minor</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">recognized</span><span class="o">.</span><span class="w">  </span><span class="nc">After</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="s">&quot;minorversion=1&quot;</span><span class="w">  </span><span class="n">en</span><span class="err">‐</span><span class="w">
                  </span><span class="n">ables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">advanced</span><span class="w"> </span><span class="n">features</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">NFSv4</span><span class="w"> </span><span class="n">sessions</span><span class="o">.</span><span class="w">

                  </span><span class="nc">Recent</span><span class="w"> </span><span class="n">kernels</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minor</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vers</span><span class="o">=</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">  </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">vers</span><span class="o">=</span><span class="mf">4.1</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">vers</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">minorversion</span><span class="o">=</span><span class="mi">1</span><span class="o">.</span><span class="w">

   </span><span class="n">port</span><span class="o">=</span><span class="n">n</span><span class="w">         </span><span class="nc">The</span><span class="w"> </span><span class="n">numeric</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s NFS service port.  If the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="o">.</span><span class="w">

                  </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2049</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s rpcbind service.  This allows an
                  NFS version 4 client to contact an NFS version 4 server through a firewall that may block rpcbind requests.

                  If the specified port value is 0, then the NFS client uses the NFS service port number advertised by the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">rpcbind</span><span class="w"> </span><span class="n">service</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="w">  </span><span class="k">if</span><span class="w">  </span><span class="n">the</span><span class="w">
                  </span><span class="n">server</span><span class="sc">&#39;s  rpcbind service is not available, the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">registered</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">rpcbind</span><span class="w"> </span><span class="n">service</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s NFS service is not available on the
                  advertised port.

   cto / nocto    Selects whether to use close-to-open cache coherence semantics for NFS directories on this mount point.  If neither cto nor nocto is specified, the  default  is  to
                  use close-to-open cache coherence semantics for directories.

                  File data caching behavior is not affected by this option.  The DATA AND METADATA COHERENCE section discusses the behavior of this option in more detail.

   clientaddr=n.n.n.n

   clientaddr=n:n:...:n
                  Specifies  a single IPv4 address (in dotted-quad form), or a non-link-local IPv6 address, that the NFS client advertises to allow servers to perform NFS version 4.0
                  callback requests against files on this mount point. If  the  server is unable to establish callback connections to clients, performance may degrade, or accesses to
                  files  may temporarily hang.  Can specify a value of IPv4_ANY (0.0.0.0) or equivalent IPv6 any address which will signal to the NFS server that this NFS client does
                  not want delegations.

                  If this option is not specified, the mount(8) command attempts to discover an appropriate callback address automatically.  The automatic discovery  process  is  not
                  perfect,  however.   In  the  presence of multiple client network interfaces, special routing policies, or atypical network topologies, the exact address to use for
                  callbacks may be nontrivial to determine.

                  NFS protocol versions 4.1 and 4.2 use the client-established TCP connection for callback requests, so do not require the server to connect to the client.  This  op‐
                  tion is therefore only affect NFS version 4.0 mounts.

   migration / nomigration
                  Selects  whether the client uses an identification string that is compatible with NFSv4 Transparent State Migration (TSM).  If the mounted server supports NFSv4 mi‐
                  gration with TSM, specify the migration option.

                  Some server features misbehave in the face of a migration-compatible identification string.  The nomigration option retains the use of a traditional client indenti‐
                  fication  string  which  is compatible with legacy NFS servers.  This is also the behavior if neither option is specified.  A client&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w">
                  </span><span class="n">migrated</span><span class="w"> </span><span class="n">transparently</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">identifies</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">traditional</span><span class="w"> </span><span class="n">identification</span><span class="w"> </span><span class="n">string</span><span class="o">.</span><span class="w">

                  </span><span class="nc">This</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NFSv4</span><span class="w"> </span><span class="n">minor</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">zero</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">TSM</span><span class="o">-</span><span class="n">compatible</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">identification</span><span class="w"> </span><span class="n">strings</span><span class="o">.</span></code></pre><p>nfs4 FILE SYSTEM TYPE</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w"> </span><span class="n">nfs4</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="nc">NFSv4</span><span class="w"> </span><span class="n">usage</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NFSv4</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">common</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">excepted</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfsvers</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span></code></pre><p>MOUNT CONFIGURATION FILE</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k" data-group-id="9578495589-1">do</span><span class="w"> </span><span class="n">so</span><span class="p">,</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nfsmount</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">See</span><span class="w"> </span><span class="n">nfsmount</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="9578495589-2">(</span><span class="mi">5</span><span class="p" data-group-id="9578495589-2">)</span><span class="w">
   </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="o">.</span></code></pre><p>EXAMPLES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">mount</span><span class="w">  </span><span class="n">option</span><span class="o">.</span><span class="w">   </span><span class="nc">To</span><span class="w">  </span><span class="n">mount</span><span class="w">  </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfs</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfsvers</span><span class="o">=</span><span class="mi">3</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">  </span><span class="nc">To</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfs</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w">
   </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfsvers</span><span class="o">=</span><span class="mi">4</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nfs4</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">type</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">negotiate</span><span class="w"> </span><span class="n">reasonable</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">behavior</span><span class="o">.</span><span class="w">

           </span><span class="n">server</span><span class="ss">:/</span><span class="n">export</span><span class="w">  </span><span class="o">/</span><span class="n">mnt</span><span class="w">  </span><span class="n">nfs</span><span class="w">   </span><span class="n">defaults</span><span class="w">                      </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">mutual</span><span class="w"> </span><span class="n">authentication</span><span class="o">.</span><span class="w">

           </span><span class="n">server</span><span class="ss">:/</span><span class="n">export</span><span class="w">  </span><span class="o">/</span><span class="n">mnt</span><span class="w">  </span><span class="n">nfs4</span><span class="w">  </span><span class="n">sec</span><span class="o">=</span><span class="n">krb5</span><span class="w">                      </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">privacy</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">integrity</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

           </span><span class="n">server</span><span class="ss">:/</span><span class="n">export</span><span class="w">  </span><span class="o">/</span><span class="n">mnt</span><span class="w">  </span><span class="n">nfs4</span><span class="w">  </span><span class="n">sec</span><span class="o">=</span><span class="n">krb5p</span><span class="ss">:krb5i</span><span class="w">               </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">NFS</span><span class="o">.</span><span class="w">

           </span><span class="n">server</span><span class="ss">:/</span><span class="n">export</span><span class="w">  </span><span class="o">/</span><span class="n">usr</span><span class="w">  </span><span class="n">nfs</span><span class="w">   </span><span class="n">ro</span><span class="p">,</span><span class="n">nolock</span><span class="p">,</span><span class="n">nocto</span><span class="p">,</span><span class="n">actimeo</span><span class="o">=</span><span class="mi">3600</span><span class="w">  </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">link</span><span class="o">-</span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w">

           </span><span class="p" data-group-id="5219753821-1">[</span><span class="n">fe80</span><span class="o">::</span><span class="mi">215</span><span class="ss">:c5ff</span><span class="ss">:fb3e</span><span class="ss">:e2b1</span><span class="p">%</span><span class="n">eth0</span><span class="p" data-group-id="5219753821-1">]</span><span class="ss">:/</span><span class="n">export</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="w"> </span><span class="n">nfs</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">0</span></code></pre><p>TRANSPORT METHODS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="nc">Remote</span><span class="w"> </span><span class="nc">Procedure</span><span class="w"> </span><span class="nc">Calls</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">RPCs</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">discovers</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">endpoints</span><span class="w"> </span><span class="n">automatically</span><span class="p">,</span><span class="w"> </span><span class="n">handles</span><span class="w"> </span><span class="n">per</span><span class="o">-</span><span class="n">request</span><span class="w"> </span><span class="n">authentication</span><span class="p">,</span><span class="w">
   </span><span class="n">adjusts</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="n">endianness</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">retransmits</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">lost</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">RPC</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">replies</span><span class="w">
   </span><span class="n">flow</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">transport</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="4047351910-1">(</span><span class="mi">8</span><span class="p" data-group-id="4047351910-1">)</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">negotiate</span><span class="w"> </span><span class="n">proper</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mount</span><span class="w">  </span><span class="n">point</span><span class="o">.</span><span class="w">   </span><span class="nc">In</span><span class="w">  </span><span class="n">some</span><span class="w">  </span><span class="n">cases</span><span class="p">,</span><span class="w">
   </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">pays</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">explicitly</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w">

   </span><span class="nc">Traditionally</span><span class="p">,</span><span class="w">  </span><span class="nc">NFS</span><span class="w">  </span><span class="n">clients</span><span class="w">  </span><span class="n">used</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">exclusively</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">transmitting</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">  </span><span class="nc">Though</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">simple</span><span class="p">,</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">limitations</span><span class="w"> </span><span class="n">that</span><span class="w">
   </span><span class="n">prevent</span><span class="w"> </span><span class="n">smooth</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">common</span><span class="w"> </span><span class="n">deployment</span><span class="w"> </span><span class="n">environments</span><span class="o">.</span><span class="w">  </span><span class="nc">Even</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">insignificant</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">whole</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="p">;</span><span class="w">  </span><span class="n">as</span><span class="w">  </span><span class="n">such</span><span class="p">,</span><span class="w">
   </span><span class="n">retransmit</span><span class="w">  </span><span class="n">timeouts</span><span class="w">  </span><span class="n">are</span><span class="w">  </span><span class="n">usually</span><span class="w">  </span><span class="ow">in</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">subsecond</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">recover</span><span class="w"> </span><span class="n">quickly</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">dropped</span><span class="w"> </span><span class="n">requests</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">extraneous</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="n">load</span><span class="o">.</span><span class="w">

   </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">quite</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">specialized</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="nc">MTU</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NFSs</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p" data-group-id="4047351910-2">(</span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">network</span><span class="w">  </span><span class="n">environments</span><span class="w">  </span><span class="n">that</span><span class="w">  </span><span class="n">enable</span><span class="w">  </span><span class="n">jumbo</span><span class="w">
   </span><span class="nc">Ethernet</span><span class="w">  </span><span class="n">frames</span><span class="p" data-group-id="4047351910-2">)</span><span class="o">.</span><span class="w">   </span><span class="nc">In</span><span class="w">  </span><span class="n">such</span><span class="w">  </span><span class="n">environments</span><span class="p">,</span><span class="w">  </span><span class="n">trimming</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">rsize</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">wsize</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fits</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">just</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">few</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="p" data-group-id="4047351910-3">(</span><span class="ow">or</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">in</span><span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w">
   </span><span class="n">frame</span><span class="p" data-group-id="4047351910-3">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">advised</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">reduces</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">probability</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">MTU</span><span class="o">-</span><span class="n">sized</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w">

   </span><span class="nc">TCP</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">modern</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">implementations</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">performs</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">almost</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">conceivable</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">excellent</span><span class="w">  </span><span class="n">guarantees</span><span class="w">
   </span><span class="n">against</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">corruption</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">unreliability</span><span class="o">.</span><span class="w">  </span><span class="nc">TCP</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">mounting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">firewall</span><span class="o">.</span><span class="w">

   </span><span class="nc">Under</span><span class="w">  </span><span class="n">normal</span><span class="w"> </span><span class="n">circumstances</span><span class="p">,</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">frequently</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">As</span><span class="w"> </span><span class="n">such</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">aggressive</span><span class="w"> </span><span class="n">retransmit</span><span class="w"> </span><span class="n">timeout</span><span class="w">  </span><span class="n">setting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">un</span><span class="err">‐</span><span class="w">
   </span><span class="n">necessary</span><span class="o">.</span><span class="w"> </span><span class="nc">Typical</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ten</span><span class="w"> </span><span class="n">minutes</span><span class="o">.</span><span class="w">  </span><span class="nc">After</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">exhausts</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">retransmits</span><span class="w"> </span><span class="p" data-group-id="4047351910-4">(</span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">retrans</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="p" data-group-id="4047351910-4">)</span><span class="p">,</span><span class="w">  </span><span class="n">it</span><span class="w">  </span><span class="n">as</span><span class="err">‐</span><span class="w">
   </span><span class="n">sumes</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">network</span><span class="w">  </span><span class="n">partition</span><span class="w">  </span><span class="n">has</span><span class="w">  </span><span class="n">occurred</span><span class="p">,</span><span class="w">  </span><span class="ow">and</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reconnect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fresh</span><span class="w"> </span><span class="n">socket</span><span class="o">.</span><span class="w"> </span><span class="nc">Since</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="n">reliable</span><span class="p">,</span><span class="w"> </span><span class="n">rsize</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">wsize</span><span class="w"> </span><span class="n">can</span><span class="w">
   </span><span class="n">safely</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">largest</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">independent</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">MTU</span><span class="w"> </span><span class="n">size</span><span class="o">.</span></code></pre><p>   Using the mountproto mount option</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">applies</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">mounts</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">contacting</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s rpcbind service, its mountd service, its Network Lock Manager (NLM) service, and its NFS service.
   The exact transports employed by the Linux NFS client for each mount point depends on the settings of the transport mount options, which include proto, mountproto, udp, and tcp.

   The  client  sends Network Status Manager (NSM) notifications via UDP no matter what transport options are specified, but listens for server NSM notifications on both UDP and TCP.
   The NFS Access Control List (NFSACL) protocol shares the same transport as the main NFS service.

   If no transport options are specified, the Linux NFS client uses UDP to contact the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">service</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">services</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">transports</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">services</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="3025660353-1">(</span><span class="mi">8</span><span class="p" data-group-id="3025660353-1">)</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">discover</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">supports</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">retries</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">us</span><span class="err">‐</span><span class="w">
   </span><span class="n">ing</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">discovered</span><span class="w">  </span><span class="n">transports</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">advertise</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">misconfigured</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bg</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">ef</span><span class="err">‐</span><span class="w">
   </span><span class="n">fect</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">backgrounds</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">continues</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proto</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">udp</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tcp</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mountproto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">service</span><span class="w">
   </span><span class="ow">and</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">services</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">mountproto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">none</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proto</span><span class="p">,</span><span class="w"> </span><span class="n">udp</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">tcp</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">mountd</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w">
   </span><span class="n">command</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">discover</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">preferring</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">transports</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mountproto</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">proto</span><span class="w"> </span><span class="p" data-group-id="3025660353-2">(</span><span class="ow">or</span><span class="w"> </span><span class="n">udp</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">tcp</span><span class="p" data-group-id="3025660353-2">)</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mountproto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">initial</span><span class="w">  </span><span class="n">mountd</span><span class="w">  </span><span class="n">request</span><span class="p">,</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="n">the</span><span class="w">
   </span><span class="n">transport</span><span class="w">  </span><span class="n">specified</span><span class="w">  </span><span class="n">by</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">proto</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="p" data-group-id="3025660353-3">(</span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">udp</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">tcp</span><span class="w"> </span><span class="n">options</span><span class="p" data-group-id="3025660353-3">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">matter</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">appear</span><span class="o">.</span><span class="w">  </span><span class="nc">No</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">discovery</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="k">if</span><span class="w">
   </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">proto</span><span class="p">,</span><span class="w"> </span><span class="n">udp</span><span class="p">,</span><span class="w"> </span><span class="n">tcp</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">mountproto</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rightmost</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="w">
   </span><span class="n">takes</span><span class="w"> </span><span class="n">effect</span><span class="o">.</span></code></pre><p>   Using NFS over UDP on high-speed links</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="n">speed</span><span class="w"> </span><span class="n">links</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">Gigabit</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">corruption</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="n">problem</span><span class="w">  </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">triggered</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="n">loads</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">problems</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">fragment</span><span class="w"> </span><span class="n">reassembly</span><span class="o">.</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nc">Kilobytes</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w">
   </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">broken</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Ethernet</span><span class="w"> </span><span class="n">link</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">happens</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">layer</span><span class="w">
   </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">fragmentation</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w">  </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">identify</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">belong</span><span class="w"> </span><span class="n">together</span><span class="p">,</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">assigns</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">16</span><span class="n">bit</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">packet</span><span class="p">;</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">re</span><span class="err">‐</span><span class="w">
   </span><span class="n">ceiving</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">collect</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">combine</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">original</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">packet</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">reassembly</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">packet</span><span class="w">  </span><span class="n">reassembly</span><span class="w">  </span><span class="n">is</span><span class="w">  </span><span class="mi">30</span><span class="w">
   </span><span class="n">seconds</span><span class="p">;</span><span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">fragment</span><span class="p" data-group-id="5131683866-1">(</span><span class="n">s</span><span class="p" data-group-id="5131683866-1">)</span><span class="w"> </span><span class="n">got</span><span class="w"> </span><span class="n">lost</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">discards</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">re</span><span class="err">‐</span><span class="w">
   </span><span class="n">ceived</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">creates</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="n">speed</span><span class="w"> </span><span class="n">links</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">65536</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">fact</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">heavy</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">observe</span><span class="w">  </span><span class="n">that</span><span class="w">  </span><span class="n">the</span><span class="w">
   </span><span class="nc">IP</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

   </span><span class="nc">This</span><span class="w">  </span><span class="n">has</span><span class="w">  </span><span class="n">serious</span><span class="w"> </span><span class="n">effects</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="ss">reassembly</span><span class="p">:</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">fragment</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">lost</span><span class="p">,</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">fragment</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">arrive</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">timeout</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">combine</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">packet</span><span class="o">.</span><span class="w"> </span><span class="nc">Most</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">layers</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mismatched</span><span class="w"> </span><span class="n">reassembly</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UDP</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w">
   </span><span class="n">checksum</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">checksum</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">match</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">discard</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bad</span><span class="w"> </span><span class="n">packet</span><span class="o">.</span><span class="w">

   </span><span class="nc">However</span><span class="p">,</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">checksum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">only</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">chance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="mi">65536</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">payload</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">completely</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="p" data-group-id="5131683866-2">(</span><span class="n">which</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">isn</span><span class="err">&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">case</span><span class="p" data-group-id="5131683866-2">)</span><span class="o">.</span><span class="w">
   </span><span class="nc">If</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">silent</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">corruption</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">occur</span><span class="o">.</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">potential</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="n">seriously</span><span class="p">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Gigabit</span><span class="w"> </span><span class="nc">Ethernet</span><span class="o">.</span><span class="w">  </span><span class="nc">Network</span><span class="w"> </span><span class="n">speeds</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">100</span><span class="nc">Mbit</span><span class="o">/</span><span class="n">s</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">problematic</span><span class="p">,</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">traffic</span><span class="w">  </span><span class="n">patterns</span><span class="w">  </span><span class="nc">IP</span><span class="w">
   </span><span class="nc">ID</span><span class="w"> </span><span class="n">wrap</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

   </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">therefore</span><span class="w"> </span><span class="n">strongly</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">possible</span><span class="p">,</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">fragmentation</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">absolutely</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">Gigabit</span><span class="w"> </span><span class="nc">Ethernet</span><span class="p">,</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">steps</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mitigate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">probability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="ss">corruption</span><span class="p">:</span><span class="w">

   </span><span class="nc">Jumbo</span><span class="w"> </span><span class="ss">frames</span><span class="p">:</span><span class="w">  </span><span class="nc">Many</span><span class="w">  </span><span class="nc">Gigabit</span><span class="w">  </span><span class="n">network</span><span class="w"> </span><span class="n">cards</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">capable</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">transmitting</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="n">bigger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">1500</span><span class="w"> </span><span class="n">byte</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">traditional</span><span class="w"> </span><span class="nc">Ethernet</span><span class="p">,</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="mi">9000</span><span class="w"> </span><span class="n">bytes</span><span class="o">.</span><span class="w"> </span><span class="nc">Using</span><span class="w"> </span><span class="n">jumbo</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="n">of</span><span class="w">
                  </span><span class="mi">9000</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">8</span><span class="nc">K</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">fragmentation</span><span class="o">.</span><span class="w"> </span><span class="nc">Of</span><span class="w"> </span><span class="n">course</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">feasible</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">involved</span><span class="w">  </span><span class="n">stations</span><span class="w">  </span><span class="n">support</span><span class="w">  </span><span class="n">jumbo</span><span class="w">
                  </span><span class="n">frames</span><span class="o">.</span><span class="w">

                  </span><span class="nc">To</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">jumbo</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">cards</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">sufficient</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">MTU</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">9000</span><span class="o">.</span><span class="w">

   </span><span class="nc">Lower</span><span class="w"> </span><span class="n">reassembly</span><span class="w"> </span><span class="ss">timeout</span><span class="p">:</span><span class="w">
                  </span><span class="nc">By</span><span class="w">  </span><span class="n">lowering</span><span class="w">  </span><span class="n">this</span><span class="w">  </span><span class="n">timeout</span><span class="w">  </span><span class="n">below</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">wrap</span><span class="w"> </span><span class="n">around</span><span class="p">,</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">reassembly</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">prevented</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">well</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="k" data-group-id="5131683866-3">do</span><span class="w"> </span><span class="n">so</span><span class="p">,</span><span class="w"> </span><span class="n">simply</span><span class="w">
                  </span><span class="n">write</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p" data-group-id="5131683866-4">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5131683866-4">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">net</span><span class="o">/</span><span class="n">ipv4</span><span class="o">/</span><span class="n">ipfrag_time</span><span class="o">.</span><span class="w">

                  </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">greatly</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">probability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">IPID</span><span class="w"> </span><span class="n">clashes</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">Gigabit</span><span class="w"> </span><span class="n">link</span><span class="p">,</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="k">for</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">reasonable</span><span class="w">  </span><span class="n">timeout</span><span class="w">  </span><span class="ow">when</span><span class="w">  </span><span class="n">receiving</span><span class="w">
                  </span><span class="n">fragmented</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">distant</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span></code></pre><p>DATA AND METADATA COHERENCE</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Some</span><span class="w">  </span><span class="n">modern</span><span class="w">  </span><span class="n">cluster</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">perfect</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">  </span><span class="nc">Perfect</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">disparate</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expensive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">achieve</span><span class="p">,</span><span class="w"> </span><span class="n">especially</span><span class="w"> </span><span class="n">on</span><span class="w">
   </span><span class="n">wide</span><span class="w"> </span><span class="n">area</span><span class="w"> </span><span class="n">networks</span><span class="o">.</span><span class="w">  </span><span class="nc">As</span><span class="w"> </span><span class="n">such</span><span class="p">,</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">settles</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">weaker</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">satisfies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">sharing</span><span class="w"> </span><span class="n">types</span><span class="o">.</span></code></pre><p>   Close-to-open cache consistency</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Typically</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">sharing</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">completely</span><span class="w"> </span><span class="n">sequential</span><span class="o">.</span><span class="w">  </span><span class="nc">First</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">opens</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="p">,</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">closes</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">  </span><span class="nc">Then</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="n">opens</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reads</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">changes</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">opens</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">permitted</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">opener</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">GETATTR</span><span class="w"> </span><span class="ow">or</span><span class="w">
   </span><span class="nc">ACCESS</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">sends</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">regardless</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">freshness</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">attributes</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">application</span><span class="w"> </span><span class="n">closes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">pending</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">opener</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">view</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">changes</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">gives</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">an</span><span class="w">
   </span><span class="n">opportunity</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">close</span><span class="p" data-group-id="6866435317-1">(</span><span class="mi">2</span><span class="p" data-group-id="6866435317-1">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">flushing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">referred</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">close</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">open</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">consistency</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">CTO</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">entire</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">nocto</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span></code></pre><p>   Weak cache consistency</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">opportunities</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="sc">&#39;s data cache to contain stale data.  The NFS version 3 protocol introduced &quot;weak cache consistency&quot; (also known as WCC) which provides a
   way of efficiently checking a file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">identify</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="n">operations</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="8472287431-1">(</span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">asynchronous</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">behind</span><span class="p" data-group-id="8472287431-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">difficult</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="n">whether</span><span class="w">
   </span><span class="n">it</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="sc">&#39;s updates or some other client&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">altered</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="o">.</span></code></pre><p>   Attribute caching</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Use</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">noac</span><span class="w">  </span><span class="n">mount</span><span class="w">  </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">achieve</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">  </span><span class="nc">Almost</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">information</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">keeps</span><span class="w">
   </span><span class="n">this</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">load</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">effect</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="sc">&#39;s file attribute cache is disabled, so each operation that  needs
   to check a file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">forced</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">permits</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">quickly</span><span class="p">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cost</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">operations</span><span class="o">.</span><span class="w">

   </span><span class="nc">Be</span><span class="w">  </span><span class="n">careful</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">confuse</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="s">&quot;no data caching.&quot;</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">races</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">result</span><span class="w">
   </span><span class="ow">in</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">incoherence</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">designed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">cluster</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">serialization</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">absolute</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">clients</span><span class="w">  </span><span class="n">is</span><span class="w">
   </span><span class="n">required</span><span class="p">,</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locking</span><span class="o">.</span><span class="w"> </span><span class="nc">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">O_DIRECT</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">entirely</span><span class="o">.</span></code></pre><p>   File timestamp maintenance</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">NFS</span><span class="w">  </span><span class="n">servers</span><span class="w">  </span><span class="n">are</span><span class="w"> </span><span class="n">responsible</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">managing</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="9291941718-1">(</span><span class="n">atime</span><span class="p">,</span><span class="w"> </span><span class="n">ctime</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">mtime</span><span class="p" data-group-id="9291941718-1">)</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">accessed</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="sc">&#39;s timestamps are
   updated just like they would be on a filesystem local to an application.

   NFS clients cache file attributes, including timestamps.  A file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">retrieved</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Thus</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">may</span><span class="w">  </span><span class="n">be</span><span class="w">
   </span><span class="n">some</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">comply</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">standard</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">relies</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="sc">&#39;s mtime and ctime timestamps properly up to date.  It does this by flushing
   local data changes to the server before reporting mtime to applications via system calls such as stat(2).

   The Linux client handles atime updates more loosely, however.  NFS clients maintain good performance by caching data, but that means that application reads, which normally  update
   atime, are not reflected to the server where a file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">atime</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">maintained</span><span class="o">.</span><span class="w">

   </span><span class="nc">Because</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">behavior</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">atime</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="9291941718-2">(</span><span class="mi">8</span><span class="p" data-group-id="9291941718-2">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">particular</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">atime</span><span class="o">/</span><span class="n">noatime</span><span class="p">,</span><span class="w"> </span><span class="n">diratime</span><span class="o">/</span><span class="n">nodiratime</span><span class="p">,</span><span class="w"> </span><span class="n">relatime</span><span class="o">/</span><span class="n">norelatime</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">strictatime</span><span class="o">/</span><span class="n">nostrictatime</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mounts</span><span class="o">.</span><span class="w">

   </span><span class="o">/</span><span class="n">proc</span><span class="o">/</span><span class="n">mounts</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">relatime</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mounts</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">fact</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">atime</span><span class="w"> </span><span class="n">semantics</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="n">here</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">relatime</span><span class="w"> </span><span class="n">semantics</span><span class="o">.</span></code></pre><p>   Directory entry caching</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w">  </span><span class="nc">Linux</span><span class="w">  </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="nc">LOOKUP</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">exists</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">referred</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">result</span><span class="o">.</span><span class="w">
   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="9050122817-1">(</span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="nc">ENOENT</span><span class="p" data-group-id="9050122817-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">referred</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">result</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">watches</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="sc">&#39;s mtime.  If the client  detects  a  change  in  a  directory&#39;</span><span class="n">s</span><span class="w">
   </span><span class="n">mtime</span><span class="p">,</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">client</span><span class="w">  </span><span class="n">drops</span><span class="w">  </span><span class="n">all</span><span class="w">  </span><span class="n">cached</span><span class="w"> </span><span class="nc">LOOKUP</span><span class="w"> </span><span class="n">results</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w">  </span><span class="nc">Since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="sc">&#39;s mtime is a cached attribute, it may take some time before a client notices it has
   changed.  See the descriptions of the acdirmin, acdirmax, and noac mount options for more information about how long a directory&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mtime</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cached</span><span class="o">.</span><span class="w">

   </span><span class="nc">Caching</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">improves</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k" data-group-id="9050122817-2">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">  </span><span class="nc">Using</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">can</span><span class="w">  </span><span class="ow">in</span><span class="err">‐</span><span class="w">
   </span><span class="n">terfere</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">concurrently</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">creation</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">removal</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">quickly</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">lookupcache</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">some</span><span class="w">
   </span><span class="n">tuning</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">behavior</span><span class="o">.</span><span class="w">

   </span><span class="nc">Before</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">release</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">28</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">tracked</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">results</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">permitted</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">directory</span><span class="w">  </span><span class="n">entries</span><span class="w">  </span><span class="n">created</span><span class="w">  </span><span class="n">by</span><span class="w">  </span><span class="n">other</span><span class="w">  </span><span class="n">clients</span><span class="w">
   </span><span class="n">quickly</span><span class="w">  </span><span class="n">while</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">providing</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">benefits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">caching</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w">
   </span><span class="n">lookupcache</span><span class="o">=</span><span class="n">positive</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">ignores</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">validates</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">detect</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">either</span><span class="w">  </span><span class="n">cre</span><span class="err">‐</span><span class="w">
   </span><span class="n">ated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w">  </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">lookupcache</span><span class="o">=</span><span class="n">none</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">performance</span><span class="w"> </span><span class="n">penalty</span><span class="o">.</span><span class="w">  </span><span class="nc">Disabling</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">penalty</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">noac</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w">  </span><span class="n">caches</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">attributes</span><span class="w">  </span><span class="n">of</span><span class="w">
   </span><span class="n">files</span><span class="o">.</span></code></pre><p>   The sync mount option</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">treats</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">differently</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="p" data-group-id="4638463568-1">(</span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="4638463568-2">(</span><span class="mi">8</span><span class="p" data-group-id="4638463568-2">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="p" data-group-id="4638463568-1">)</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">neither</span><span class="w">
   </span><span class="n">sync</span><span class="w"> </span><span class="n">nor</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="p" data-group-id="4638463568-3">(</span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">async</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p" data-group-id="4638463568-3">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="ss">occur</span><span class="p">:</span><span class="w">

          </span><span class="nc">Memory</span><span class="w"> </span><span class="n">pressure</span><span class="w"> </span><span class="n">forces</span><span class="w"> </span><span class="n">reclamation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">resources</span><span class="o">.</span><span class="w">

          </span><span class="nc">An</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">flushes</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">explicitly</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sync</span><span class="p" data-group-id="4638463568-4">(</span><span class="mi">2</span><span class="p" data-group-id="4638463568-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">msync</span><span class="p" data-group-id="4638463568-5">(</span><span class="mi">2</span><span class="p" data-group-id="4638463568-5">)</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fsync</span><span class="p" data-group-id="4638463568-6">(</span><span class="mi">3</span><span class="p" data-group-id="4638463568-6">)</span><span class="o">.</span><span class="w">

          </span><span class="nc">An</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">closes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">close</span><span class="p" data-group-id="4638463568-7">(</span><span class="mi">2</span><span class="p" data-group-id="4638463568-7">)</span><span class="o">.</span><span class="w">

          </span><span class="nc">The</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">locked</span><span class="o">/</span><span class="n">unlocked</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">fcntl</span><span class="p" data-group-id="4638463568-8">(</span><span class="mi">2</span><span class="p" data-group-id="4638463568-8">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">words</span><span class="p">,</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">circumstances</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">flushed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w">
   </span><span class="n">returns</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">space</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherence</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">significant</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">cost</span><span class="o">.</span><span class="w">

   </span><span class="nc">Applications</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">O_SYNC</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">flag</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">force</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">go</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span></code></pre><p>   Using file locks with NFS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w">  </span><span class="nc">Network</span><span class="w">  </span><span class="nc">Lock</span><span class="w"> </span><span class="nc">Manager</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">manage</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="o">.</span><span class="w">  </span><span class="nc">To</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">recovery</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">reboot</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="w">
   </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Network</span><span class="w"> </span><span class="nc">Status</span><span class="w"> </span><span class="nc">Manager</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">  </span><span class="nc">In</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="nc">NLM</span><span class="w">
   </span><span class="ow">and</span><span class="w"> </span><span class="nc">NSM</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocols</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w">  </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="p">,</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NSM</span><span class="w"> </span><span class="n">services</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="n">automatically</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">  </span><span class="nc">Configure</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">fully</span><span class="o">-</span><span class="n">qualified</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">that</span><span class="w">
   </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">notify</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">reboots</span><span class="o">.</span><span class="w">

   </span><span class="nc">NLM</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">advisory</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">  </span><span class="nc">To</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">fcntl</span><span class="p" data-group-id="3217546710-1">(</span><span class="mi">2</span><span class="p" data-group-id="3217546710-1">)</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">F_GETLK</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">F_SETLK</span><span class="w"> </span><span class="n">commands</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">converts</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">obtained</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">flock</span><span class="p" data-group-id="3217546710-2">(</span><span class="mi">2</span><span class="p" data-group-id="3217546710-2">)</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">advi</span><span class="err">‐</span><span class="w">
   </span><span class="n">sory</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="n">mounting</span><span class="w">  </span><span class="n">servers</span><span class="w">  </span><span class="n">that</span><span class="w"> </span><span class="k" data-group-id="3217546710-3">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">mounting</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nolock</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">
   </span><span class="nc">NLM</span><span class="w"> </span><span class="n">locking</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nolock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NLM</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="o">.</span><span class="w">

   </span><span class="nc">Specifying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nolock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">advised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">proprietary</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locks</span><span class="w"> </span><span class="n">extensively</span><span class="o">.</span></code></pre><p>   NFS version 4 caching features</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">behavior</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">earlier</span><span class="w"> </span><span class="n">versions</span><span class="o">.</span><span class="w">  </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">adds</span><span class="w"> </span><span class="n">two</span><span class="w">  </span><span class="n">features</span><span class="w">  </span><span class="n">that</span><span class="w">  </span><span class="n">improve</span><span class="w">  </span><span class="n">cache</span><span class="w">  </span><span class="ss">behavior</span><span class="p">:</span><span class="w">
   </span><span class="n">change</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">delegation</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="n">change</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">tracks</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">changes</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">replaces</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="sc">&#39;s modification and change time stamps as a way for
   clients to validate the content of their caches.  Change attributes are independent of the time stamp resolution on either the server or client, however.

   A file delegation is a contract between an NFS version 4 client and server that allows the client to treat a file temporarily as if no other client is accessing  it.   The  server
   promises  to  notify  the  client  (via  a callback request) if another client attempts to access that file.  Once a file has been delegated to a client, the client can cache that
   file&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="n">aggressively</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">contacting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

   </span><span class="nc">File</span><span class="w"> </span><span class="n">delegations</span><span class="w"> </span><span class="n">come</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="ss">flavors</span><span class="p">:</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">write</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">delegation</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">notifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">write</span><span class="w">
   </span><span class="n">delegation</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">notified</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">accessors</span><span class="o">.</span><span class="w">

   </span><span class="nc">Servers</span><span class="w">  </span><span class="n">grant</span><span class="w">  </span><span class="n">file</span><span class="w"> </span><span class="n">delegations</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">opened</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">recall</span><span class="w"> </span><span class="n">delegations</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">wants</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">conflicts</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">delegations</span><span class="w"> </span><span class="n">al</span><span class="err">‐</span><span class="w">
   </span><span class="n">ready</span><span class="w"> </span><span class="n">granted</span><span class="o">.</span><span class="w">  </span><span class="nc">Delegations</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">delegation</span><span class="w"> </span><span class="n">callback</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="k">with</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">client</span><span class="w">
   </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">established</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">simply</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">grant</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">delegations</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="o">.</span></code></pre><p>SECURITY CONSIDERATIONS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">Traditional</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">mimics</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w">
   </span><span class="n">mode</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="o">.</span><span class="w">  </span><span class="nc">Traditional</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">represent</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="p" data-group-id="1633557037-1">(</span><span class="n">usually</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="sc">&#39;s own uid), a  number  to  represent
   the user&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">group</span><span class="w"> </span><span class="p" data-group-id="1633557037-2">(</span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="sc">&#39;s gid), and a set of up to 16 auxiliary group numbers to represent other groups of which the user may be a member.

   Typically,  file  data  and  user  ID values appear unencrypted (i.e. &quot;in the clear&quot;) on the network.  Moreover, NFS versions 2 and 3 use separate sideband protocols for mounting,
   locking and unlocking files, and reporting system status of clients and servers.  These auxiliary protocols use no authentication.

   In addition to combining these sideband protocols with the main NFS protocol, NFS version 4 introduces more advanced forms of access control, authentication, and  in-transit  data
   protection.   The  NFS version 4 specification mandates support for strong authentication and security flavors that provide per-RPC integrity checking and encryption.  Because NFS
   version 4 combines the function of the sideband protocols into the main NFS protocol, the new security features apply to all NFS version  4  operations  including  mounting,  file
   locking, and so on.  RPCGSS authentication can also be used with NFS versions 2 and 3, but it does not protect their sideband protocols.

   The  sec  mount  option specifies the security flavor used for operations on behalf of users on that NFS mount point.  Specifying sec=krb5 provides cryptographic proof of a user&#39;</span><span class="n">s</span><span class="w">
   </span><span class="n">identity</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">strong</span><span class="w"> </span><span class="n">verification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">identity</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="n">accessing</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">additional</span><span class="w">  </span><span class="n">configuration</span><span class="w">  </span><span class="n">besides</span><span class="w">  </span><span class="n">adding</span><span class="w">  </span><span class="n">this</span><span class="w">
   </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="n">security</span><span class="o">.</span><span class="w">  </span><span class="nc">Refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rpc</span><span class="o">.</span><span class="n">gssd</span><span class="p" data-group-id="1633557037-3">(</span><span class="mi">8</span><span class="p" data-group-id="1633557037-3">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

   </span><span class="nc">Two</span><span class="w">  </span><span class="n">additional</span><span class="w"> </span><span class="n">flavors</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ss">supported</span><span class="p">:</span><span class="w"> </span><span class="n">krb5i</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">krb5p</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">krb5i</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">flavor</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cryptographically</span><span class="w"> </span><span class="n">strong</span><span class="w"> </span><span class="n">guarantee</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">re</span><span class="err">‐</span><span class="w">
   </span><span class="n">quest</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">tampered</span><span class="w"> </span><span class="k">with</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">krb5p</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">flavor</span><span class="w"> </span><span class="n">encrypts</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">exposure</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">transit</span><span class="p">;</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">expect</span><span class="w">  </span><span class="n">some</span><span class="w">  </span><span class="n">performance</span><span class="w">  </span><span class="n">impact</span><span class="w">
   </span><span class="ow">when</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">integrity</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">encryption</span><span class="o">.</span><span class="w">  </span><span class="nc">Similar</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">forms</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">cryptographic</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">available</span><span class="o">.</span></code></pre><p>   NFS version 4 filesystem crossing</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w">  </span><span class="nc">NFS</span><span class="w">  </span><span class="n">version</span><span class="w">  </span><span class="mi">4</span><span class="w">  </span><span class="n">protocol</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">renegotiate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">flavor</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">crosses</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">negotiated</span><span class="w"> </span><span class="n">flavor</span><span class="w"> </span><span class="n">effects</span><span class="w">
   </span><span class="n">only</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">filesystem</span><span class="o">.</span><span class="w">

   </span><span class="nc">Such</span><span class="w"> </span><span class="n">negotiation</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">occurs</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">crosses</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="sc">&#39;s pseudo-fs into one of the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">exported</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">filesystems</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w">  </span><span class="n">restrictive</span><span class="w">  </span><span class="n">secu</span><span class="err">‐</span><span class="w">
   </span><span class="n">rity</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pseudo</span><span class="o">-</span><span class="n">fs</span><span class="o">.</span></code></pre><p>   NFS version 4 Leases</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">In</span><span class="w">  </span><span class="nc">NFS</span><span class="w">  </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">irrevocably</span><span class="w"> </span><span class="n">grants</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">  </span><span class="nc">Once</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">expires</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">revoke</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">locks</span><span class="o">.</span><span class="w">  </span><span class="nc">Clients</span><span class="w"> </span><span class="n">periodi</span><span class="err">‐</span><span class="w">
   </span><span class="n">cally</span><span class="w"> </span><span class="n">renew</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">leases</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">revocation</span><span class="o">.</span><span class="w">

   </span><span class="nc">After</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">reboots</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">tells</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">continue</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">client</span><span class="w">  </span><span class="n">reboots</span><span class="p">,</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">frees</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">associated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="sc">&#39;s lease.

   When  establishing  a  lease, therefore, a client must identify itself to a server.  Each client presents an arbitrary string to distinguish itself from other clients.  The client
   administrator can supplement the default identity string using the nfs4.nfs4_unique_id module parameter to avoid collisions with other client identity strings.

   A client also uses a unique security flavor and principal when it establishes its lease.  If two clients present the same identity string, a server can use  client  principals  to
   distinguish between them, thus securely preventing one client from interfering with the other&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">lease</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="nc">Linux</span><span class="w">  </span><span class="nc">NFS</span><span class="w">  </span><span class="n">client</span><span class="w"> </span><span class="n">establishes</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">Lease</span><span class="w"> </span><span class="n">management</span><span class="w"> </span><span class="n">operations</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">renewal</span><span class="p">,</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">done</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">behalf</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">lock</span><span class="p">,</span><span class="w">
   </span><span class="n">user</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">behalf</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">owns</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">lease</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">consistent</span><span class="w"> </span><span class="n">identity</span><span class="w"> </span><span class="n">string</span><span class="p">,</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">flavor</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">principal</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">reboots</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ensure</span><span class="w">
   </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">promptly</span><span class="w"> </span><span class="n">reap</span><span class="w"> </span><span class="n">expired</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="nc">Kerberos</span><span class="w">  </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="p" data-group-id="5800705749-1">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">krb5</span><span class="o">.</span><span class="n">keytab</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="p" data-group-id="5800705749-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">attempts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">flavor</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">lease</span><span class="w"> </span><span class="n">manage</span><span class="err">‐</span><span class="w">
   </span><span class="n">ment</span><span class="w"> </span><span class="n">operations</span><span class="o">.</span><span class="w">  </span><span class="nc">Kerberos</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">secure</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w">  </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="o">/</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">nfs</span><span class="o">/</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">principal</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">krb5</span><span class="o">.</span><span class="n">keytab</span><span class="w">  </span><span class="k">for</span><span class="w">  </span><span class="n">this</span><span class="w">  </span><span class="n">pur</span><span class="err">‐</span><span class="w">
   </span><span class="n">pose</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">rpc</span><span class="o">.</span><span class="n">gssd</span><span class="p" data-group-id="5800705749-2">(</span><span class="mi">8</span><span class="p" data-group-id="5800705749-2">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="nc">Kerberos</span><span class="w"> </span><span class="n">configured</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">keytab</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">requisite</span><span class="w"> </span><span class="n">service</span><span class="w"> </span><span class="n">principals</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">AUTH_SYS</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w">
   </span><span class="n">lease</span><span class="w"> </span><span class="n">management</span><span class="o">.</span></code></pre><p>   Using non-privileged source ports</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">NFS</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="n">communicate</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">sockets</span><span class="o">.</span><span class="w">  </span><span class="nc">Each</span><span class="w"> </span><span class="k">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">assigned</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">simply</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="ow">and</span><span class="w">  </span><span class="mi">65535</span><span class="w">  </span><span class="n">that</span><span class="w">  </span><span class="n">distin</span><span class="err">‐</span><span class="w">
   </span><span class="n">guishes</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">endpoints</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">uniquely</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="p" data-group-id="7704919936-1">(</span><span class="nc">TCP</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">UDP</span><span class="p" data-group-id="7704919936-1">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">of</span><span class="w">
   </span><span class="n">both</span><span class="w"> </span><span class="n">endpoints</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">choose</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">sockets</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="n">chooses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1024</span><span class="o">.</span><span class="w">   </span><span class="nc">Only</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">process</span><span class="w">  </span><span class="k">with</span><span class="w">
   </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">exact</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sysctls</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">choosing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">well</span><span class="o">-</span><span class="n">known</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">ssh</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w">
   </span><span class="n">of</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">therefore</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">practically</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">few</span><span class="w"> </span><span class="n">hundred</span><span class="o">.</span><span class="w">

   </span><span class="nc">As</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="n">above</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">traditional</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">scheme</span><span class="p">,</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">AUTH_SYS</span><span class="p">,</span><span class="w"> </span><span class="n">relies</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">identify</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="n">making</span><span class="w">  </span><span class="nc">NFS</span><span class="w">  </span><span class="n">requests</span><span class="o">.</span><span class="w">   </span><span class="nc">An</span><span class="w">
   </span><span class="nc">NFS</span><span class="w">  </span><span class="n">server</span><span class="w">  </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="n">numbers</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="ow">or</span><span class="w">
   </span><span class="n">some</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">authority</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">easy</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">spoof</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">hosts</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">entirely</span><span class="w"> </span><span class="n">adequate</span><span class="o">.</span><span class="w">

   </span><span class="nc">Roughly</span><span class="w"> </span><span class="n">speaking</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">point</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">well</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">allowed</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">thus</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">num</span><span class="err">‐</span><span class="w">
   </span><span class="n">ber</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">concurrent</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="p">,</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">larger</span><span class="o">.</span><span class="w">

   </span><span class="nc">Using</span><span class="w">  </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">compromise</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">somewhat</span><span class="p">,</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">AUTH_SYS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">pretend</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">  </span><span class="nc">Thus</span><span class="w">
   </span><span class="nc">NFS</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="k" data-group-id="7704919936-2">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w">  </span><span class="nc">They</span><span class="w"> </span><span class="n">explicitly</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">retain</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">possible</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">privileged</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w">  </span><span class="n">both</span><span class="w">  </span><span class="kn">require</span><span class="w">  </span><span class="n">strong</span><span class="w">
   </span><span class="n">authentication</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">Kerberos</span><span class="o">.</span></code></pre><p>   Mounting through a firewall</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">A</span><span class="w">  </span><span class="n">firewall</span><span class="w">  </span><span class="n">may</span><span class="w"> </span><span class="n">reside</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">ports</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">rules</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="n">through</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">firewall</span><span class="p">,</span><span class="w"> </span><span class="n">though</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="7533528986-1">(</span><span class="mi">8</span><span class="p" data-group-id="7533528986-1">)</span><span class="w"> </span><span class="n">command</span><span class="sc">&#39;s automatic service endpoint discovery mechanisms may not work; this requires you to provide specific endpoint details  via
   NFS mount options.

   NFS servers normally run a portmapper or rpcbind daemon to advertise their service endpoints to clients. Clients use the rpcbind daemon to determine:

          What network port each RPC-based service is using

          What transport protocols each RPC-based service supports

   The  rpcbind daemon uses a well-known port number (111) to help clients find a service endpoint.  Although NFS often uses a standard port number (2049), auxiliary services such as
   the NLM service can choose any unused port number at random.

   Common firewall configurations block the well-known rpcbind port.  In the absense of an rpcbind service, the server administrator fixes the port number of NFS-related services  so
   that  the  firewall can allow access to specific NFS service ports.  Client administrators then specify the port number for the mountd service via the mount(8) command&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">mountport</span><span class="w">
   </span><span class="n">option</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enforce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">transports</span><span class="o">.</span></code></pre><p>   NFS Access Control Lists</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Solaris</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="nc">Access</span><span class="w"> </span><span class="nc">Control</span><span class="w"> </span><span class="nc">Lists</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">systems</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">proprietary</span><span class="w"> </span><span class="n">sideband</span><span class="w"> </span><span class="n">protocol</span><span class="p">,</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">as</span><span class="w">  </span><span class="nc">NFSACL</span><span class="p">,</span><span class="w">  </span><span class="n">provides</span><span class="w">
   </span><span class="n">richer</span><span class="w">  </span><span class="n">access</span><span class="w">  </span><span class="n">control</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">bits</span><span class="o">.</span><span class="w">  </span><span class="nc">Linux</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compatibility</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Solaris</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">implementation</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFSACL</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">became</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">specification</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">specification</span><span class="w"> </span><span class="n">mandates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Access</span><span class="w"> </span><span class="nc">Control</span><span class="w"> </span><span class="nc">Lists</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">semantically</span><span class="w"> </span><span class="n">richer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="nc">ACLs</span><span class="o">.</span><span class="w">  </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="nc">ACLs</span><span class="w">  </span><span class="n">are</span><span class="w">  </span><span class="ow">not</span><span class="w">  </span><span class="n">fully</span><span class="w">  </span><span class="n">compatible</span><span class="w">  </span><span class="k">with</span><span class="w">
   </span><span class="nc">POSIX</span><span class="w"> </span><span class="nc">ACLs</span><span class="p">;</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">such</span><span class="p">,</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">translation</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">mixes</span><span class="w"> </span><span class="nc">POSIX</span><span class="w"> </span><span class="nc">ACLs</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span></code></pre><p>THE REMOUNT OPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Generic</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rw</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sync</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">modified</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remount</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">  </span><span class="nc">See</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6411094535-1">(</span><span class="mi">8</span><span class="p" data-group-id="6411094535-1">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w">

   </span><span class="nc">With</span><span class="w"> </span><span class="n">few</span><span class="w"> </span><span class="n">exceptions</span><span class="p">,</span><span class="w"> </span><span class="nc">NFS</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">modified</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">remount</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">underlying</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">remount</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="o">.</span><span class="w">

   </span><span class="nc">Performing</span><span class="w">  </span><span class="n">a</span><span class="w">  </span><span class="n">remount</span><span class="w">  </span><span class="n">on</span><span class="w">  </span><span class="n">an</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">unintended</span><span class="w"> </span><span class="n">consequences</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">noac</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">generic</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sync</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="nc">NFS</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">actimeo</span><span class="o">=</span><span class="mi">0</span><span class="o">.</span></code></pre><p>   Unmounting after a remount</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">For</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">points</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">umount</span><span class="w"> </span><span class="n">subcommand</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">knowing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">original</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">MNT</span><span class="w"> </span><span class="n">operation</span><span class="o">.</span><span class="w">  </span><span class="nc">These</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w">
   </span><span class="n">stored</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">subcommand</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">erased</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">remount</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w">  </span><span class="n">ensure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">erased</span><span class="w"> </span><span class="n">during</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">remount</span><span class="p">,</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">directory</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">pathname</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">both</span><span class="p">,</span><span class="w"> </span><span class="n">during</span><span class="w">
   </span><span class="n">a</span><span class="w"> </span><span class="n">remount</span><span class="o">.</span><span class="w">  </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w">

           </span><span class="n">mount</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">remount</span><span class="p">,</span><span class="n">ro</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="w">

   </span><span class="n">merges</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">ro</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mount</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">mounted</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">mnt</span><span class="o">.</span></code></pre><p>FILES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">fstab</span><span class="w">     </span><span class="n">file</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">table</span><span class="w">

   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">nfsmount</span><span class="o">.</span><span class="n">conf</span><span class="w">
                  </span><span class="nc">Configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">mounts</span></code></pre><p>NOTES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Before</span><span class="w"> </span><span class="mf">2.4</span><span class="o">.</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">TCP</span><span class="o">.</span><span class="w">

   </span><span class="nc">Before</span><span class="w"> </span><span class="mf">2.4</span><span class="o">.</span><span class="mi">20</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">heuristic</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">close</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">open</span><span class="w"> </span><span class="n">cache</span><span class="w"> </span><span class="n">coherency</span><span class="w"> </span><span class="n">method</span><span class="w">  </span><span class="n">de</span><span class="err">‐</span><span class="w">
   </span><span class="n">scribed</span><span class="w"> </span><span class="n">above</span><span class="o">.</span><span class="w">

   </span><span class="nc">Starting</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="mf">2.4</span><span class="o">.</span><span class="mi">22</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">employs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Van</span><span class="w"> </span><span class="nc">Jacobsen</span><span class="o">-</span><span class="n">based</span><span class="w"> </span><span class="nc">RTT</span><span class="w"> </span><span class="n">estimator</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">retransmit</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">UDP</span><span class="o">.</span><span class="w">

   </span><span class="nc">Before</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">did</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w">

   </span><span class="nc">Before</span><span class="w"> </span><span class="mf">2.6</span><span class="o">.</span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">synchronous</span><span class="w"> </span><span class="n">reads</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rsize</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">wsize</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="sc">&#39;s page size.

   The  Linux  client&#39;</span><span class="n">s</span><span class="w">  </span><span class="n">support</span><span class="w">  </span><span class="k">for</span><span class="w">  </span><span class="n">protocol</span><span class="w">  </span><span class="n">versions</span><span class="w">  </span><span class="n">depend</span><span class="w">  </span><span class="n">on</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="nc">CONFIG_NFS_V2</span><span class="p">,</span><span class="w"> </span><span class="nc">CONFIG_NFS_V3</span><span class="p">,</span><span class="w"> </span><span class="nc">CONFIG_NFS_V4</span><span class="p">,</span><span class="w"> </span><span class="nc">CONFIG_NFS_V4_1</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">CON</span><span class="err">‐</span><span class="w">
   </span><span class="nc">FIG_NFS_V4_2</span><span class="o">.</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">fstab</span><span class="p" data-group-id="6228189861-1">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">mount</span><span class="p" data-group-id="6228189861-2">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">umount</span><span class="p" data-group-id="6228189861-3">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-3">)</span><span class="p">,</span><span class="w"> </span><span class="n">mount</span><span class="o">.</span><span class="n">nfs</span><span class="p" data-group-id="6228189861-4">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">umount</span><span class="o">.</span><span class="n">nfs</span><span class="p" data-group-id="6228189861-5">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">exports</span><span class="p" data-group-id="6228189861-6">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-6">)</span><span class="p">,</span><span class="w"> </span><span class="n">nfsmount</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="6228189861-7">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">netconfig</span><span class="p" data-group-id="6228189861-8">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-8">)</span><span class="p">,</span><span class="w"> </span><span class="n">ipv6</span><span class="p" data-group-id="6228189861-9">(</span><span class="mi">7</span><span class="p" data-group-id="6228189861-9">)</span><span class="p">,</span><span class="w"> </span><span class="n">nfsd</span><span class="p" data-group-id="6228189861-10">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-10">)</span><span class="p">,</span><span class="w"> </span><span class="n">sm</span><span class="o">-</span><span class="n">notify</span><span class="p" data-group-id="6228189861-11">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-11">)</span><span class="p">,</span><span class="w"> </span><span class="n">rpc</span><span class="o">.</span><span class="n">statd</span><span class="p" data-group-id="6228189861-12">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-12">)</span><span class="p">,</span><span class="w">  </span><span class="n">rpc</span><span class="o">.</span><span class="n">idmapd</span><span class="p" data-group-id="6228189861-13">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-13">)</span><span class="p">,</span><span class="w">  </span><span class="n">rpc</span><span class="o">.</span><span class="n">gssd</span><span class="p" data-group-id="6228189861-14">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-14">)</span><span class="p">,</span><span class="w">
   </span><span class="n">rpc</span><span class="o">.</span><span class="n">svcgssd</span><span class="p" data-group-id="6228189861-15">(</span><span class="mi">8</span><span class="p" data-group-id="6228189861-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">kerberos</span><span class="p" data-group-id="6228189861-16">(</span><span class="mi">1</span><span class="p" data-group-id="6228189861-16">)</span><span class="w">

   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">768</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">793</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">1813</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">1832</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">XDR</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">1833</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RPC</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">2203</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RPCSEC</span><span class="w"> </span><span class="nc">GSS</span><span class="w"> </span><span class="nc">API</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">7530</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.0</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5661</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.1</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">
   </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">7862</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NFS</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.2</span><span class="w"> </span><span class="n">specification</span><span class="o">.</span><span class="w">

                                                                                  </span><span class="mi">9</span><span class="w"> </span><span class="nc">October</span><span class="w"> </span><span class="mi">2012</span><span class="w">                                                                                </span><span class="nc">NFS</span><span class="p" data-group-id="6228189861-17">(</span><span class="mi">5</span><span class="p" data-group-id="6228189861-17">)</span></code></pre>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="nfs-conf.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
nfs.conf
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="nfsmount-conf.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
nfsmount.conf
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

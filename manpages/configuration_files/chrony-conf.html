<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="Manpages v3.0.0">


    <title>chrony.conf — Manpages v3.0.0</title>

    <link rel="stylesheet" href="dist/html-elixir-KV3YOVJ3.css" />

    <script defer src="dist/sidebar_items-23381D40.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>
<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Manpages" />
        </a>

      <div>
        <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.0.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras="MANUALS"></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Manpages</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>chrony.conf</h1>


  </div>


<p>CHRONY.CONF(5)                                                                        Configuration Files                                                                       CHRONY.CONF(5)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">configures</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">daemon</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="o">.</span><span class="w"> </span><span class="nc">Other</span><span class="w"> </span><span class="n">locations</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="nc">Each</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">placed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">sections</span><span class="w"> </span><span class="n">describe</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">turn</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">case</span><span class="o">-</span><span class="n">sensitive</span><span class="o">.</span><span class="w">
   </span><span class="nc">Generally</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">occur</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">effective</span><span class="o">.</span><span class="w"> </span><span class="nc">Exceptions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">descriptions</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">parsed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w">

   </span><span class="nc">While</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">large</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">few</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">needed</span><span class="o">.</span><span class="w"> </span><span class="nc">See</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">EXAMPLES</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">typical</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">scenarios</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="n">lines</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">spaces</span><span class="w"> </span><span class="n">followed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">characters</span><span class="p">:</span><span class="w"> </span><span class="o">!</span><span class="p">,</span><span class="w"> </span><span class="p">;</span><span class="p">,</span><span class="w"> </span><span class="c1">#, %. Any</span><span class="w">
   </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span></code></pre><p>DIRECTIVES
   Time sources</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">server</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="p" data-group-id="1718153229-1">[</span><span class="n">option</span><span class="p" data-group-id="1718153229-1">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">client</span><span class="o">-</span><span class="n">server</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">strictly</span><span class="w"> </span><span class="ss">hierarchical</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">system</span><span class="w">
       </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">influenced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">resolved</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">again</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">increasing</span><span class="w"> </span><span class="n">intervals</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w">
       </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">DNS</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">newly</span><span class="w"> </span><span class="n">resolved</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">becomes</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="p" data-group-id="1718153229-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="mi">8</span><span class="w">
       </span><span class="n">requests</span><span class="p" data-group-id="1718153229-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">unsynchronised</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="p" data-group-id="1718153229-3">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="p" data-group-id="1718153229-3">)</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="p" data-group-id="1718153229-4">(</span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdistance</span><span class="w">
       </span><span class="n">directive</span><span class="p" data-group-id="1718153229-4">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">automatic</span><span class="w"> </span><span class="n">replacement</span><span class="w"> </span><span class="n">happens</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">minutes</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">minpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">mean</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">should</span><span class="w">
           </span><span class="ow">not</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="1718153229-5">(</span><span class="mi">64</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="1718153229-6">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="1718153229-6">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="p" data-group-id="1718153229-7">(</span><span class="mi">6</span><span class="w"> </span><span class="n">months</span><span class="p" data-group-id="1718153229-7">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="1718153229-8">(</span><span class="mi">64</span><span class="w">
           </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-8">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">generally</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">abuse</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">milliseconds</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w">

       </span><span class="n">maxpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">maxpoll</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">should</span><span class="w">
           </span><span class="n">stay</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="1718153229-9">(</span><span class="mi">512</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-9">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="p" data-group-id="1718153229-10">(</span><span class="mi">1024</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-10">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="1718153229-11">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">128</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="1718153229-11">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">24</span><span class="w"> </span><span class="p" data-group-id="1718153229-12">(</span><span class="mi">6</span><span class="w"> </span><span class="n">months</span><span class="p" data-group-id="1718153229-12">)</span><span class="o">.</span><span class="w">

       </span><span class="n">iburst</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">4</span><span class="o">-</span><span class="mi">8</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">sooner</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">repeat</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">switched</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="n">burst</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">current</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w">
           </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w">

       </span><span class="n">key</span><span class="w"> </span><span class="nc">ID</span><span class="w">
           </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p" data-group-id="1718153229-13">(</span><span class="nc">MAC</span><span class="p" data-group-id="1718153229-13">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">upset</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">rogue</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">them</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">MAC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">as</span><span class="w">
           </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keyfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="p" data-group-id="1718153229-14">(</span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="p" data-group-id="1718153229-14">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">responses</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">configured</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">relationship</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">possible</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">160</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="p" data-group-id="1718153229-15">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHA256</span><span class="p" data-group-id="1718153229-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="k">for</span><span class="w">
           </span><span class="n">compatibility</span><span class="o">.</span><span class="w">

       </span><span class="n">nts</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Network</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="1718153229-16">(</span><span class="nc">NTS</span><span class="p" data-group-id="1718153229-16">)</span><span class="w"> </span><span class="n">mechanism</span><span class="o">.</span><span class="w"> </span><span class="nc">Unlike</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k" data-group-id="1718153229-17">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">share</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">
           </span><span class="nc">NTS</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Key</span><span class="w"> </span><span class="nc">Establishment</span><span class="w"> </span><span class="p" data-group-id="1718153229-18">(</span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="p" data-group-id="1718153229-18">)</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Transport</span><span class="w"> </span><span class="nc">Layer</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="1718153229-19">(</span><span class="nc">TLS</span><span class="p" data-group-id="1718153229-19">)</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">respectively</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">usually</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w">
           </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">separated</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="1718153229-20">(</span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="p" data-group-id="1718153229-20">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Subject</span><span class="w"> </span><span class="nc">Alternative</span><span class="w"> </span><span class="nc">Name</span><span class="w"> </span><span class="p" data-group-id="1718153229-21">(</span><span class="nc">SAN</span><span class="p" data-group-id="1718153229-21">)</span><span class="o">.</span><span class="w">

       </span><span class="n">certset</span><span class="w"> </span><span class="nc">ID</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w"> </span><span class="nc">Sets</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w">
           </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="n">authorities</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="n">chronyd</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="o">.</span><span class="w"> </span><span class="nc">Long</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w">
           </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">delayed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">delayed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">substantial</span><span class="o">.</span><span class="w">

           </span><span class="nc">For</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">variations</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">scheme</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">beyond</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w">
           </span><span class="n">likely</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">corrupted</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useless</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="1718153229-22">(</span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">wireless</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">links</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">highly</span><span class="w"> </span><span class="n">asymmetric</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="n">caused</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="n">behind</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">sort</span><span class="p" data-group-id="1718153229-22">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">round</span><span class="w"> </span><span class="n">trip</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w">
           </span><span class="n">maxdelay</span><span class="w"> </span><span class="mf">0.3</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mf">0.3</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1000</span><span class="w">
           </span><span class="n">seconds</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelayratio</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">above</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">record</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">buffered</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w">
           </span><span class="n">measurements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">ratio</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">10.0</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdelayquant</span><span class="w"> </span><span class="n">p</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">quantile</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">buffered</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="o">-</span><span class="n">term</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">p</span><span class="o">-</span><span class="n">quantile</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mf">0.05</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">0.95</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">maxdelayquant</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lowest</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="n">percent</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delays</span><span class="w">
           </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">accepted</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">quantile</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">mostly</span><span class="w">
           </span><span class="n">static</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">possibly</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">favour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">test</span><span class="o">.</span><span class="w">

       </span><span class="n">mindelay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">amongst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">static</span><span class="w">
           </span><span class="n">configuration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">asymmetric</span><span class="w"> </span><span class="n">jitter</span><span class="p">,</span><span class="w"> </span><span class="n">weighting</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelayratio</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="n">tests</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">should</span><span class="w">
           </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">accurately</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">ratio</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">according</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">+</span><span class="mf">0.5</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">back</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w">
           </span><span class="n">estimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="n">offset</span><span class="w"> </span><span class="n">offset</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="p" data-group-id="1718153229-23">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-23">)</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">network</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">errors</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">delayed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">microseconds</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">back</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">correction</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="o">-</span><span class="mf">0.00005</span><span class="w"> </span><span class="p" data-group-id="1718153229-24">(</span><span class="o">-</span><span class="mi">50</span><span class="w"> </span><span class="n">microseconds</span><span class="p" data-group-id="1718153229-24">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.0</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">filter</span><span class="w"> </span><span class="n">polls</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">collected</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">polls</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w">
           </span><span class="n">intended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">traffic</span><span class="o">.</span><span class="w">

       </span><span class="n">offline</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k" data-group-id="1718153229-25">do</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="p" data-group-id="1718153229-26">(</span><span class="n">by</span><span class="w">
           </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="1718153229-26">)</span><span class="o">.</span><span class="w">

       </span><span class="n">auto_offline</span><span class="w">
           </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">gone</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">missing</span><span class="w"> </span><span class="n">route</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">avoids</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">disconnecting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="1718153229-27">(</span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">established</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w">
           </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="p" data-group-id="1718153229-27">)</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">Prefer</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">noselect</span><span class="w">
           </span><span class="nc">Never</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="o">.</span><span class="w">

       </span><span class="n">trust</span><span class="w">
           </span><span class="nc">Assume</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="no">true</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Require</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="1718153229-28">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="p" data-group-id="1718153229-28">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">updating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Together</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">safely</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">
           </span><span class="nc">They</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="n">xleave</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="1718153229-29">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamps</span><span class="p" data-group-id="1718153229-29">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">refer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">basic</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">as</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">requires</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">dropped</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="p" data-group-id="1718153229-30">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">clientloglimit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">small</span><span class="p" data-group-id="1718153229-30">)</span><span class="p">,</span><span class="w">
           </span><span class="ow">or</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overwritten</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="1718153229-31">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">behind</span><span class="w"> </span><span class="nc">NAT</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">someone</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">spoofed</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">address</span><span class="p" data-group-id="1718153229-31">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">shorten</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w">
           </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="n">polltarget</span><span class="w"> </span><span class="n">target</span><span class="w">
           </span><span class="nc">Target</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">maintain</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">adjusting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxpoll</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">higher</span><span class="w">
           </span><span class="n">target</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">60</span><span class="o">.</span><span class="w">

       </span><span class="n">port</span><span class="w"> </span><span class="n">port</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">understands</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="p" data-group-id="1718153229-32">(</span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">standard</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="1718153229-32">)</span><span class="o">.</span><span class="w">

       </span><span class="n">ntsport</span><span class="w"> </span><span class="n">port</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TCP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4460</span><span class="o">.</span><span class="w">

       </span><span class="n">presend</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">passing</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">computers</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">badly</span><span class="w"> </span><span class="n">skewed</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">either</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k" data-group-id="1718153229-33">do</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ARP</span><span class="w"> </span><span class="n">lookup</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">party</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">transmitting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">packet</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">intervals</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">similar</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lifetime</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ARP</span><span class="w"> </span><span class="n">caches</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">machines</span><span class="o">.</span><span class="w">

           </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">problem</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="n">argument</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
           </span><span class="n">packets</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">exchanged</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w">

               </span><span class="n">presend</span><span class="w"> </span><span class="mi">9</span><span class="w">

           </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">512</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="1718153229-34">(</span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-34">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w">

           </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">presend</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">extra</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="o">.</span><span class="w">

       </span><span class="n">minstratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">slightly</span><span class="w"> </span><span class="n">preferred</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">minimum</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">selecting</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">low</span><span class="o">-</span><span class="n">stratum</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">inaccurate</span><span class="w"> </span><span class="ow">and</span><span class="w">
           </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">unreachable</span><span class="o">.</span><span class="w">

       </span><span class="n">version</span><span class="w"> </span><span class="n">version</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">newer</span><span class="w"> </span><span class="n">version</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extfield</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w">
           </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">160</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="p" data-group-id="1718153229-35">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHA256</span><span class="p" data-group-id="1718153229-35">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compatibility</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w">
           </span><span class="n">other</span><span class="w"> </span><span class="n">cases</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w">

       </span><span class="n">copy</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">closely</span><span class="w"> </span><span class="n">related</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">them</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w">
           </span><span class="n">to</span><span class="w"> </span><span class="n">assume</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="p" data-group-id="1718153229-36">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">reasons</span><span class="p" data-group-id="1718153229-36">)</span><span class="p">,</span><span class="w">
           </span><span class="n">one</span><span class="w"> </span><span class="n">primarily</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">x</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
           </span><span class="n">clocks</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">instance</span><span class="o">.</span><span class="w">

       </span><span class="n">extfield</span><span class="w"> </span><span class="n">type</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTPv4</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">received</span><span class="w">
           </span><span class="n">responses</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">implementations</span><span class="w"> </span><span class="k" data-group-id="1718153229-37">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">respond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="p" data-group-id="1718153229-38">(</span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">responded</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">such</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">2.0</span><span class="p" data-group-id="1718153229-38">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">fields</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ss">supported</span><span class="p">:</span><span class="w">

           </span><span class="nc">F323</span><span class="w">
               </span><span class="nc">An</span><span class="w"> </span><span class="n">experimental</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">improvements</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">proposed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="p" data-group-id="1718153229-39">(</span><span class="nc">NTPv5</span><span class="p" data-group-id="1718153229-39">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w">
               </span><span class="n">dispersion</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">higher</span><span class="w"> </span><span class="n">resolution</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">monotonic</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w">
               </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.2</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">later</span><span class="o">.</span><span class="w">

           </span><span class="nc">F324</span><span class="w">
               </span><span class="nc">An</span><span class="w"> </span><span class="n">experimental</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Precision</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Protocol</span><span class="w"> </span><span class="p" data-group-id="1718153229-40">(</span><span class="nc">PTP</span><span class="p" data-group-id="1718153229-40">)</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">one</span><span class="o">-</span><span class="n">step</span><span class="w"> </span><span class="k" data-group-id="1718153229-37">end</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="k" data-group-id="1718153229-33">end</span><span class="w"> </span><span class="n">transparent</span><span class="w">
               </span><span class="n">clocks</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">switches</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">routers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ptpport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">and</span><span class="w">
               </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="1718153229-41">(</span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="1718153229-41">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="n">should</span><span class="w">
               </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">4.5</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">later</span><span class="o">.</span><span class="w">

       </span><span class="n">ipv4</span><span class="p">,</span><span class="w"> </span><span class="n">ipv6</span><span class="w">
           </span><span class="nc">These</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">force</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">respectively</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="k" data-group-id="1718153229-42">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="o">.</span><span class="w">

   </span><span class="n">pool</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p" data-group-id="1718153229-43">[</span><span class="n">option</span><span class="p" data-group-id="1718153229-43">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resolve</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">pools</span><span class="o">.</span><span class="w">

       </span><span class="nc">All</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">too</span><span class="o">.</span><span class="w"> </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w">

       </span><span class="n">maxsources</span><span class="w"> </span><span class="n">sources</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">repeatedly</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resolve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">gets</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">responding</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w">

           </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w">

               </span><span class="n">pool</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">maxsources</span><span class="w"> </span><span class="mi">3</span><span class="w">

   </span><span class="n">peer</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="p" data-group-id="1718153229-44">[</span><span class="n">option</span><span class="p" data-group-id="1718153229-44">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w">
       </span><span class="n">association</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">mainly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="p" data-group-id="1718153229-45">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">ntpd</span><span class="p" data-group-id="1718153229-45">)</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">ephemeral</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">associations</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">ephemeral</span><span class="w"> </span><span class="n">associations</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k" data-group-id="1718153229-46">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="ss">directive</span><span class="p">:</span><span class="w"> </span><span class="n">iburst</span><span class="p">,</span><span class="w"> </span><span class="n">burst</span><span class="p">,</span><span class="w"> </span><span class="n">nts</span><span class="p">,</span><span class="w"> </span><span class="n">presend</span><span class="p">,</span><span class="w"> </span><span class="n">copy</span><span class="o">.</span><span class="w">

       </span><span class="nc">When</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">direction</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w">
       </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">authentication</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">secure</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">denial</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">service</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">associations</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">was</span><span class="w">
       </span><span class="n">specified</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">hosts</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">knows</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">peering</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">them</span><span class="w">
       </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">spoofed</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disrupt</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">synchronising</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">association</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">authenticated</span><span class="p">,</span><span class="w">
       </span><span class="n">an</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">who</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">traffic</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">reaching</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">disrupt</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">replaying</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">has</span><span class="w">
       </span><span class="n">effectively</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span><span class="w"> </span><span class="n">attacker</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">partial</span><span class="w"> </span><span class="n">protection</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyd</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">protect</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peers</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">same</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">future</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">relied</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">difficult</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ensure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">met</span><span class="o">.</span><span class="w">
       </span><span class="nc">If</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">directions</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">separate</span><span class="w"> </span><span class="n">client</span><span class="o">/</span><span class="n">server</span><span class="w"> </span><span class="n">associations</span><span class="w"> </span><span class="p" data-group-id="1718153229-47">(</span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">on</span><span class="w">
       </span><span class="n">both</span><span class="w"> </span><span class="n">hosts</span><span class="p" data-group-id="1718153229-47">)</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

   </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">step</span><span class="o">-</span><span class="n">threshold</span><span class="w"> </span><span class="p" data-group-id="1718153229-48">[</span><span class="n">hostname</span><span class="p" data-group-id="1718153229-48">]</span><span class="n">...</span><span class="w">
       </span><span class="p" data-group-id="1718153229-49">(</span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deprecated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">favour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="p" data-group-id="1718153229-49">)</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">purpose</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">rapid</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">stepping</span><span class="w">
       </span><span class="n">before</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">begins</span><span class="o">.</span><span class="w"> </span><span class="nc">Since</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">appropriate</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">boot</span><span class="w"> </span><span class="n">sequence</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">adversely</span><span class="w"> </span><span class="n">affected</span><span class="w"> </span><span class="n">by</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">step</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">threshold</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">safer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">restart</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">arguments</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rapidly</span><span class="w"> </span><span class="n">polled</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">voting</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">find</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">likely</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">enters</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operating</span><span class="w">
       </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">

       </span><span class="n">where</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">less</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">it</span><span class="p">;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">above</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">isolated</span><span class="w"> </span><span class="nc">LAN</span><span class="w"> </span><span class="n">environment</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">manually</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">references</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">Then</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">relied</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">analogously</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">flywheel</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">preserve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">short</span><span class="w"> </span><span class="n">period</span><span class="w"> </span><span class="n">while</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">completes</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reboot</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">functionally</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w">
       </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">begins</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">foreground</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">finish</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">exiting</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">programs</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">boot</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="k" data-group-id="1718153229-46">after</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">stepped</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">waitsync</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

   </span><span class="n">refclock</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">parameter</span><span class="p" data-group-id="1718153229-50">[</span><span class="ss">:option</span><span class="p" data-group-id="1718153229-50">]</span><span class="n">...</span><span class="w"> </span><span class="p" data-group-id="1718153229-51">[</span><span class="n">option</span><span class="p" data-group-id="1718153229-51">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">mandatory</span><span class="w"> </span><span class="n">parameters</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">driver</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">parameter</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">two</span><span class="w">
       </span><span class="n">parameters</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">followed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">zero</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">options</span><span class="o">.</span><span class="w"> </span><span class="nc">Some</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">appended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">character</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="ss">chronyd</span><span class="p">:</span><span class="w">

       </span><span class="nc">PPS</span><span class="w">
           </span><span class="nc">Driver</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="p" data-group-id="1718153229-52">(</span><span class="n">pulse</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="1718153229-52">)</span><span class="w"> </span><span class="nc">API</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="p" data-group-id="1718153229-53">(</span><span class="n">typically</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps?</span><span class="p" data-group-id="1718153229-53">)</span><span class="o">.</span><span class="w"> </span><span class="nc">As</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclocks</span><span class="w"> </span><span class="k" data-group-id="1718153229-54">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supply</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">time</span><span class="w">
           </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="1718153229-55">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="p" data-group-id="1718153229-55">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w">
           </span><span class="n">some</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">option</span><span class="p">:</span><span class="w">

           </span><span class="n">clear</span><span class="w">
               </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="1718153229-56">(</span><span class="n">rising</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="1718153229-56">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="1718153229-57">(</span><span class="n">falling</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="1718153229-57">)</span><span class="w"> </span><span class="n">instead</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps0</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="nc">NMEA</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS1</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">clk</span><span class="o">.</span><span class="n">ttyS0</span><span class="o">.</span><span class="n">sock</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">NMEA</span><span class="w"> </span><span class="n">noselect</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">pps1</span><span class="ss">:clear</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS2</span><span class="w">

       </span><span class="nc">SOCK</span><span class="w">
           </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">datagram</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w">
           </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock_sock</span><span class="o">.</span><span class="n">c</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chrony</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">code</span><span class="o">.</span><span class="w">

           </span><span class="nc">An</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gpsd</span><span class="w"> </span><span class="n">daemon</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">receiver</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mf">3.25</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="p" data-group-id="1718153229-58">(</span><span class="n">much</span><span class="w">
           </span><span class="n">less</span><span class="w"> </span><span class="n">accurate</span><span class="p" data-group-id="1718153229-58">)</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">serial</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p" data-group-id="1718153229-59">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">NMEA</span><span class="p" data-group-id="1718153229-59">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">receiver</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">paths</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">gpsd</span><span class="w"> </span><span class="n">expects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gpsd</span><span class="p" data-group-id="1718153229-60">(</span><span class="mi">8</span><span class="p" data-group-id="1718153229-60">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">gpsd</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k" data-group-id="1718153229-54">after</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">ttyS0</span><span class="o">.</span><span class="n">sock</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS1</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="mi">4</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">clk</span><span class="o">.</span><span class="n">ttyUSB0</span><span class="o">.</span><span class="n">sock</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS2</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="mf">0.1</span><span class="w">

       </span><span class="nc">SHM</span><span class="w">
           </span><span class="nc">NTP</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">implements</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="mi">28</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">functionally</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w">
           </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">socket</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">derived</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="mh">0x4e545030</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">unit</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">option</span><span class="p">:</span><span class="w">

           </span><span class="n">perm</span><span class="o">=</span><span class="n">mode</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">numeric</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0600</span><span class="w"> </span><span class="p" data-group-id="1718153229-61">(</span><span class="n">read</span><span class="o">-</span><span class="n">write</span><span class="w"> </span><span class="n">access</span><span class="w">
               </span><span class="k">for</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">only</span><span class="p" data-group-id="1718153229-61">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">Unlike</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">prescribed</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">providing</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">Both</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w">
           </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">attach</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permissions</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">perm</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">
           </span><span class="nc">The</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">untrusted</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">feeding</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="no">false</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">and</span><span class="w">
           </span><span class="n">permissions</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">segment</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ipcs</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">reason</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deprecated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">favor</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">SOCK</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS1</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="mi">1</span><span class="ss">:perm</span><span class="o">=</span><span class="mi">0644</span><span class="w"> </span><span class="n">refid</span><span class="w"> </span><span class="nc">GPS2</span><span class="w">

       </span><span class="nc">PHC</span><span class="w">
           </span><span class="nc">PTP</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="1718153229-62">(</span><span class="nc">PHC</span><span class="p" data-group-id="1718153229-62">)</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="w">
           </span><span class="p" data-group-id="1718153229-63">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="1718153229-63">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">UTC</span><span class="o">-</span><span class="nc">TAI</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pps</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">treat</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

           </span><span class="n">nocrossts</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">precise</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">

           </span><span class="n">extpps</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="p">,</span><span class="w">
               </span><span class="n">but</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">necessary</span><span class="w">
               </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w">

           </span><span class="n">pin</span><span class="o">=</span><span class="n">index</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pin</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">configurable</span><span class="w"> </span><span class="n">pins</span><span class="w"> </span><span class="p" data-group-id="1718153229-64">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">is</span><span class="w">
               </span><span class="n">fixed</span><span class="p" data-group-id="1718153229-64">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pin</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

           </span><span class="n">channel</span><span class="o">=</span><span class="n">index</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

           </span><span class="n">clear</span><span class="w">
               </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clear</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="1718153229-65">(</span><span class="n">falling</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="1718153229-65">)</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">assert</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="p" data-group-id="1718153229-66">(</span><span class="n">rising</span><span class="w"> </span><span class="n">edge</span><span class="p" data-group-id="1718153229-66">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w">

           </span><span class="ss">Examples</span><span class="p">:</span><span class="w">

               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp0</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">dpoll</span><span class="w"> </span><span class="o">-</span><span class="mi">2</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">-</span><span class="mi">37</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp1</span><span class="ss">:nocrossts</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">pps</span><span class="w">
               </span><span class="n">refclock</span><span class="w"> </span><span class="nc">PHC</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">ptp2</span><span class="ss">:extpps</span><span class="ss">:pin</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="mf">0.2</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="mi">2</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">poll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">Timestamps</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">immediately</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w">
           </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="p" data-group-id="1718153229-67">(</span><span class="mi">16</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-67">)</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">react</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lot</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">jitter</span><span class="o">.</span><span class="w">

       </span><span class="n">dpoll</span><span class="w"> </span><span class="n">dpoll</span><span class="w">
           </span><span class="nc">Some</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="k" data-group-id="1718153229-68">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="n">events</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">produce</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">sub</span><span class="o">-</span><span class="n">second</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="1718153229-69">(</span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="1718153229-69">)</span><span class="o">.</span><span class="w">

       </span><span class="n">refid</span><span class="w"> </span><span class="n">refid</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="nc">ASCII</span><span class="w"> </span><span class="n">characters</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">composed</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">driver</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">

       </span><span class="n">lock</span><span class="w"> </span><span class="n">refid</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">refclock</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">paired</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">raw</span><span class="w">
           </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">rate</span><span class="w"> </span><span class="n">rate</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">signal</span><span class="w"> </span><span class="p" data-group-id="1718153229-70">(</span><span class="ow">in</span><span class="w"> </span><span class="nc">Hz</span><span class="p" data-group-id="1718153229-70">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w">
           </span><span class="n">pulse</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">dpoll</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="p" data-group-id="1718153229-71">(</span><span class="o">-</span><span class="mi">3</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="mi">5</span><span class="nc">Hz</span><span class="w"> </span><span class="n">signal</span><span class="p" data-group-id="1718153229-71">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="n">maxlockage</span><span class="w"> </span><span class="n">pulses</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">paired</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="o">.</span><span class="w"> </span><span class="nc">Increasing</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w">
           </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w">

       </span><span class="n">width</span><span class="w"> </span><span class="n">width</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pulses</span><span class="w"> </span><span class="p" data-group-id="1718153229-72">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-72">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">rising</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">falling</span><span class="w"> </span><span class="n">edges</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w">
           </span><span class="n">reduces</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">completes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">duty</span><span class="w"> </span><span class="n">cycle</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">configurable</span><span class="p">,</span><span class="w"> </span><span class="mi">50</span><span class="p">%</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">preferred</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">maximise</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">allowed</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w">

       </span><span class="n">pps</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">forces</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">treat</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="p" data-group-id="1718153229-73">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">SHM</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">PHC</span><span class="p" data-group-id="1718153229-73">)</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">whole</span><span class="w">
           </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="p" data-group-id="1718153229-74">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="1718153229-74">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Another</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">complete</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">offset</span><span class="w"> </span><span class="n">offset</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p" data-group-id="1718153229-75">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-75">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.0</span><span class="o">.</span><span class="w">

       </span><span class="n">delay</span><span class="w"> </span><span class="n">delay</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="1718153229-76">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-76">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Half</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w">
           </span><span class="nc">Increasing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="1718153229-77">(</span><span class="mi">1</span><span class="w"> </span><span class="n">nanosecond</span><span class="p" data-group-id="1718153229-77">)</span><span class="o">.</span><span class="w">

       </span><span class="n">stratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">provides</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">precision</span><span class="w"> </span><span class="n">precision</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="1718153229-78">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-78">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="n">maxdispersion</span><span class="w"> </span><span class="n">dispersion</span><span class="w">
           </span><span class="nc">Maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="p" data-group-id="1718153229-79">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-79">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Samples</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w">

       </span><span class="n">filter</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">median</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mi">40</span><span class="w"> </span><span class="n">percent</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">discarded</span><span class="w"> </span><span class="ow">and</span><span class="w">
           </span><span class="n">one</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="p">,</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">collected</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">polls</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">lengths</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">full</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w"> </span><span class="nc">With</span><span class="w"> </span><span class="n">drivers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="p" data-group-id="1718153229-80">(</span><span class="nc">PPS</span><span class="p">,</span><span class="w"> </span><span class="nc">PHC</span><span class="p">,</span><span class="w"> </span><span class="nc">SHM</span><span class="p" data-group-id="1718153229-80">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">polls</span><span class="w"> </span><span class="n">per</span><span class="w">
           </span><span class="n">source</span><span class="w"> </span><span class="n">poll</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="p" data-group-id="1718153229-81">(</span><span class="n">poll</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">dpoll</span><span class="p" data-group-id="1718153229-81">)</span><span class="o">.</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">Prefer</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">noselect</span><span class="w">
           </span><span class="nc">Never</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">accurate</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">locked</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclock</span><span class="o">.</span><span class="w">

       </span><span class="n">trust</span><span class="w">
           </span><span class="nc">Assume</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="no">true</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Require</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="1718153229-82">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">reachable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="p" data-group-id="1718153229-82">)</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">updating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Together</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">precise</span><span class="p">,</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">safely</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="n">tai</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">TAI</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">TAI</span><span class="o">-</span><span class="nc">UTC</span><span class="w"> </span><span class="n">offset</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">leapsectz</span><span class="w"> </span><span class="ow">or</span><span class="w">
           </span><span class="n">leapseclist</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">expected</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sense</span><span class="w">
           </span><span class="k">with</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">refclocks</span><span class="o">.</span><span class="w">

       </span><span class="n">local</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">unsynchronised</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="1718153229-83">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">TCXO</span><span class="p">,</span><span class="w"> </span><span class="nc">OCXO</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">atomic</span><span class="w"> </span><span class="n">clock</span><span class="p" data-group-id="1718153229-83">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w">
           </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">stabilise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bypass</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="w"> </span><span class="nc">There</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w">
           </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shortest</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">among</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">Set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">manual</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">met</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">message</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="1718153229-84">(</span><span class="nc">The</span><span class="w"> </span><span class="n">idea</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">clock</span><span class="w">
       </span><span class="n">driver</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">behaviour</span><span class="p">,</span><span class="w"> </span><span class="n">whereas</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">manually</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">provided</span><span class="o">.</span><span class="p" data-group-id="1718153229-84">)</span><span class="w">

   </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">opens</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="p" data-group-id="1718153229-85">(</span><span class="n">per</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">family</span><span class="p" data-group-id="1718153229-85">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">getting</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">firewalls</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w">
       </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">permanent</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">chosen</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">operating</span><span class="w">
       </span><span class="n">system</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="1718153229-86">(</span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="1718153229-86">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">acquisitionport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">acquisitionport</span><span class="w"> </span><span class="mi">1123</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">1123</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">persuade</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">firewall</span><span class="w"> </span><span class="n">administrator</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">

   </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">sockets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w">
       </span><span class="n">directives</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindacqaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

   </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">dynamic</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">link</span><span class="o">-</span><span class="n">local</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindacqdevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">dscp</span><span class="w"> </span><span class="n">point</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">dscp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Differentiated</span><span class="w"> </span><span class="nc">Services</span><span class="w"> </span><span class="nc">Code</span><span class="w"> </span><span class="nc">Point</span><span class="w"> </span><span class="p" data-group-id="1718153229-87">(</span><span class="nc">DSCP</span><span class="p" data-group-id="1718153229-87">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w">
       </span><span class="n">networks</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">switches</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">routers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prioritise</span><span class="w"> </span><span class="n">forwarding</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="nc">DSCP</span><span class="w"> </span><span class="n">values</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">63</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="p" data-group-id="1718153229-88">(</span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Expedited</span><span class="w"> </span><span class="nc">Forwarding</span><span class="w"> </span><span class="n">class</span><span class="p" data-group-id="1718153229-88">)</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">dscp</span><span class="w"> </span><span class="mi">46</span><span class="w">

   </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">To</span><span class="w"> </span><span class="n">compute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">uses</span><span class="o">.</span><span class="w">

       </span><span class="nc">All</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.12</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">earlier</span><span class="p">,</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">errors</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="1718153229-89">(</span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="w">
       </span><span class="mf">10.12</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">earlier</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">simulate</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">capability</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">forwards</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">backwards</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">up</span><span class="w">
       </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">slew</span><span class="o">.</span><span class="p" data-group-id="1718153229-89">)</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">systems</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">possible</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="n">restarts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="p" data-group-id="1718153229-90">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">running</span><span class="p" data-group-id="1718153229-90">)</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">exits</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">loading</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="k" data-group-id="1718153229-68">after</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">dumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">whose</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">history</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="o">.</span><span class="n">dat</span><span class="o">.</span><span class="w"> </span><span class="nc">History</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">their</span><span class="w">
       </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">refid</span><span class="nc">:XXXXXXXX</span><span class="o">.</span><span class="n">dat</span><span class="o">.</span><span class="w">

   </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configurable</span><span class="w"> </span><span class="n">limit</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w">

       </span><span class="nc">As</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="nc">Q</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

   </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">minsamples</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="w">

       </span><span class="nc">Forcing</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">reduces</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">slows</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sourcestats</span><span class="w"> </span><span class="n">reports</span><span class="w"> </span><span class="p" data-group-id="1718153229-91">(</span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">statistics</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="p" data-group-id="1718153229-91">)</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">offsets</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsaeads</span><span class="w"> </span><span class="nc">ID</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Authenticated</span><span class="w"> </span><span class="nc">Encryption</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">Associated</span><span class="w"> </span><span class="nc">Data</span><span class="w"> </span><span class="p" data-group-id="1718153229-92">(</span><span class="nc">AEAD</span><span class="p" data-group-id="1718153229-92">)</span><span class="w"> </span><span class="n">algorithms</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">messages</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">algorithms</span><span class="w"> </span><span class="n">are</span><span class="w">
       </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">decreasing</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">priority</span><span class="o">.</span><span class="w"> </span><span class="nc">Algorithms</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">crypto</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="p" data-group-id="1718153229-93">(</span><span class="nc">Nettle</span><span class="p">,</span><span class="w"> </span><span class="nc">GnuTLS</span><span class="p" data-group-id="1718153229-93">)</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ss">supported</span><span class="p">:</span><span class="w">

       </span><span class="err">•</span><span class="w">   </span><span class="mi">15</span><span class="p">:</span><span class="w"> </span><span class="nc">AES</span><span class="o">-</span><span class="nc">SIV</span><span class="o">-</span><span class="nc">CMAC</span><span class="o">-</span><span class="mi">256</span><span class="w">

       </span><span class="err">•</span><span class="w">   </span><span class="mi">30</span><span class="p">:</span><span class="w"> </span><span class="nc">AES</span><span class="o">-</span><span class="mi">128</span><span class="o">-</span><span class="nc">GCM</span><span class="o">-</span><span class="nc">SIV</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="o">.</span><span class="w"> </span><span class="nc">AES</span><span class="o">-</span><span class="mi">128</span><span class="o">-</span><span class="nc">GCM</span><span class="o">-</span><span class="nc">SIV</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">prefered</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="nc">AES</span><span class="o">-</span><span class="nc">SIV</span><span class="o">-</span><span class="nc">CMAC</span><span class="o">-</span><span class="mi">256</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">improves</span><span class="w"> </span><span class="n">reliability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">networks</span><span class="w">
       </span><span class="n">that</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">messages</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authdata</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsaeads</span><span class="w"> </span><span class="mi">15</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">cookies</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">making</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="n">again</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">cookies</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">separately</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="1718153229-94">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="o">.</span><span class="n">nts</span><span class="p" data-group-id="1718153229-94">)</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cookies</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsdumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsrefresh</span><span class="w"> </span><span class="n">interval</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">handshakes</span><span class="w"> </span><span class="p" data-group-id="1718153229-95">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-95">)</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">authenticating</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2419200</span><span class="w"> </span><span class="p" data-group-id="1718153229-96">(</span><span class="mi">4</span><span class="w">
       </span><span class="n">weeks</span><span class="p" data-group-id="1718153229-96">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="1718153229-97">(</span><span class="mi">68</span><span class="w"> </span><span class="n">years</span><span class="p" data-group-id="1718153229-97">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">intervals</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="nc">NTS</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">poll</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">exchanged</span><span class="o">.</span><span class="w">

   </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="p" data-group-id="1718153229-98">[</span><span class="n">set</span><span class="o">-</span><span class="nc">ID</span><span class="p" data-group-id="1718153229-98">]</span><span class="w"> </span><span class="n">file</span><span class="o">|</span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="p" data-group-id="1718153229-99">(</span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PEM</span><span class="w"> </span><span class="n">format</span><span class="p" data-group-id="1718153229-99">)</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">servers</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificate</span><span class="w"> </span><span class="n">authorities</span><span class="w"> </span><span class="p" data-group-id="1718153229-100">(</span><span class="nc">CA</span><span class="p" data-group-id="1718153229-100">)</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">self</span><span class="o">-</span><span class="n">signed</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">set</span><span class="o">-</span><span class="nc">ID</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">added</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="nc">CAs</span><span class="w"> </span><span class="p" data-group-id="1718153229-101">(</span><span class="k">unless</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nosystemcert</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="p" data-group-id="1718153229-101">)</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">empty</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">certificates</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">verification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">certset</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span><span class="w"> </span><span class="n">directories</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">restart</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="p" data-group-id="1718153229-102">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">renewal</span><span class="p" data-group-id="1718153229-102">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">ca1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">ca2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">ca3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">crt</span><span class="w">
           </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">pki</span><span class="o">/</span><span class="n">nts</span><span class="o">/</span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="o">.</span><span class="n">crt</span><span class="w">

   </span><span class="n">nosystemcert</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="nc">CAs</span><span class="o">.</span><span class="w"> </span><span class="nc">Only</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntstrustedcerts</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">trusted</span><span class="o">.</span><span class="w">

   </span><span class="n">nocerttimecheck</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">activation</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">expiration</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">updates</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="1718153229-103">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">having</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">backup</span><span class="w"> </span><span class="n">battery</span><span class="p" data-group-id="1718153229-103">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Disabling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">implications</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">resort</span><span class="p">,</span><span class="w"> </span><span class="n">preferably</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">minimal</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">certificates</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">nocerttimecheck</span><span class="w"> </span><span class="mi">1</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">corrects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="n">refresh</span><span class="w"> </span><span class="n">interval</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="p" data-group-id="1718153229-104">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="1718153229-104">)</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">refreshing</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">hostname</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">resolves</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">used</span><span class="w">
       </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">service</span><span class="p">,</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">responding</span><span class="w"> </span><span class="n">correctly</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ow">not</span><span class="w">
       </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">unreachable</span><span class="o">.</span><span class="w"> </span><span class="nc">Only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">refreshed</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1209600</span><span class="w"> </span><span class="p" data-group-id="1718153229-105">(</span><span class="mi">2</span><span class="w"> </span><span class="n">weeks</span><span class="p" data-group-id="1718153229-105">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">31</span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="1718153229-106">(</span><span class="mi">68</span><span class="w"> </span><span class="n">years</span><span class="p" data-group-id="1718153229-106">)</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">periodic</span><span class="w"> </span><span class="n">refreshment</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">refresh</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">immediately</span><span class="o">.</span></code></pre><p>   Source selection</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">authselectmode</span><span class="w"> </span><span class="n">mode</span><span class="w">
       </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span><span class="w"> </span><span class="n">attacks</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attackers</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="p" data-group-id="7263266207-1">(</span><span class="n">up</span><span class="w">
       </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">limits</span><span class="p" data-group-id="7263266207-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">step</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w">
       </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slower</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="7263266207-2">(</span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">double</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdrift</span><span class="w"> </span><span class="n">limit</span><span class="p" data-group-id="7263266207-2">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">When</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">important</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">exploited</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">attack</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">reachable</span><span class="w">
       </span><span class="n">only</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">Alternatively</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w">
       </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">attack</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">higher</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">attackers</span><span class="w"> </span><span class="n">cannot</span><span class="w">
       </span><span class="n">cause</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">arbitrarily</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">step</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slew</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="no">false</span><span class="w"> </span><span class="n">information</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">smaller</span><span class="w">
       </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">dispersion</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">determines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">simplify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">chronyc</span><span class="w"> </span><span class="n">commands</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="o">.</span><span class="w">

       </span><span class="nc">Sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="p" data-group-id="7263266207-3">(</span><span class="ow">not</span><span class="w"> </span><span class="n">counted</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">unauthenticated</span><span class="p" data-group-id="7263266207-3">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">configuration</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="ss">modes</span><span class="p">:</span><span class="w">

       </span><span class="kn">require</span><span class="w">
           </span><span class="nc">Authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">strictly</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w">
           </span><span class="n">them</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">prefer</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">preferred</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">mix</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w">
           </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">unauthenticated</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w">
           </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="k" data-group-id="7263266207-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">majority</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

       </span><span class="n">ignore</span><span class="w">
           </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">chronyc</span><span class="w">
           </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">versions</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="mf">4.0</span><span class="o">.</span><span class="w">

       </span><span class="nc">As</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">mix</span><span class="w"> </span><span class="ss">mode</span><span class="p">:</span><span class="w">

           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
           </span><span class="n">refclock</span><span class="w"> </span><span class="nc">SOCK</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">ttyS0</span><span class="o">.</span><span class="n">sock</span><span class="w">

       </span><span class="n">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ignore</span><span class="w"> </span><span class="ss">mode</span><span class="p">:</span><span class="w">

           </span><span class="n">authselectmode</span><span class="w"> </span><span class="n">ignore</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">
           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
           </span><span class="n">refclock</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">ttyS0</span><span class="o">.</span><span class="n">sock</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">trust</span><span class="w">

   </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">When</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offsets</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">frequencies</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w">
       </span><span class="n">clock</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combining</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="nc">Their</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w">
       </span><span class="n">multiplied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">frequencies</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">combining</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">Sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w">
       </span><span class="n">distance</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">estimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="7263266207-5">(</span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="7263266207-5">)</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

       </span><span class="nc">Setting</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">infrequent</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">accumulate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">large</span><span class="w">
       </span><span class="n">dispersion</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">updates</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">jitter</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">rejected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">prevents</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w">
       </span><span class="n">small</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

   </span><span class="n">minsources</span><span class="w"> </span><span class="n">sources</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">minsources</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="nc">Setting</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reliability</span><span class="o">.</span><span class="w"> </span><span class="nc">More</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="7263266207-6">(</span><span class="n">which</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">serving</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="7263266207-6">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reachable</span><span class="o">.</span><span class="w">

   </span><span class="n">reselectdist</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">When</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">shortest</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">frequent</span><span class="w"> </span><span class="n">reselecting</span><span class="w">
       </span><span class="ow">when</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">distance</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">selected</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reselectdist</span><span class="w">
       </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="n">microseconds</span><span class="o">.</span><span class="w">

   </span><span class="n">stratumweight</span><span class="w"> </span><span class="n">distance</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">stratumweight</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">much</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">available</span><span class="w">
       </span><span class="n">sources</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">weight</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.001</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">matters</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">differences</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distances</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">milliseconds</span><span class="o">.</span></code></pre><p>   System clock</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">clockprecision</span><span class="w"> </span><span class="n">precision</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">clockprecision</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="6096062371-1">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6096062371-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">randomise</span><span class="w">
       </span><span class="n">low</span><span class="o">-</span><span class="n">order</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">responses</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">works</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">cases</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">generally</span><span class="w"> </span><span class="n">overestimates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sensitive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="w"> </span><span class="n">speed</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">power</span><span class="o">.</span><span class="w">
       </span><span class="nc">In</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">cases</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">high</span><span class="o">-</span><span class="n">precision</span><span class="w"> </span><span class="n">clocksource</span><span class="w"> </span><span class="p" data-group-id="6096062371-2">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Stamp</span><span class="w"> </span><span class="nc">Counter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CPU</span><span class="p" data-group-id="6096062371-2">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w">
       </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="sc">&#39; NTP measurements. The server’s precision is reported on clients by the ntpdata command.

       An example setting the precision to 8 nanoseconds is:

           clockprecision 8e-9

   corrtimeratio ratio
       When chronyd is slewing the system clock to correct an offset, the rate at which it is slewing adds to the frequency error of the clock. On all supported systems, with the
       exception of macOS 12 and earlier, this rate can be controlled.

       The corrtimeratio directive sets the ratio between the duration in which the clock is slewed for an average correction according to the source history and the interval in which
       the corrections are done (usually the NTP polling interval). Corrections larger than the average take less time and smaller corrections take more time, the amount of the
       correction and the correction time are inversely proportional.

       Increasing corrtimeratio improves the overall frequency error of the system clock, but increases the overall time error as the corrections take longer.

       By default, the ratio is set to 3, the time accuracy of the clock is preferred over its frequency accuracy.

       The maximum allowed slew rate can be set by the maxslewrate directive. The current remaining correction is shown in the tracking report as the System time value.

   driftfile file
       One of the main activities of the chronyd program is to work out the rate at which the system clock gains or loses time relative to real time.

       Whenever chronyd computes a new value of the gain or loss rate, it is desirable to record it somewhere. This allows chronyd to begin compensating the system clock at that rate
       whenever it is restarted, even before it has had a chance to obtain an equally good estimate of the rate during the new run. (This process can take many minutes, at least.)

       The driftfile directive allows a file to be specified into which chronyd can store the rate information. Two parameters are recorded in the file. The first is the rate at which
       the system clock gains or loses time, expressed in parts per million, with gains positive. Therefore, a value of 100.0 indicates that when the system clock has advanced by a
       second, it has gained 100 microseconds in reality (so the true time has only advanced by 999900 microseconds). The second is an estimate of the error bound around the first value
       in which the true rate actually lies.

       An example of the driftfile directive is:

           driftfile /var/lib/chrony/drift

   fallbackdrift min-interval max-interval
       Fallback drifts are long-term averages of the system clock drift calculated over exponentially increasing intervals. They are used to avoid quickly drifting away from true time
       when the clock was not updated for a longer period of time and there was a short-term deviation in the drift before the updates stopped.

       The directive specifies the minimum and maximum interval since the last clock update to switch between fallback drifts. They are defined as a power of 2 (in seconds). The syntax
       is as follows:

           fallbackdrift 16 19

       In this example, the minimum interval is 16 (18 hours) and the maximum interval is 19 (6 days). The system clock frequency will be set to the first fallback 18 hours after last
       clock update, to the second after 36 hours, and so on. This might be a good setting to cover frequency changes due to daily and weekly temperature fluctuations. When the frequency
       is set to a fallback, the state of the clock will change to ‘Not synchronised’.

       By default (or if the specified maximum or minimum is 0), no fallbacks are used and the clock frequency changes only with new measurements from NTP sources, reference clocks, or
       manual input.

   leapsecmode mode
       A leap second is an adjustment that is occasionally applied to UTC to keep it close to the mean solar time. When a leap second is inserted, the last day of June or December has an
       extra second 23:59:60.

       For computer clocks that is a problem. The Unix time is defined as number of seconds since 00:00:00 UTC on 1 January 1970 without leap seconds. The system clock cannot have time
       23:59:60, every minute has 60 seconds and every day has 86400 seconds by definition. The inserted leap second is skipped and the clock is suddenly ahead of UTC by one second. The
       leapsecmode directive selects how that error is corrected. There are four options:

       system
           When inserting a leap second, the kernel steps the system clock backwards by one second when the clock gets to 00:00:00 UTC. When deleting a leap second, it steps forward by
           one second when the clock gets to 23:59:59 UTC. This is the default mode when the system driver supports leap seconds (i.e. all supported systems with the exception of macOS
           12 and earlier).

       step
           This is similar to the system mode, except the clock is stepped by chronyd instead of the kernel. It can be useful to avoid bugs in the kernel code that would be executed in
           the system mode. This is the default mode when the system driver does not support leap seconds.

       slew
           The clock is corrected by slewing started at 00:00:00 UTC when a leap second is inserted or 23:59:59 UTC when a leap second is deleted. This might be preferred over the system
           and step modes when applications running on the system are sensitive to jumps in the system time and it is acceptable that the clock will be off for a longer time. On Linux
           with the default maxslewrate value the correction takes 12 seconds.

       ignore
           No correction is applied to the clock for the leap second. The clock will be corrected later in normal operation when new measurements are made and the estimated offset
           includes the one second error. This option is particularly useful when multiple chronyd instances are running on the system, one controlling the system clock and others
           started with the -x option, which should rely on the first instance to correct the system clock and ignore it for the correction of their own NTP clock running on top of the
           system clock.

       When serving time to NTP clients that cannot be configured to correct their clocks for a leap second by slewing, or to clients that would correct at slightly different rates when
       it is necessary to keep them close together, the slew mode can be combined with the smoothtime directive to enable a server leap smear.

       When smearing a leap second, the leap status is suppressed on the server and the served time is corrected slowly by slewing instead of stepping. The clients do not need any
       special configuration as they do not know there is any leap second and they follow the server time which eventually brings them back to UTC. Care must be taken to ensure they use
       only NTP servers which smear the leap second in exactly the same way for synchronisation.

       This feature must be used carefully, because the server is intentionally not serving its best estimate of the true time.

       A recommended configuration to enable a server leap smear is:

           leapsecmode slew
           maxslewrate 1000
           smoothtime 400 0.001024 leaponly

       The first directive is necessary to disable the clock step which would reset the smoothing process. The second directive limits the slewing rate of the local clock to 1000 ppm,
       which improves the stability of the smoothing process when the local correction starts and ends. The third directive enables the server time smoothing process. It will start when
       the clock gets to 00:00:00 UTC and it will take 62500 seconds (about 17.36 hours) to finish. The frequency offset will be changing by 0.001024 ppm per second and will reach a
       maximum of 32 ppm in 31250 seconds. The leaponly option makes the duration of the leap smear constant and allows the clients to safely synchronise with multiple identically
       configured leap smearing servers.

       The duration of the leap smear can be calculated from the specified wander as

           duration = sqrt(4 / wander)

   leapsectz timezone
       This directive specifies a timezone in the system timezone database which chronyd can use to determine when will the next leap second occur and what is the current offset between
       TAI and UTC. It will periodically check if 23:59:59 and 23:59:60 are valid times in the timezone. This normally works with the right/UTC timezone.

       When a leap second is announced, the timezone needs to be updated at least 12 hours before the leap second. It is not necessary to restart chronyd.

       This directive is useful with reference clocks and other time sources which do not announce leap seconds, or announce them too late for an NTP server to forward them to its own
       clients. Clients of leap smearing servers must not use this directive.

       It is also useful when the system clock is required to have correct TAI-UTC offset. Note that the offset is set only when leap seconds are handled by the kernel, i.e. leapsecmode
       is set to system.

       The specified timezone is not used as an exclusive source of information about leap seconds. If a majority of time sources announce on the last day of June or December that a leap
       second should be inserted or deleted, it will be accepted even if it is not included in the timezone.

       An example of the directive is:

           leapsectz right/UTC

       The following shell command verifies that the timezone contains leap seconds and can be used with this directive:

           $ TZ=right/UTC date -d &#39;</span><span class="nc">Dec</span><span class="w"> </span><span class="mi">31</span><span class="w"> </span><span class="mi">2008</span><span class="w"> </span><span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">60</span><span class="sc">&#39;
           Wed Dec 31 23:59:60 UTC 2008

   leapseclist file
       This directive specifies the path to a file containing a list of leap seconds and TAI-UTC offsets in NIST/IERS format. It is recommended to use the file leap-seconds.list usually
       included with the system timezone database. The behaviour of this directive is otherwise equivalent to leapsectz.

       An example of this directive is:

           leapseclist /usr/share/zoneinfo/leap-seconds.list

   makestep threshold limit
       Normally chronyd will cause the system to gradually correct any time offset, by slowing down or speeding up the clock as required. In certain situations, e.g. when chronyd is
       initially started, the system clock might be so far adrift that this slewing process would take a very long time to correct the system clock.

       This directive forces chronyd to step the system clock if the adjustment is larger than a threshold value, but only if there were no more clock updates since chronyd was started
       than the specified limit. A negative value disables the limit.

       On most systems it is desirable to step the system clock only on boot, before starting programs that rely on time advancing monotonically forwards.

       An example of the use of this directive is:

           makestep 0.1 3

       This would step the system clock if the adjustment is larger than 0.1 seconds, but only in the first three clock updates.

   maxchange offset start ignore
       This directive sets the maximum offset to be accepted on a clock update. The offset is measured relative to the current estimate of the true time, which is different from the
       system time if a previous slew did not finish.

       The check is enabled after the specified number of clock updates to allow a large initial offset to be corrected on start. Offsets larger than the specified maximum will be
       ignored for the specified number of times. Another large offset will cause chronyd to give up and exit. A negative value can be used to disable the limit to ignore all large
       offsets. A syslog message will be generated when an offset is ignored or it causes the exit.

       An example of the use of this directive is:

           maxchange 1000 1 2

       After the first clock update, chronyd will check the offset on every clock update, it will ignore two adjustments larger than 1000 seconds and exit on another one.

   maxclockerror error-in-ppm
       The maxclockerror directive sets the maximum assumed frequency error that the system clock can gain on its own between clock updates. It describes the stability of the clock.

       By default, the maximum error is 1 ppm.

       Typical values for error-in-ppm might be 10 for a low quality clock and 0.1 for a high quality clock using a temperature compensated crystal oscillator.

   maxdrift drift-in-ppm
       This directive specifies the maximum assumed drift (frequency error) of the system clock. It limits the frequency adjustment that chronyd is allowed to use to correct the measured
       drift. It is an additional limit to the maximum adjustment that can be set by the system driver (100000 ppm on Linux, 500 ppm on FreeBSD, NetBSD, and macOS 10.13+, 32500 ppm on
       illumos).

       By default, the maximum assumed drift is 500000 ppm, i.e. the adjustment is limited by the system driver rather than this directive.

   maxupdateskew skew-in-ppm
       One of chronyd&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">tasks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">addition</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">computes</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">around</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">settled</span><span class="w"> </span><span class="n">down</span><span class="w"> </span><span class="n">yet</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">reliable</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxupdateskew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">determining</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w">

       </span><span class="nc">Typical</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">skew</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">ppm</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">polled</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">wireless</span><span class="w"> </span><span class="n">network</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">wired</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">protection</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">unreliable</span><span class="w"> </span><span class="n">estimates</span><span class="o">.</span><span class="w"> </span><span class="nc">At</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">times</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bound</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimate</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">weighted</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="n">algorithm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">existing</span><span class="w"> </span><span class="n">estimate</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">estimate</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">dominate</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">value</span><span class="o">.</span><span class="w">

   </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">rate</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">ppm</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">controlled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="p" data-group-id="6096062371-3">(</span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">corrtimeratio</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="6096062371-3">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">control</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="p" data-group-id="6096062371-4">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exception</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">earlier</span><span class="p" data-group-id="6096062371-4">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">driver</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100000</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.13</span><span class="o">+</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">on</span><span class="w"> </span><span class="n">illumos</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">32500</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">limitation</span><span class="p">,</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">maxslewrate</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="n">macOS</span><span class="w"> </span><span class="mf">10.13</span><span class="o">+</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">5000</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">it</span><span class="w">
       </span><span class="n">to</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="n">ppm</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mf">83333.333</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="p" data-group-id="6096062371-5">(</span><span class="n">one</span><span class="w"> </span><span class="n">twelfth</span><span class="p" data-group-id="6096062371-5">)</span><span class="o">.</span><span class="w">

   </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="nc">T0</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="n">k1</span><span class="w"> </span><span class="n">k2</span><span class="p">,</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">points</span><span class="o">-</span><span class="n">file</span><span class="w">
       </span><span class="nc">Normally</span><span class="p">,</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">caused</span><span class="w"> </span><span class="n">mainly</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">crystal</span><span class="w"> </span><span class="n">oscillator</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">motherboard</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">oscillator</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compensate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">improve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">factors</span><span class="p">,</span><span class="w"> </span><span class="n">including</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">resolution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">noise</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w">
       </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">oscillator</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">well</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">more</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">reached</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">smaller</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">forms</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">six</span><span class="w"> </span><span class="ss">parameters</span><span class="p">:</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="p" data-group-id="6096062371-6">(</span><span class="ow">in</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="n">format</span><span class="p" data-group-id="6096062371-6">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w">
       </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="p" data-group-id="6096062371-7">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="6096062371-7">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">coefficients</span><span class="w"> </span><span class="nc">T0</span><span class="p">,</span><span class="w"> </span><span class="n">k0</span><span class="p">,</span><span class="w"> </span><span class="n">k1</span><span class="p">,</span><span class="w"> </span><span class="n">k2</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="p" data-group-id="6096062371-8">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="6096062371-8">)</span><span class="w"> </span><span class="n">as</span><span class="w">

           </span><span class="n">comp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p" data-group-id="6096062371-9">(</span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">T0</span><span class="p" data-group-id="6096062371-9">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">k1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p" data-group-id="6096062371-10">(</span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">T0</span><span class="p" data-group-id="6096062371-10">)</span><span class="o">^</span><span class="mi">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">k2</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">otherwise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">invalid</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">k0</span><span class="w"> </span><span class="n">coefficient</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w">
       </span><span class="ow">in</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">range</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">tempcomp</span><span class="w"> </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">hwmon</span><span class="o">/</span><span class="n">hwmon0</span><span class="o">/</span><span class="n">temp2_input</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">26000</span><span class="w"> </span><span class="mf">0.0</span><span class="w"> </span><span class="mf">0.000183</span><span class="w"> </span><span class="mf">0.0</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">sysfs</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">26000</span><span class="w"> </span><span class="p" data-group-id="6096062371-11">(</span><span class="mi">26</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="nc">Celsius</span><span class="p" data-group-id="6096062371-11">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">correction</span><span class="w">
       </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">zero</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">27000</span><span class="w"> </span><span class="p" data-group-id="6096062371-12">(</span><span class="mi">27</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="nc">Celsius</span><span class="p" data-group-id="6096062371-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="mf">0.183</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="ss">parameters</span><span class="p">:</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">interval</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="p" data-group-id="6096062371-13">(</span><span class="n">temperature</span><span class="p">,</span><span class="w"> </span><span class="n">compensation</span><span class="p" data-group-id="6096062371-13">)</span><span class="w"> </span><span class="n">points</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">linearly</span><span class="w"> </span><span class="n">interpolated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">extrapolated</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">tempcomp</span><span class="w"> </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">hwmon</span><span class="o">/</span><span class="n">hwmon0</span><span class="o">/</span><span class="n">temp2_input</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">tempcomp</span><span class="w">

       </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">tempcomp</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">have</span><span class="w">

           </span><span class="mi">20000</span><span class="w"> </span><span class="mf">1.0</span><span class="w">
           </span><span class="mi">21000</span><span class="w"> </span><span class="mf">0.64</span><span class="w">
           </span><span class="mi">22000</span><span class="w"> </span><span class="mf">0.36</span><span class="w">
           </span><span class="mi">23000</span><span class="w"> </span><span class="mf">0.16</span><span class="w">
           </span><span class="mi">24000</span><span class="w"> </span><span class="mf">0.04</span><span class="w">
           </span><span class="mi">25000</span><span class="w"> </span><span class="mf">0.0</span><span class="w">
           </span><span class="mi">26000</span><span class="w"> </span><span class="mf">0.04</span><span class="w">
           </span><span class="mi">27000</span><span class="w"> </span><span class="mf">0.16</span><span class="w">
           </span><span class="mi">28000</span><span class="w"> </span><span class="mf">0.36</span><span class="w">
           </span><span class="mi">29000</span><span class="w"> </span><span class="mf">0.64</span><span class="w">
           </span><span class="mi">30000</span><span class="w"> </span><span class="mf">1.0</span><span class="w">

       </span><span class="nc">Valid</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">corresponding</span><span class="w"> </span><span class="n">compensations</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tempcomp</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">tempcomp</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span></code></pre><p>   NTP server</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">allow</span><span class="w"> </span><span class="p" data-group-id="5710990505-1">[</span><span class="n">all</span><span class="p" data-group-id="5710990505-1">]</span><span class="w"> </span><span class="p" data-group-id="5710990505-2">[</span><span class="n">subnet</span><span class="p" data-group-id="5710990505-2">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">designate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">controls</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">clients</span><span class="w">
       </span><span class="ow">when</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operates</span><span class="w"> </span><span class="n">purely</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">servers</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w">
       </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">Examples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="ss">follows</span><span class="p">:</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">3.4</span><span class="o">.</span><span class="mf">5.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">3.4</span><span class="o">.</span><span class="mi">5</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mi">2001</span><span class="ss">:db8</span><span class="o">::</span><span class="o">/</span><span class="mi">32</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mi">0</span><span class="o">/</span><span class="mi">0</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="o">::</span><span class="o">/</span><span class="mi">0</span><span class="w">
           </span><span class="n">allow</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">CIDR</span><span class="w"> </span><span class="n">notation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">third</span><span class="w"> </span><span class="n">directive</span><span class="w">
       </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">simpler</span><span class="w"> </span><span class="n">notation</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">dots</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">fourth</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">subnet</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">fifth</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sixth</span><span class="w">
       </span><span class="n">directives</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">respectively</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">seventh</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="p" data-group-id="5710990505-3">(</span><span class="n">both</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="p" data-group-id="5710990505-3">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="n">effect</span><span class="p">,</span><span class="w"> </span><span class="n">depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ordering</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">illustrate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="p">,</span><span class="w"> </span><span class="n">consider</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w">
       </span><span class="ss">examples</span><span class="p">:</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">deny</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w">

       </span><span class="ow">and</span><span class="w">

           </span><span class="n">allow</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w">
           </span><span class="n">deny</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
           </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">regardless</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="ow">in</span><span class="o">.</span><span class="w"> </span><span class="nc">So</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">subnet</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">denied</span><span class="w"> </span><span class="n">access</span><span class="p">,</span><span class="w"> </span><span class="n">however</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">access</span><span class="o">.</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">effect</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">relating</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">subnet</span><span class="o">.</span><span class="w"> </span><span class="nc">Within</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">configuration</span><span class="w">
       </span><span class="n">file</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">capability</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">moot</span><span class="p">;</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">greater</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">reconfiguration</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">rules</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">internally</span><span class="w"> </span><span class="n">represented</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">address</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">deny</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">matters</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">they</span><span class="w">
       </span><span class="n">modify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">records</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">table</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">lengths</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">level</span><span class="o">.</span><span class="w"> </span><span class="nc">For</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">28</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">29</span><span class="w"> </span><span class="n">are</span><span class="w">
       </span><span class="ow">in</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">tables</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">25</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mf">1.2</span><span class="o">.</span><span class="mf">3.0</span><span class="o">/</span><span class="mi">28</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">table</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accheck</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

       </span><span class="nc">A</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">resolvable</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">DNS</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">working</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostname</span><span class="w"> </span><span class="n">resolves</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="5710990505-4">(</span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">resolver</span><span class="p" data-group-id="5710990505-4">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">denied</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">listed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="o">.</span><span class="w">

   </span><span class="n">deny</span><span class="w"> </span><span class="p" data-group-id="5710990505-5">[</span><span class="n">all</span><span class="p" data-group-id="5710990505-5">]</span><span class="w"> </span><span class="p" data-group-id="5710990505-6">[</span><span class="n">subnet</span><span class="p" data-group-id="5710990505-6">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">denies</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">too</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">deny</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">listens</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindaddress</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.1</span><span class="w">

       </span><span class="nc">Currently</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">IPv6</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">Therefore</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">multiple</span><span class="w">
       </span><span class="n">network</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w">

   </span><span class="n">binddevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">binddevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">binddevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">broadcast</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="p" data-group-id="5710990505-7">[</span><span class="n">port</span><span class="p" data-group-id="5710990505-7">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">declare</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="5710990505-8">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">server</span><span class="p" data-group-id="5710990505-8">)</span><span class="o">.</span><span class="w">
       </span><span class="nc">Broadcast</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">synchronise</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="ss">follows</span><span class="p">:</span><span class="w">

           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">1.255</span><span class="w">
           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">2.255</span><span class="w"> </span><span class="mi">12123</span><span class="w">
           </span><span class="n">broadcast</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">ff02</span><span class="o">::</span><span class="mi">101</span><span class="w">

       </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">123</span><span class="w"> </span><span class="p" data-group-id="5710990505-9">(</span><span class="n">the</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="5710990505-9">)</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="mi">12123</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">parameter</span><span class="w">
       </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="p" data-group-id="5710990505-10">(</span><span class="mi">32</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">respectively</span><span class="p" data-group-id="5710990505-10">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">sent</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">packet</span><span class="w">
       </span><span class="n">to</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correspond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="o">.</span><span class="w">

       </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">onto</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">act</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">client</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">point</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">point</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">defining</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">feature</span><span class="w">
       </span><span class="n">is</span><span class="w"> </span><span class="n">intended</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">providing</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">implementations</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">measure</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">round</span><span class="o">-</span><span class="n">trip</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">Thus</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">broadcast</span><span class="w"> </span><span class="n">subnet</span><span class="w">
       </span><span class="n">should</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">subject</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">clientloglimit</span><span class="w"> </span><span class="n">limit</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allocate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">logging</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">limit</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">524288</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">holding</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">timestamps</span><span class="w">
       </span><span class="k">for</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">4096</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="5710990505-11">(</span><span class="n">depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">uniformity</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="p" data-group-id="5710990505-11">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w">
       </span><span class="n">effective</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2147483648</span><span class="w"> </span><span class="p" data-group-id="5710990505-12">(</span><span class="mi">2</span><span class="w"> </span><span class="nc">GB</span><span class="p" data-group-id="5710990505-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">16777216</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">timestamps</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">clientloglimit</span><span class="w"> </span><span class="mi">1048576</span><span class="w">

   </span><span class="n">noclientlog</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">arguments</span><span class="p">,</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w"> </span><span class="nc">Normally</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="p">,</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w">
       </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">effectively</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="o">.</span><span class="w">

   </span><span class="n">local</span><span class="w"> </span><span class="p" data-group-id="5710990505-13">[</span><span class="n">option</span><span class="p" data-group-id="5710990505-13">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">operating</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="5710990505-14">(</span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">viewpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">it</span><span class="p" data-group-id="5710990505-14">)</span><span class="p">,</span><span class="w">
       </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">happened</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">ago</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">isolated</span><span class="w"> </span><span class="n">network</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">necessarily</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">kept</span><span class="w">
       </span><span class="n">vaguely</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">input</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">stratum</span><span class="w"> </span><span class="n">stratum</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">active</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">accessible</span><span class="o">.</span><span class="w">

           </span><span class="nc">Stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">directly</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="p" data-group-id="5710990505-15">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="nc">GPS</span><span class="p">,</span><span class="w"> </span><span class="n">atomic</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="o">.</span><span class="p" data-group-id="5710990505-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">Stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">server</span><span class="p">;</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">so</span><span class="w">
           </span><span class="n">many</span><span class="w"> </span><span class="n">hops</span><span class="w"> </span><span class="n">away</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fairly</span><span class="w"> </span><span class="n">unreliable</span><span class="o">.</span><span class="w">

       </span><span class="n">distance</span><span class="w"> </span><span class="n">distance</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">source</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">activated</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p" data-group-id="5710990505-16">(</span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">increasing</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="5710990505-16">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w">
           </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">calculated</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="5710990505-17">(</span><span class="n">reported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="5710990505-17">)</span><span class="w"> </span><span class="ss">as</span><span class="p">:</span><span class="w">

               </span><span class="n">distance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">dispersion</span><span class="w">

       </span><span class="n">activate</span><span class="w"> </span><span class="n">distance</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">activating</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">drops</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">first</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prevent</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">activated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">upstream</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="mf">0.0</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">activating</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">eligible</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">activation</span><span class="o">.</span><span class="w">

       </span><span class="n">orphan</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="err">‘</span><span class="n">orphan</span><span class="err">’</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">source</span><span class="w">
           </span><span class="n">is</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">IDs</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">smaller</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">

           </span><span class="nc">This</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="p">,</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">confusing</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">one</span><span class="w">
           </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">ensures</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w">
           </span><span class="n">reference</span><span class="w"> </span><span class="n">active</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">stops</span><span class="w"> </span><span class="n">responding</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w">
           </span><span class="n">mode</span><span class="w"> </span><span class="n">activates</span><span class="w"> </span><span class="p" data-group-id="5710990505-18">(</span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">option</span><span class="p" data-group-id="5710990505-18">)</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compatible</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntpd</span><span class="sc">&#39;s orphan mode (enabled by the tos orphan command).

       An example of the directive is:

           local stratum 10 orphan distance 0.1 activate 0.5

   ntpsigndsocket directory
       This directive specifies the location of the Samba ntp_signd socket when it is running as a Domain Controller (DC). If chronyd is compiled with this feature, responses to MS-SNTP
       clients will be signed by the smbd daemon.

       Note that MS-SNTP requests are not authenticated and any client that is allowed to access the server by the allow directive, or the allow command in chronyc, can get an MS-SNTP
       response signed with a trust account’s password and try to crack the password in a brute-force attack. Access to the server should be carefully controlled.

       An example of the directive is:

           ntpsigndsocket /var/lib/samba/ntp_signd

   ntsport port
       This directive specifies the TCP port on which chronyd will provide the NTS Key Establishment (NTS-KE) service. The default port is 4460.

       The port will be open only when a certificate and key is specified by the ntsservercert and ntsserverkey directives.

   ntsservercert file
       This directive specifies a file containing a certificate in the PEM format for chronyd to operate as an NTS server. The file should also include any intermediate certificates that
       the clients will need to validate the server’s certificate. The file needs to be readable by the user under which chronyd is running after dropping root privileges.

       This directive can be used multiple times to specify multiple certificates for different names of the server.

       The files are loaded only once. chronyd needs to be restarted in order to load a renewed certificate. The ntsdumpdir and dumpdir directives with the -r option of chronyd are
       recommended for a near-seamless server operation.

   ntsserverkey file
       This directive specifies a file containing a private key in the PEM format for chronyd to operate as an NTS server. The file needs to be readable by the user under which chronyd
       is running after dropping root privileges. For security reasons, it should not be readable by other users.

       This directive can be used multiple times to specify multiple keys. The number of keys must be the same as the number of certificates and the corresponding files must be specified
       in the same order.

   ntsprocesses processes
       This directive specifies how many helper processes will chronyd operating as an NTS server start for handling client NTS-KE requests in order to improve performance with
       multi-core CPUs and multithreading. If set to 0, no helper process will be started and all NTS-KE requests will be handled by the main chronyd process. The default value is 1.

   maxntsconnections connections
       This directive specifies the maximum number of concurrent NTS-KE connections per process that the NTS server will accept. The default value is 100. The maximum practical value is
       half of the system FD_SETSIZE constant (usually 1024).

   ntsaeads ID...
       This directive specifies a list of IDs of Authenticated Encryption with Associated Data (AEAD) algorithms enabled for NTS authentication of NTP messages. chronyd as a server uses
       the first enabled algorithm from the list provided by the client. Algorithms that are not supported by the installed version of the crypto library (Nettle, GnuTLS) are ignored.

       The following IDs are supported:

       •   15: AES-SIV-CMAC-256

       •   30: AES-128-GCM-SIV

       The default list of IDs is 30 15. AES-128-GCM-SIV is prefered over AES-SIV-CMAC-256 for shorter keys, which makes NTS cookies shorter and improves reliability of NTS in networks
       that block or limit rate of longer NTP messages.

       An example of the directive is:

           ntsaeads 15

       This list is used also by the NTS client.

       Note the the NTS specification (RFC 8915) requires servers to support AES-SIV-CMAC-256, i.e. 15 should be always included in the specified list.

       The AES-128-GCM-SIV keys used by chronyd do not comply to RFC 8915 for compatibility with older chrony clients unless the use of compliant keys is negotiated with an NTS-KE record
       &lt;https://chrony-project.org/doc/spec/nts-compliant-128gcm.html&gt;. Support for this record was added in version 4.6.1. As a client, chronyd can interoperate with a server that uses
       compliant keys, but does not support the negotiation, if it responds to incorrectly authenticated requests with an NTS NAK.

   ntsdumpdir directory
       This directive specifies a directory where chronyd operating as an NTS server can save the keys which encrypt NTS cookies provided to clients. The keys are saved to a single file
       named ntskeys. When chronyd is restarted, reloading the keys allows the clients to continue using old cookies and avoids a storm of NTS-KE requests. By default, the server does
       not save the keys.

       An example of the directive is:

           ntsdumpdir /var/lib/chrony

       This directory is used also by the NTS client to save NTS cookies.

   ntsntpserver hostname
       This directive specifies the hostname (as a fully qualified domain name) or address of the NTP server(s) which is provided in the NTS-KE response to the clients. It allows the
       NTS-KE server to be separated from the NTP server. However, the servers need to share the keys, i.e. external key management needs to be enabled by setting ntsrotate to 0. By
       default, no hostname or address is provided to the clients, which means they should use the same server for NTS-KE and NTP.

   ntsrotate interval
       This directive specifies the rotation interval (in seconds) of the server key which encrypts the NTS cookies. New keys are generated automatically from the /dev/urandom device.
       The server keeps two previous keys to give the clients time to get new cookies encrypted by the latest key. The interval is measured as the server’s operating time, i.e. the
       actual interval can be longer if chronyd is not running continuously. The default interval is 604800 seconds (1 week). The maximum value is 2^31-1 (68 years).

       The automatic rotation of the keys can be disabled by setting ntsrotate to 0. In this case the keys are assumed to be managed externally. chronyd will not save the keys to the
       ntskeys file and will reload the keys from the file when the rekey command is issued in chronyc. The file can be periodically copied from another server running chronyd (which
       does not have ntsrotate set to 0) in order to have one or more servers dedicated to NTS-KE. The file includes the subsequent key to which the NTS-KE server will switch on the next
       rotation, i.e. the process copying and reloading the file does not need to be timed precisely (it can be delayed by up to one rotation interval). The NTS-KE servers need to be
       configured with the ntsntpserver directive to point the clients to the right NTP server.

       An example of the directive is:

           ntsrotate 2592000

   port port
       This option allows you to configure the port on which chronyd will listen for NTP requests. The port will be open only when an address is allowed by the allow directive or the
       allow command in chronyc, an NTP peer is configured, or the broadcast server mode is enabled.

       The default value is 123, the standard NTP port. If set to 0, chronyd will never open the server port and will operate strictly in a client-only mode. The source port used in NTP
       client requests can be set by the acquisitionport directive.

   ratelimit [option]...
       This directive enables response rate limiting for NTP packets. Its purpose is to reduce network traffic with misconfigured or broken NTP clients that are polling the server too
       frequently. The limits are applied to individual IP addresses. If multiple clients share one IP address (e.g. multiple hosts behind NAT), the sum of their traffic will be limited.
       If a client that increases its polling rate when it does not receive a reply is detected, its rate limiting will be temporarily suspended to avoid increasing the overall amount of
       traffic. The maximum number of IP addresses which can be monitored at the same time depends on the memory limit set by the clientloglimit directive.

       The ratelimit directive supports a number of options (which can be defined in any order):

       interval interval
           This option sets the minimum interval between responses. It is defined as a power of 2 in seconds. The default value is 3 (8 seconds). The minimum value is -19 (524288 packets
           per second) and the maximum value is 12 (one packet per 4096 seconds). Note that with values below -4 the rate limiting is coarse (responses are allowed in bursts, even if the
           interval between them is shorter than the specified interval).

       burst responses
           This option sets the maximum number of responses that can be sent in a burst, temporarily exceeding the limit specified by the interval option. This is useful for clients that
           make rapid measurements on start (e.g. chronyd with the iburst option). The default value is 8. The minimum value is 1 and the maximum value is 255.

       leak rate
           This option sets the rate at which responses are randomly allowed even if the limits specified by the interval and burst options are exceeded. This is necessary to prevent an
           attacker who is sending requests with a spoofed source address from completely blocking responses to that address. The leak rate is defined as a power of 1/2 and it is 2 by
           default, i.e. on average at least every fourth request has a response. The minimum value is 1 and the maximum value is 4.

       kod rate
           This option sets the rate at which Kiss-o&#39;</span><span class="o">-</span><span class="nc">Death</span><span class="w"> </span><span class="p" data-group-id="5710990505-19">(</span><span class="nc">KoD</span><span class="p" data-group-id="5710990505-19">)</span><span class="w"> </span><span class="nc">RATE</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">limits</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">exceeded</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w">
           </span><span class="n">additional</span><span class="w"> </span><span class="n">stream</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">leak</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="nc">KoD</span><span class="w"> </span><span class="nc">RATE</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">rate</span><span class="o">.</span><span class="w"> </span><span class="nc">Few</span><span class="w"> </span><span class="n">implementations</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
           </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">disabled</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="mi">16</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">reduce</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">once</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">sending</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">bursts</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">75</span><span class="p">%</span><span class="w">
       </span><span class="p" data-group-id="5710990505-20">(</span><span class="k">with</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">leak</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="p" data-group-id="5710990505-20">)</span><span class="o">.</span><span class="w">

   </span><span class="n">ntsratelimit</span><span class="w"> </span><span class="p" data-group-id="5710990505-21">[</span><span class="n">option</span><span class="p" data-group-id="5710990505-21">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTS</span><span class="o">-</span><span class="nc">KE</span><span class="w"> </span><span class="n">requests</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="5710990505-22">(</span><span class="mi">1</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="mi">64</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5710990505-22">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kod</span><span class="w">
       </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">ntsratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">burst</span><span class="w"> </span><span class="mi">1</span><span class="w">

   </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">max</span><span class="o">-</span><span class="n">freq</span><span class="w"> </span><span class="n">max</span><span class="o">-</span><span class="n">wander</span><span class="w"> </span><span class="p" data-group-id="5710990505-23">[</span><span class="n">leaponly</span><span class="p" data-group-id="5710990505-23">]</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">serves</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">easier</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">together</span><span class="w">
       </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">BE</span><span class="w"> </span><span class="ss">WARNED</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">intentionally</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">serving</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">accumulated</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">smooth</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w">
       </span><span class="n">directive</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">because</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">reject</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">falseticker</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">fail</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">a</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="n">completely</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">implemented</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">quadratic</span><span class="w"> </span><span class="n">spline</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">pieces</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">independent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">accumulated</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">corrected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">stepping</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reset</span><span class="w">
       </span><span class="n">without</span><span class="w"> </span><span class="n">stepping</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tracked</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="5710990505-24">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="5710990505-24">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">offset</span><span class="w">
       </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="p" data-group-id="5710990505-25">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="5710990505-25">)</span><span class="o">.</span><span class="w"> </span><span class="n">leaponly</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">third</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">leap</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">frequency</span><span class="w">
       </span><span class="n">changes</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">leaponly</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">combination</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">leapsecmode</span><span class="w"> </span><span class="n">slew</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">safely</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">activated</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="mi">1</span><span class="o">/</span><span class="mi">10000</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">skew</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">falls</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="n">change</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">activated</span><span class="w">
       </span><span class="n">manually</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">command</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">manual</span><span class="w"> </span><span class="n">input</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">skew</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">monitor</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">ntpd</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">1024</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

           </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="mf">0.001</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

           </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">50000</span><span class="w"> </span><span class="mf">0.01</span></code></pre><p>   Command and monitoring access</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">address</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">listening</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="p" data-group-id="3044062695-1">(</span><span class="n">issued</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="3044062695-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">other</span><span class="w">
       </span><span class="n">than</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">commands</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">accessible</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">chrony</span><span class="w"> </span><span class="n">user</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">sock</span><span class="o">.</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">disabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">addresses</span><span class="w"> </span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">::</span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="3044062695-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loopback</span><span class="w"> </span><span class="n">interface</span><span class="p" data-group-id="3044062695-2">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">localhost</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">command</span><span class="w">
       </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">interfaces</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">lines</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="w">
           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="o">::</span><span class="w">

       </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">IPv4</span><span class="p">,</span><span class="w"> </span><span class="nc">IPv6</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">protocols</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">sock</span><span class="w">

   </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">interface</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">binds</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">sockets</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w">
       </span><span class="nc">Linux</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">bindcmddevice</span><span class="w"> </span><span class="n">eth0</span><span class="w">

   </span><span class="n">cmdallow</span><span class="w"> </span><span class="p" data-group-id="3044062695-3">[</span><span class="n">all</span><span class="p" data-group-id="3044062695-3">]</span><span class="w"> </span><span class="p" data-group-id="3044062695-4">[</span><span class="n">subnet</span><span class="p" data-group-id="3044062695-4">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="p" data-group-id="3044062695-5">(</span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="p" data-group-id="3044062695-5">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3044062695-6">(</span><span class="nc">By</span><span class="w"> </span><span class="err">‘</span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="err">’</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">meant</span><span class="w">
       </span><span class="n">that</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">those</span><span class="w"> </span><span class="n">hosts</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">retrieve</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="p" data-group-id="3044062695-6">)</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="p" data-group-id="3044062695-7">(</span><span class="n">but</span><span class="w"> </span><span class="n">applying</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">course</span><span class="p" data-group-id="3044062695-7">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">listen</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">loopback</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">access</span><span class="o">.</span><span class="w">

   </span><span class="n">cmddeny</span><span class="w"> </span><span class="p" data-group-id="3044062695-8">[</span><span class="n">all</span><span class="p" data-group-id="3044062695-8">]</span><span class="w"> </span><span class="p" data-group-id="3044062695-9">[</span><span class="n">subnet</span><span class="p" data-group-id="3044062695-9">]</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">denies</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">subnet</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">host</span><span class="p">,</span><span class="w"> </span><span class="n">rather</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="o">.</span><span class="w">

       </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cmddeny</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">behaviour</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cmdallow</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">cmdport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">cmdport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">monitoring</span><span class="w"> </span><span class="p" data-group-id="3044062695-10">(</span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">program</span><span class="p" data-group-id="3044062695-10">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">altered</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="p" data-group-id="3044062695-11">(</span><span class="mi">323</span><span class="p" data-group-id="3044062695-11">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">port</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="p" data-group-id="3044062695-12">(</span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">non</span><span class="o">-</span><span class="n">default</span><span class="w"> </span><span class="n">bindcmdaddress</span><span class="p" data-group-id="3044062695-12">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">unprivileged</span><span class="w"> </span><span class="n">users</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Unix</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">socket</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">syntax</span><span class="p">:</span><span class="w">

           </span><span class="n">cmdport</span><span class="w"> </span><span class="mi">257</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="mi">257</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="3044062695-13">(</span><span class="n">chronyc</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">p</span><span class="w"> </span><span class="mi">257</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">inter</span><span class="o">-</span><span class="n">operate</span><span class="w"> </span><span class="n">correctly</span><span class="o">.</span><span class="p" data-group-id="3044062695-13">)</span><span class="w">

   </span><span class="n">cmdratelimit</span><span class="w"> </span><span class="p" data-group-id="3044062695-14">[</span><span class="n">option</span><span class="p" data-group-id="3044062695-14">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">responses</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">localhost</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">limited</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">interval</span><span class="w">
       </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">4</span><span class="w"> </span><span class="p" data-group-id="3044062695-15">(</span><span class="mi">16</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="3044062695-15">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kod</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">cmdratelimit</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="mi">2</span></code></pre><p>   Real-time clock (RTC)</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">adjtime</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwclock</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">parses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">overrides</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtconutc</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="sc">&#39;/etc/adjtime&#39;</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">hwclockfile</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">adjtime</span><span class="w">

   </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">threshold</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">trim</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trimrtc</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">issued</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">trimming</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">threshold</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">rtcautotrim</span><span class="w"> </span><span class="mi">30</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcdevice</span><span class="w"> </span><span class="n">device</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcdevice</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">accessing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="n">associated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">rtcfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">rtc</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">exits</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">writertc</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">epoch</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="p" data-group-id="4909149348-1">(</span><span class="ow">in</span><span class="w">
       </span><span class="n">seconds</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="nc">January</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">1970</span><span class="p" data-group-id="4909149348-1">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

       </span><span class="nc">So</span><span class="w"> </span><span class="n">far</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="p">;</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">system</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">software</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">facilities</span><span class="w"> </span><span class="p" data-group-id="4909149348-2">(</span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w">
       </span><span class="n">directive</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">s</span><span class="w"> </span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">chronyd</span><span class="p" data-group-id="4909149348-2">)</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">conditions</span><span class="w"> </span><span class="ss">apply</span><span class="p">:</span><span class="w">

        </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="nc">Linux</span><span class="o">.</span><span class="w">

        </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">extended</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="p" data-group-id="4909149348-3">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">capable</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">doing</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">things</span><span class="p" data-group-id="4909149348-3">)</span><span class="o">.</span><span class="w">

        </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="k" data-group-id="4909149348-4">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">applications</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">all</span><span class="o">.</span><span class="w">

   </span><span class="n">rtconutc</span><span class="w">
       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">keeps</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="4909149348-5">(</span><span class="n">including</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">changes</span><span class="p" data-group-id="4909149348-5">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">convenient</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">PCs</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">dual</span><span class="o">-</span><span class="n">booted</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">Windows</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="p" data-group-id="4909149348-6">(</span><span class="n">summer</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="4909149348-6">)</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ends</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">next</span><span class="w">
       </span><span class="n">boot</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">chronyd</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">alternative</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="nc">Universal</span><span class="w"> </span><span class="nc">Coordinated</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="p" data-group-id="4909149348-7">(</span><span class="nc">UTC</span><span class="p" data-group-id="4909149348-7">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">suffer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">daylight</span><span class="w"> </span><span class="n">saving</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ends</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtconutc</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">appears</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">takes</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">arguments</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specifying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="n">u</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">hwclock</span><span class="w">
       </span><span class="n">program</span><span class="o">.</span><span class="w">

       </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">overridden</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwclockfile</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">relevant</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="n">rtcsync</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">copied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">track</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">drift</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">rtcfile</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">performed</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">11</span><span class="w"> </span><span class="n">minutes</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="mi">60</span><span class="w"> </span><span class="n">minutes</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">nothing</span><span class="o">.</span></code></pre><p>   Logging</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">log</span><span class="w"> </span><span class="p" data-group-id="5540946022-1">[</span><span class="n">option</span><span class="p" data-group-id="5540946022-1">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">logdir</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w">
       </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">meanings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">columns</span><span class="o">.</span><span class="w">

       </span><span class="n">rawmeasurements</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">entry</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">debugging</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">problem</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-2">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="5540946022-2">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">09</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">    </span><span class="nc">N</span><span class="w">  </span><span class="mi">2</span><span class="w"> </span><span class="mi">111</span><span class="w"> </span><span class="mi">111</span><span class="w"> </span><span class="mi">1111</span><span class="w">  </span><span class="mi">10</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="err">\</span><span class="w">
                  </span><span class="o">-</span><span class="mf">4.966e-03</span><span class="w">  </span><span class="mf">2.296e-01</span><span class="w">  </span><span class="mf">1.577e-05</span><span class="w">  </span><span class="mf">1.615e-01</span><span class="w">  </span><span class="mf">7.446e-03</span><span class="w"> </span><span class="nc">CB00717B</span><span class="w"> </span><span class="mi">4</span><span class="nc">B</span><span class="w"> </span><span class="nc">D</span><span class="w"> </span><span class="nc">K</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-3">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-3">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-4">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">13</span><span class="p" data-group-id="5540946022-4">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-5">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="5540946022-5">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">came</span><span class="w"> </span><span class="p" data-group-id="5540946022-6">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="5540946022-6">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="5540946022-7">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="sc">? </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remote</span><span class="w">
               </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="p" data-group-id="5540946022-7">)</span><span class="w"> </span><span class="p" data-group-id="5540946022-8">[</span><span class="nc">N</span><span class="p" data-group-id="5540946022-8">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-9">[</span><span class="mi">2</span><span class="p" data-group-id="5540946022-9">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="p" data-group-id="5540946022-10">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="5540946022-10">)</span><span class="w"> </span><span class="p" data-group-id="5540946022-11">[</span><span class="mi">111</span><span class="p" data-group-id="5540946022-11">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">7</span><span class="w"> </span><span class="p" data-group-id="5540946022-12">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="5540946022-12">)</span><span class="w"> </span><span class="p" data-group-id="5540946022-13">[</span><span class="mi">111</span><span class="p" data-group-id="5540946022-13">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Results</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdelay</span><span class="p">,</span><span class="w"> </span><span class="n">maxdelayratio</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maxdelaydevratio</span><span class="w"> </span><span class="p" data-group-id="5540946022-14">(</span><span class="ow">or</span><span class="w"> </span><span class="n">maxdelayquant</span><span class="p" data-group-id="5540946022-14">)</span><span class="w"> </span><span class="n">tests</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">loop</span><span class="w"> </span><span class="p" data-group-id="5540946022-15">(</span><span class="mi">1</span><span class="o">=</span><span class="n">pass</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="o">=</span><span class="n">fail</span><span class="p" data-group-id="5540946022-15">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">four</span><span class="w">
               </span><span class="n">also</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">precision</span><span class="p">,</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">validity</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">acceptable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-16">[</span><span class="mi">1111</span><span class="p" data-group-id="5540946022-16">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="p" data-group-id="5540946022-17">[</span><span class="mi">10</span><span class="p" data-group-id="5540946022-17">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">Remote</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="p" data-group-id="5540946022-18">[</span><span class="mi">10</span><span class="p" data-group-id="5540946022-18">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="err">‘</span><span class="nc">Score</span><span class="err">’</span><span class="w"> </span><span class="p" data-group-id="5540946022-19">(</span><span class="n">an</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">decide</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">decrease</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">level</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w">
               </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="p" data-group-id="5540946022-19">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-20">[</span><span class="mf">1.0</span><span class="p" data-group-id="5540946022-20">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="p" data-group-id="5540946022-21">(</span><span class="n">theta</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="5540946022-21">)</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">remote</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-22">[</span><span class="o">-</span><span class="mf">4.966e-03</span><span class="p" data-group-id="5540946022-22">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="5540946022-23">(</span><span class="n">delta</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="5540946022-23">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-24">[</span><span class="mf">2.296e-01</span><span class="p" data-group-id="5540946022-24">]</span><span class="w">

            </span><span class="mi">14</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="5540946022-25">(</span><span class="n">epsilon</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="5540946022-25">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-26">[</span><span class="mf">1.577e-05</span><span class="p" data-group-id="5540946022-26">]</span><span class="w">

            </span><span class="mi">15</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="p" data-group-id="5540946022-27">(</span><span class="nc">DELTA</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="5540946022-27">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-28">[</span><span class="mf">1.615e-01</span><span class="p" data-group-id="5540946022-28">]</span><span class="w">

            </span><span class="mi">16</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="p" data-group-id="5540946022-29">(</span><span class="nc">EPSILON</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="p" data-group-id="5540946022-29">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-30">[</span><span class="mf">7.446e-03</span><span class="p" data-group-id="5540946022-30">]</span><span class="w">

            </span><span class="mi">17</span><span class="o">.</span><span class="w"> </span><span class="nc">Reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-31">[</span><span class="nc">CB00717B</span><span class="p" data-group-id="5540946022-31">]</span><span class="w">

            </span><span class="mi">18</span><span class="o">.</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="p" data-group-id="5540946022-32">(</span><span class="mi">1</span><span class="o">=</span><span class="n">active</span><span class="w"> </span><span class="n">peer</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">=</span><span class="n">passive</span><span class="w"> </span><span class="n">peer</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="o">=</span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="nc">B</span><span class="o">=</span><span class="n">basic</span><span class="p">,</span><span class="w"> </span><span class="nc">I</span><span class="o">=</span><span class="n">interleaved</span><span class="p" data-group-id="5540946022-32">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-33">[</span><span class="mi">4</span><span class="nc">B</span><span class="p" data-group-id="5540946022-33">]</span><span class="w">

            </span><span class="mi">19</span><span class="o">.</span><span class="w"> </span><span class="nc">Source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="p" data-group-id="5540946022-34">(</span><span class="nc">D</span><span class="o">=</span><span class="n">daemon</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="nc">H</span><span class="o">=</span><span class="n">hardware</span><span class="p" data-group-id="5540946022-34">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-35">[</span><span class="nc">D</span><span class="p" data-group-id="5540946022-35">]</span><span class="w">

            </span><span class="mi">20</span><span class="o">.</span><span class="w"> </span><span class="nc">Source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="p" data-group-id="5540946022-36">(</span><span class="nc">D</span><span class="o">=</span><span class="n">daemon</span><span class="p">,</span><span class="w"> </span><span class="nc">K</span><span class="o">=</span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="nc">H</span><span class="o">=</span><span class="n">hardware</span><span class="p" data-group-id="5540946022-36">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-37">[</span><span class="nc">K</span><span class="p" data-group-id="5540946022-37">]</span><span class="w">

       </span><span class="n">measurements</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rawmeasurements</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">sources</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">passed</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RFC</span><span class="w"> </span><span class="mi">5905</span><span class="w"> </span><span class="n">tests</span><span class="w"> </span><span class="mi">1</span><span class="w">
           </span><span class="n">through</span><span class="w"> </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">producing</span><span class="w"> </span><span class="n">graphs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">performance</span><span class="o">.</span><span class="w">

       </span><span class="n">statistics</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">statistics</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-38">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="5540946022-38">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">     </span><span class="mf">6.261e-03</span><span class="w"> </span><span class="o">-</span><span class="mf">3.247e-03</span><span class="w"> </span><span class="err">\</span><span class="w">
                    </span><span class="mf">2.220e-03</span><span class="w">  </span><span class="mf">1.874e-06</span><span class="w">  </span><span class="mf">1.080e-06</span><span class="w"> </span><span class="mf">7.8e-02</span><span class="w">  </span><span class="mi">16</span><span class="w">   </span><span class="mi">0</span><span class="w">   </span><span class="mi">8</span><span class="w">  </span><span class="mf">0.00</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-39">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-39">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-40">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="5540946022-40">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-41">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="5540946022-41">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="p" data-group-id="5540946022-42">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="5540946022-42">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="5540946022-43">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-43">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-44">[</span><span class="mf">6.261e-03</span><span class="p" data-group-id="5540946022-44">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="5540946022-45">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">fast</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p" data-group-id="5540946022-45">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-46">[</span><span class="o">-</span><span class="mf">3.247e-03</span><span class="p" data-group-id="5540946022-46">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="p" data-group-id="5540946022-47">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-47">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-48">[</span><span class="mf">2.220e-03</span><span class="p" data-group-id="5540946022-48">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="p" data-group-id="5540946022-49">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="p" data-group-id="5540946022-49">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w">
               </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">compensation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-50">[</span><span class="mf">1.874e-06</span><span class="p" data-group-id="5540946022-50">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p" data-group-id="5540946022-51">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="5540946022-51">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-52">[</span><span class="mf">1.080e-06</span><span class="p" data-group-id="5540946022-52">]</span><span class="o">.</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">ratio</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="o">|</span><span class="n">old_rate</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">new_rate</span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">old_rate_error</span><span class="o">.</span><span class="w"> </span><span class="nc">Large</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">modelling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">well</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-53">[</span><span class="mf">7.8e-02</span><span class="p" data-group-id="5540946022-53">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">algorithm</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-54">[</span><span class="mi">16</span><span class="p" data-group-id="5540946022-54">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="p" data-group-id="5540946022-55">(</span><span class="n">the</span><span class="w"> </span><span class="n">oldest</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">method</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">prune</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">looks</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">fit</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">model</span><span class="p" data-group-id="5540946022-55">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-56">[</span><span class="mi">0</span><span class="p">,</span><span class="w">
               </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">discarded</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="5540946022-56">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">residuals</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">sign</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">computed</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">small</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w">
               </span><span class="n">represented</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">discarded</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">retained</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">tabulated</span><span class="o">.</span><span class="w"> </span><span class="nc">Values</span><span class="w"> </span><span class="n">of</span><span class="w">
               </span><span class="n">approximately</span><span class="w"> </span><span class="n">half</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">samples</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-57">[</span><span class="mi">8</span><span class="p" data-group-id="5540946022-57">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">correct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offsets</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">asymmetry</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="o">-</span><span class="mf">0.5</span><span class="w"> </span><span class="ow">and</span><span class="w">
               </span><span class="o">+</span><span class="mf">0.5</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">negative</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">delay</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">back</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-58">[</span><span class="mf">0.00</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="k">for</span><span class="w">
               </span><span class="n">asymmetry</span><span class="p" data-group-id="5540946022-58">]</span><span class="w">

       </span><span class="n">selection</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">selection</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">grows</span><span class="w">
           </span><span class="n">quadratically</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="5540946022-59">(</span><span class="n">each</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">triggers</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">sources</span><span class="p" data-group-id="5540946022-59">)</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-60">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">file</span><span class="p" data-group-id="5540946022-60">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2022</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">02</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">20</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">    </span><span class="o">*</span><span class="w"> </span><span class="o">--</span><span class="o">--</span><span class="o">-</span><span class="w">  </span><span class="mi">377</span><span class="w">  </span><span class="mf">1.00</span><span class="w">  </span><span class="err">\</span><span class="w">
                    </span><span class="mf">4.228</span><span class="n">e</span><span class="o">+</span><span class="mi">01</span><span class="w"> </span><span class="o">-</span><span class="mf">1.575e-04</span><span class="w">  </span><span class="mf">1.239e-04</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-61">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-61">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-62">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">01</span><span class="p" data-group-id="5540946022-62">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-63">[</span><span class="mi">02</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">20</span><span class="p" data-group-id="5540946022-63">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-64">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="5540946022-64">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">State</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">indicated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">symbols</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-65">[</span><span class="o">*</span><span class="p" data-group-id="5540946022-65">]</span><span class="w">

                   </span><span class="nc">Not</span><span class="w"> </span><span class="n">considered</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="ss">synchronisation</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">N</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">s</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">M</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">enough</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="p" data-group-id="5540946022-66">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxdistance</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="5540946022-66">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="err">~</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">jitter</span><span class="w"> </span><span class="p" data-group-id="5540946022-67">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maxjitter</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="5540946022-67">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">w</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">M</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">S</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">older</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">O</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">equal</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="p" data-group-id="5540946022-68">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="5540946022-68">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">T</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">fully</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">agree</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="5540946022-69">(</span><span class="n">falseticker</span><span class="p" data-group-id="5540946022-69">)</span><span class="o">.</span><span class="w">

                   </span><span class="nc">Considered</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">currently</span><span class="w"> </span><span class="ss">used</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">W</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="p" data-group-id="5540946022-70">(</span><span class="n">required</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minsources</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="5540946022-70">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">P</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">selectable</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">preferred</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">U</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">waits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="p" data-group-id="5540946022-71">(</span><span class="k">after</span><span class="w"> </span><span class="n">selecting</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="5540946022-71">)</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="nc">D</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">has</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">recently</span><span class="w"> </span><span class="n">had</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">too</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="5540946022-72">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combinelimit</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="5540946022-72">)</span><span class="o">.</span><span class="w">

                   </span><span class="nc">Used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="ss">clock</span><span class="p">:</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="o">+</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w">

                   </span><span class="err">•</span><span class="w">   </span><span class="o">*</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="p" data-group-id="5540946022-73">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">dispersion</span><span class="p" data-group-id="5540946022-73">)</span><span class="o">.</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Current</span><span class="w"> </span><span class="n">effective</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">selection</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="p" data-group-id="5540946022-74">(</span><span class="n">configured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w">
               </span><span class="n">authselectmode</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="5540946022-74">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-75">[</span><span class="o">--</span><span class="o">--</span><span class="o">-</span><span class="p" data-group-id="5540946022-75">]</span><span class="w">

               </span><span class="err">•</span><span class="w">   </span><span class="nc">N</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">noselect</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

               </span><span class="err">•</span><span class="w">   </span><span class="nc">P</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

               </span><span class="err">•</span><span class="w">   </span><span class="nc">T</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

               </span><span class="err">•</span><span class="w">   </span><span class="nc">R</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">require</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">Reachability</span><span class="w"> </span><span class="n">register</span><span class="w"> </span><span class="n">printed</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">octal</span><span class="w"> </span><span class="n">number</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">register</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">updated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">missed</span><span class="w"> </span><span class="n">packet</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">377</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w">
               </span><span class="n">a</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">reply</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">eight</span><span class="w"> </span><span class="n">transmissions</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-76">[</span><span class="mi">377</span><span class="p" data-group-id="5540946022-76">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">Current</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">against</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">state</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">scoring</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">avoids</span><span class="w"> </span><span class="n">frequent</span><span class="w"> </span><span class="n">reselection</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">larger</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">1</span><span class="w">
               </span><span class="n">indicates</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">selections</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">score</span><span class="w"> </span><span class="n">reaches</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reselected</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">scores</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reset</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1</span><span class="o">.</span><span class="w">
               </span><span class="p" data-group-id="5540946022-77">[</span><span class="mf">1.00</span><span class="p" data-group-id="5540946022-77">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Interval</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-78">[</span><span class="mf">4.228</span><span class="n">e</span><span class="o">+</span><span class="mi">01</span><span class="p" data-group-id="5540946022-78">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Lower</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-79">[</span><span class="o">-</span><span class="mf">1.575e-04</span><span class="p" data-group-id="5540946022-79">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">Upper</span><span class="w"> </span><span class="n">endpoint</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">determined</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">distance</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-80">[</span><span class="mf">1.239e-04</span><span class="p" data-group-id="5540946022-80">]</span><span class="w">

       </span><span class="n">tracking</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">changes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">slews</span><span class="w"> </span><span class="n">made</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">tracking</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-81">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w">
           </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="5540946022-81">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="mi">13</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">36</span><span class="w"> </span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="w">     </span><span class="mi">2</span><span class="w">     </span><span class="o">-</span><span class="mf">3.541</span><span class="w">      </span><span class="mf">0.075</span><span class="w"> </span><span class="o">-</span><span class="mf">8.621e-06</span><span class="w"> </span><span class="nc">N</span><span class="w"> </span><span class="err">\</span><span class="w">
                           </span><span class="mi">2</span><span class="w">  </span><span class="mf">2.940e-03</span><span class="w"> </span><span class="o">-</span><span class="mf">2.084e-04</span><span class="w">  </span><span class="mf">1.534e-02</span><span class="w">  </span><span class="mf">3.472e-04</span><span class="w">  </span><span class="mf">8.304e-03</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-82">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-82">)</span><span class="w"> </span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-83">[</span><span class="mi">2017</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="5540946022-83">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-84">[</span><span class="mi">13</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">36</span><span class="p" data-group-id="5540946022-84">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-85">[</span><span class="mf">203.0</span><span class="o">.</span><span class="mf">113.15</span><span class="p" data-group-id="5540946022-85">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-86">[</span><span class="mi">2</span><span class="p" data-group-id="5540946022-86">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="p" data-group-id="5540946022-87">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="5540946022-87">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-88">[</span><span class="o">-</span><span class="mf">3.541</span><span class="p" data-group-id="5540946022-88">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">frequency</span><span class="w"> </span><span class="p" data-group-id="5540946022-89">(</span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p" data-group-id="5540946022-89">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-90">[</span><span class="mf">0.075</span><span class="p" data-group-id="5540946022-90">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">epoch</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">corrected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">slewing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="5540946022-91">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="5540946022-91">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-92">[</span><span class="o">-</span><span class="mf">8.621e-06</span><span class="p" data-group-id="5540946022-92">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="5540946022-93">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="sc">? </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w">
               </span><span class="n">currently</span><span class="w"> </span><span class="n">synchronised</span><span class="o">.</span><span class="p" data-group-id="5540946022-93">)</span><span class="w"> </span><span class="p" data-group-id="5540946022-94">[</span><span class="nc">N</span><span class="p" data-group-id="5540946022-94">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-95">[</span><span class="mi">2</span><span class="p" data-group-id="5540946022-95">]</span><span class="w">

            </span><span class="mi">10</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">standard</span><span class="w"> </span><span class="n">deviation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">combined</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="p" data-group-id="5540946022-96">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-96">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-97">[</span><span class="mf">2.940e-03</span><span class="p" data-group-id="5540946022-97">]</span><span class="w">

            </span><span class="mi">11</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="p" data-group-id="5540946022-98">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">UTC</span><span class="p" data-group-id="5540946022-98">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-99">[</span><span class="o">-</span><span class="mf">2.084e-04</span><span class="p" data-group-id="5540946022-99">]</span><span class="w">

            </span><span class="mi">12</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="p" data-group-id="5540946022-100">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-100">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-101">[</span><span class="mf">1.534e-02</span><span class="p" data-group-id="5540946022-101">]</span><span class="w">

            </span><span class="mi">13</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="p" data-group-id="5540946022-102">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-102">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-103">[</span><span class="mf">3.472e-04</span><span class="p" data-group-id="5540946022-103">]</span><span class="w">

            </span><span class="mi">14</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">estimated</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="p" data-group-id="5540946022-104">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-104">)</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">remaining</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">correction</span><span class="p">,</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">delay</span><span class="p">,</span><span class="w">
               </span><span class="ow">and</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">accumulated</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-105">[</span><span class="mf">8.304e-03</span><span class="p" data-group-id="5540946022-105">]</span><span class="w">

       </span><span class="n">rtc</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-106">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="5540946022-106">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtc</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="w"> </span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="w">     </span><span class="o">-</span><span class="mf">0.037360</span><span class="w"> </span><span class="mi">1</span><span class="w">       </span><span class="o">-</span><span class="mf">0.037434</span><span class="err">\</span><span class="w">
                         </span><span class="o">-</span><span class="mf">37.948</span><span class="w">  </span><span class="mi">12</span><span class="w">   </span><span class="mi">5</span><span class="w">  </span><span class="mi">120</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-107">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-107">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-108">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">22</span><span class="p" data-group-id="5540946022-108">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-109">[</span><span class="mi">05</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">50</span><span class="p" data-group-id="5540946022-109">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="p" data-group-id="5540946022-110">[</span><span class="o">-</span><span class="mf">0.037360</span><span class="p" data-group-id="5540946022-110">]</span><span class="o">.</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Flag</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">coefficients</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-111">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">yes</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">no</span><span class="p" data-group-id="5540946022-111">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-112">[</span><span class="mi">1</span><span class="p" data-group-id="5540946022-112">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Offset</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">predicted</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="n">tends</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">an</span><span class="w">
               </span><span class="n">outlier</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">serious</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">error</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-113">[</span><span class="o">-</span><span class="mf">0.037434</span><span class="p" data-group-id="5540946022-113">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-114">[</span><span class="o">-</span><span class="mf">37.948</span><span class="p" data-group-id="5540946022-114">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">regression</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-115">[</span><span class="mi">12</span><span class="p" data-group-id="5540946022-115">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">runs</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">regression</span><span class="w"> </span><span class="n">residuals</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">sign</span><span class="o">.</span><span class="w"> </span><span class="nc">Low</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">straight</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">model</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">older</span><span class="w">
               </span><span class="n">measurements</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">discarded</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-116">[</span><span class="mi">5</span><span class="p" data-group-id="5540946022-116">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">prior</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="p" data-group-id="5540946022-117">(</span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-117">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-118">[</span><span class="mi">120</span><span class="p" data-group-id="5540946022-118">]</span><span class="w">

       </span><span class="n">refclocks</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">refclocks</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-119">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="p" data-group-id="5540946022-119">)</span><span class="w"> </span><span class="n">from</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2009</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">27.000000</span><span class="w"> </span><span class="nc">PPS2</span><span class="w">    </span><span class="mi">7</span><span class="w"> </span><span class="nc">N</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="mf">4.900000e-07</span><span class="w"> </span><span class="o">-</span><span class="mf">6.741777e-07</span><span class="w">  </span><span class="mf">1.000e-06</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-120">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-120">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-121">[</span><span class="mi">2009</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">30</span><span class="p" data-group-id="5540946022-121">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="nc">Microsecond</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-122">[</span><span class="mi">14</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">27.000000</span><span class="p" data-group-id="5540946022-122">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">came</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-123">[</span><span class="nc">PPS2</span><span class="p" data-group-id="5540946022-123">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Sequence</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">within</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="n">samples</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">samples</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-124">[</span><span class="mi">7</span><span class="p" data-group-id="5540946022-124">]</span><span class="w">

            </span><span class="mi">5</span><span class="o">.</span><span class="w"> </span><span class="nc">Leap</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="p" data-group-id="5540946022-125">(</span><span class="nc">N</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">normal</span><span class="p">,</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">61</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">minute</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">month</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="mi">59</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="5540946022-125">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-126">[</span><span class="nc">N</span><span class="p" data-group-id="5540946022-126">]</span><span class="w">

            </span><span class="mi">6</span><span class="o">.</span><span class="w"> </span><span class="nc">Flag</span><span class="w"> </span><span class="n">indicating</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sample</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="nc">PPS</span><span class="w"> </span><span class="n">source</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-127">(</span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">yes</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">no</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">sample</span><span class="p" data-group-id="5540946022-127">)</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-128">[</span><span class="mi">1</span><span class="p" data-group-id="5540946022-128">]</span><span class="w">

            </span><span class="mi">7</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-129">[</span><span class="mf">4.900000e-07</span><span class="p" data-group-id="5540946022-129">]</span><span class="w">

            </span><span class="mi">8</span><span class="o">.</span><span class="w"> </span><span class="nc">Local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">corrections</span><span class="o">.</span><span class="w"> </span><span class="nc">Positive</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-130">[</span><span class="o">-</span><span class="mf">6.741777e-07</span><span class="p" data-group-id="5540946022-130">]</span><span class="w">

            </span><span class="mi">9</span><span class="o">.</span><span class="w"> </span><span class="nc">Assumed</span><span class="w"> </span><span class="n">dispersion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sample</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-131">[</span><span class="mf">1.000e-06</span><span class="p" data-group-id="5540946022-131">]</span><span class="w">

       </span><span class="n">tempcomp</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">logs</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">temperature</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">compensations</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">tempcomp</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="p" data-group-id="5540946022-132">(</span><span class="n">which</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">appears</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="n">file</span><span class="p" data-group-id="5540946022-132">)</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="n">below</span><span class="o">.</span><span class="w">

               </span><span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span><span class="w"> </span><span class="mi">10</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">48</span><span class="w">  </span><span class="mf">2.8000</span><span class="n">e</span><span class="o">+</span><span class="mi">04</span><span class="w">  </span><span class="mf">3.6600e-01</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">follows</span><span class="w"> </span><span class="p" data-group-id="5540946022-133">(</span><span class="n">the</span><span class="w"> </span><span class="n">quantities</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">square</span><span class="w"> </span><span class="n">brackets</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">above</span><span class="p" data-group-id="5540946022-133">)</span><span class="p">:</span><span class="w">

            </span><span class="mi">1</span><span class="o">.</span><span class="w"> </span><span class="nc">Date</span><span class="w"> </span><span class="p" data-group-id="5540946022-134">[</span><span class="mi">2015</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">19</span><span class="p" data-group-id="5540946022-134">]</span><span class="w">

            </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">Hour</span><span class="ss">:Minute</span><span class="ss">:Second</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">date</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">pair</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expressed</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">UTC</span><span class="p">,</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">zone</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-135">[</span><span class="mi">10</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">48</span><span class="p" data-group-id="5540946022-135">]</span><span class="w">

            </span><span class="mi">3</span><span class="o">.</span><span class="w"> </span><span class="nc">Temperature</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sensor</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-136">[</span><span class="mf">2.8000</span><span class="n">e</span><span class="o">+</span><span class="mi">04</span><span class="p" data-group-id="5540946022-136">]</span><span class="w">

            </span><span class="mi">4</span><span class="o">.</span><span class="w"> </span><span class="nc">Applied</span><span class="w"> </span><span class="n">compensation</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">ppm</span><span class="p">,</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">faster</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compensation</span><span class="o">.</span><span class="w"> </span><span class="p" data-group-id="5540946022-137">[</span><span class="mf">3.6600e-01</span><span class="p" data-group-id="5540946022-137">]</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">log</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">statistics</span><span class="w"> </span><span class="n">tracking</span><span class="w">

   </span><span class="n">logbanner</span><span class="w"> </span><span class="n">entries</span><span class="w">
       </span><span class="nc">A</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">periodically</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">indicate</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">meanings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">columns</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">logbanner</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">banner</span><span class="w"> </span><span class="n">written</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">entirely</span><span class="o">.</span><span class="w">

   </span><span class="n">logchange</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">adjustment</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">message</span><span class="o">.</span><span class="w"> </span><span class="nc">Clock</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">detected</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clocks</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w">
       </span><span class="n">timestamps</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">logged</span><span class="o">.</span><span class="w">

       </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">logchange</span><span class="w"> </span><span class="mf">0.1</span><span class="w">

       </span><span class="n">which</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">cause</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="mf">0.1</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">starts</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compensated</span><span class="o">.</span><span class="w">

   </span><span class="n">logdir</span><span class="w"> </span><span class="n">directory</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">exist</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">logdir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">chrony</span><span class="w">

   </span><span class="n">mailonchange</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="n">threshold</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="n">address</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">applies</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">correction</span><span class="w"> </span><span class="n">exceeding</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">particular</span><span class="w"> </span><span class="n">threshold</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">mailonchange</span><span class="w"> </span><span class="n">root</span><span class="na">@localhost</span><span class="w"> </span><span class="mf">0.5</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="nc">F</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">fork</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sendmail</span><span class="w"> </span><span class="n">binary</span><span class="o">.</span></code></pre><p>   Miscellaneous</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">confdir</span><span class="w"> </span><span class="n">directory</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">suffix</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">lexicographical</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">names</span><span class="o">.</span><span class="w">

       </span><span class="nc">Multiple</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="p" data-group-id="0346433296-1">(</span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">10</span><span class="p" data-group-id="0346433296-1">)</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">directories</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">fragmented</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">fragments</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">replaced</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">adding</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">directory</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">confdir</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">d</span><span class="w">

   </span><span class="n">sourcedir</span><span class="w"> </span><span class="n">directory</span><span class="n">...</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">sourcedir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">identical</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">.</span><span class="n">sources</span><span class="w"> </span><span class="n">suffix</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="p" data-group-id="0346433296-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">pool</span><span class="p">,</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">directives</span><span class="p" data-group-id="0346433296-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="n">terminated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">newline</span><span class="w"> </span><span class="n">character</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">reloaded</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reload</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">DHCP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">networking</span><span class="w"> </span><span class="n">script</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">sourcedir</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">-</span><span class="n">dhcp</span><span class="w">

   </span><span class="n">include</span><span class="w"> </span><span class="n">pattern</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">wildcard</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w"> </span><span class="nc">Unlike</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">confdir</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">full</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">files</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">required</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exist</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">include</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="o">*</span><span class="o">.</span><span class="n">conf</span><span class="w">

   </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="p" data-group-id="0346433296-3">[</span><span class="n">option</span><span class="p" data-group-id="0346433296-3">]</span><span class="n">...</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">sent</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">controller</span><span class="w"> </span><span class="p" data-group-id="0346433296-4">(</span><span class="nc">NIC</span><span class="p" data-group-id="0346433296-4">)</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="n">accurately</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">transmissions</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">receptions</span><span class="p">,</span><span class="w"> </span><span class="n">avoiding</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">queueing</span><span class="w"> </span><span class="n">delays</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">driver</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">significantly</span><span class="w"> </span><span class="n">improve</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">accuracy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measured</span><span class="w"> </span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">synchronisation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">results</span><span class="p">,</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">sides</span><span class="w"> </span><span class="n">receiving</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">sending</span><span class="w">
       </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="p" data-group-id="0346433296-5">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">peers</span><span class="p" data-group-id="0346433296-5">)</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w">
       </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">peer</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">3.19</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">verified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ethtool</span><span class="w"> </span><span class="o">-</span><span class="nc">T</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">capabilities</span><span class="w"> </span><span class="n">should</span><span class="w">
       </span><span class="n">include</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="n">raw</span><span class="o">-</span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="n">transmit</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">hardware</span><span class="o">-</span><span class="k">receive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">all</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ntp</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w"> </span><span class="nc">Timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">packets</span><span class="w">
       </span><span class="n">received</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">bridged</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">bonded</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">4.13</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamps</span><span class="w">
       </span><span class="n">instead</span><span class="o">.</span><span class="w"> </span><span class="nc">Transmit</span><span class="o">-</span><span class="n">only</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">still</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">improve</span><span class="w"> </span><span class="n">stability</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w">

       </span><span class="n">chronyd</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">synchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">free</span><span class="o">.</span><span class="w"> </span><span class="nc">Multiple</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">
       </span><span class="nc">Applications</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="0346433296-6">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="0346433296-6">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">top</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="n">to</span><span class="w">
       </span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">class</span><span class="o">/</span><span class="n">ptp</span><span class="o">/</span><span class="n">ptpX</span><span class="o">/</span><span class="n">n_vclocks</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">feature</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="mf">5.14</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">newer</span><span class="o">.</span><span class="w">

       </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="n">timestamping</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">interfaces</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="p" data-group-id="0346433296-7">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">hardware</span><span class="p">,</span><span class="w"> </span><span class="n">kernel</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">daemon</span><span class="p" data-group-id="0346433296-7">)</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">indicated</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">side</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p" data-group-id="0346433296-8">(</span><span class="k">if</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">directive</span><span class="p" data-group-id="0346433296-8">)</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ntpdata</span><span class="w"> </span><span class="n">report</span><span class="o">.</span><span class="w">
       </span><span class="nc">On</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">side</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">served</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">each</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">serverstats</span><span class="w"> </span><span class="n">report</span><span class="o">.</span><span class="w">

       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="nc">HW</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">all</span><span class="w">
       </span><span class="n">available</span><span class="w"> </span><span class="n">interfaces</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">options</span><span class="p">:</span><span class="w">

       </span><span class="n">minpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">correspond</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
           </span><span class="n">sources</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="0346433296-9">(</span><span class="mi">1</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="0346433296-9">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">-</span><span class="mi">6</span><span class="w"> </span><span class="p" data-group-id="0346433296-10">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">64</span><span class="n">th</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="p" data-group-id="0346433296-10">)</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">20</span><span class="w">
           </span><span class="p" data-group-id="0346433296-11">(</span><span class="n">about</span><span class="w"> </span><span class="mi">12</span><span class="w"> </span><span class="n">days</span><span class="p" data-group-id="0346433296-11">)</span><span class="o">.</span><span class="w">

       </span><span class="n">maxpoll</span><span class="w"> </span><span class="n">poll</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">power</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p" data-group-id="0346433296-12">(</span><span class="mi">2</span><span class="w"> </span><span class="n">seconds</span><span class="p" data-group-id="0346433296-12">)</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="n">of</span><span class="w">
           </span><span class="mi">0</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="n">option</span><span class="o">.</span><span class="w">

       </span><span class="n">minsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2</span><span class="o">.</span><span class="w">

       </span><span class="n">maxsamples</span><span class="w"> </span><span class="n">samples</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">readings</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">16</span><span class="o">.</span><span class="w">

       </span><span class="n">precision</span><span class="w"> </span><span class="n">precision</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">assumed</span><span class="w"> </span><span class="n">precision</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">reading</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">100</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="p" data-group-id="0346433296-13">(</span><span class="mi">100</span><span class="w"> </span><span class="n">nanoseconds</span><span class="p" data-group-id="0346433296-13">)</span><span class="o">.</span><span class="w">

       </span><span class="n">txcomp</span><span class="w"> </span><span class="n">compensation</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">transmission</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">layer</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w">
           </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">obtained</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">rxcomp</span><span class="w"> </span><span class="n">compensation</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">difference</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">reported</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">actual</span><span class="w"> </span><span class="n">reception</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">physical</span><span class="w"> </span><span class="n">layer</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">subtracted</span><span class="w"> </span><span class="n">from</span><span class="w">
           </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="n">obtained</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="o">.</span><span class="w">

       </span><span class="n">nocrossts</span><span class="w">
           </span><span class="nc">Some</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">precisely</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cross</span><span class="w"> </span><span class="n">timestamping</span><span class="o">.</span><span class="w">

       </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">filter</span><span class="w">
           </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">selects</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">filter</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">following</span><span class="p">:</span><span class="w">

           </span><span class="n">all</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">ntp</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">ptp</span><span class="w">
               </span><span class="nc">Enables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="n">none</span><span class="w">
               </span><span class="nc">Disables</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">packets</span><span class="o">.</span><span class="w">

           </span><span class="nc">The</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">default</span><span class="o">.</span><span class="w"> </span><span class="nc">Some</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w">
           </span><span class="n">configured</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">none</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="o">.</span><span class="w"> </span><span class="nc">Timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w">
           </span><span class="n">the</span><span class="w"> </span><span class="n">ptpport</span><span class="w"> </span><span class="n">directive</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">receiving</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interface</span><span class="o">.</span><span class="w"> </span><span class="nc">Forcing</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w">
           </span><span class="nc">NIC</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp</span><span class="w"> </span><span class="n">filters</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="nc">UDP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w">

       </span><span class="nc">Examples</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="ss">are</span><span class="p">:</span><span class="w">

           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">eth0</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">eth1</span><span class="w"> </span><span class="n">txcomp</span><span class="w"> </span><span class="mi">300</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w"> </span><span class="n">rxcomp</span><span class="w"> </span><span class="mi">645</span><span class="n">e</span><span class="o">-</span><span class="mi">9</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="o">*</span><span class="w">

   </span><span class="n">hwtstimeout</span><span class="w"> </span><span class="n">timeout</span><span class="w">
       </span><span class="nc">If</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NIC</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">driver</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">slow</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">providing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">requests</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w">
       </span><span class="n">received</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">request</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">avoid</span><span class="w"> </span><span class="n">calculating</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">less</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">save</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">processing</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamp</span><span class="o">.</span><span class="w"> </span><span class="nc">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">guarantee</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="p" data-group-id="0346433296-14">(</span><span class="nc">NICs</span><span class="w"> </span><span class="n">typically</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamping</span><span class="p" data-group-id="0346433296-14">)</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w">
       </span><span class="n">directive</span><span class="w"> </span><span class="n">configures</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">receiving</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">response</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">received</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">while</span><span class="w">
       </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timestamp</span><span class="p">,</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">processed</span><span class="w"> </span><span class="n">immediately</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mf">0.001</span><span class="w"> </span><span class="n">seconds</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sufficient</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">hardware</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">frequently</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">transmit</span><span class="w"> </span><span class="n">timestamps</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurements</span><span class="o">.</span><span class="n">log</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">ntpdata</span><span class="w"> </span><span class="n">report</span><span class="p">,</span><span class="w">
       </span><span class="ow">and</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">handling</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">high</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">requests</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">interface</span><span class="w"> </span><span class="p" data-group-id="0346433296-15">(</span><span class="n">which</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">compete</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">own</span><span class="w"> </span><span class="n">requests</span><span class="p" data-group-id="0346433296-15">)</span><span class="p">,</span><span class="w">
       </span><span class="n">increasing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mf">0.01</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">possibly</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="n">longer</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">help</span><span class="o">.</span><span class="w"> </span><span class="nc">Note</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">timeout</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">interval</span><span class="o">.</span><span class="w">

   </span><span class="n">keyfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">This</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">symmetric</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peers</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">packets</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p" data-group-id="0346433296-16">(</span><span class="nc">MAC</span><span class="p" data-group-id="0346433296-16">)</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cryptographic</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">cipher</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="ss">below</span><span class="p">:</span><span class="w">

           </span><span class="n">keyfile</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chrony</span><span class="o">.</span><span class="n">keys</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">argument</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">simply</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">ID</span><span class="o">-</span><span class="n">key</span><span class="w"> </span><span class="n">pairs</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">shown</span><span class="w"> </span><span class="ss">below</span><span class="p">:</span><span class="w">

           </span><span class="mi">10</span><span class="w"> </span><span class="n">tulip</span><span class="w">
           </span><span class="mi">11</span><span class="w"> </span><span class="n">hyacinth</span><span class="w">
           </span><span class="mi">20</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="nc">ASCII</span><span class="ss">:crocus</span><span class="w">
           </span><span class="mi">25</span><span class="w"> </span><span class="nc">SHA1</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">933</span><span class="nc">F62BE1D604E68A81B557F18CFA200483F5B70</span><span class="w">
           </span><span class="mi">30</span><span class="w"> </span><span class="nc">AES128</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">7</span><span class="nc">EA62AE64D190114D46D5A082F948EC1</span><span class="w">
           </span><span class="mi">31</span><span class="w"> </span><span class="nc">AES256</span><span class="w"> </span><span class="nc">HEX</span><span class="p">:</span><span class="mi">37</span><span class="nc">DDCBC67BB902BCB8E995977FAB4D2B5642F5B32EBCEEE421921D97E5CBFE39</span><span class="w">
            </span><span class="n">...</span><span class="w">

       </span><span class="nc">Each</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">consists</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">ID</span><span class="p">,</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="n">type</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">key</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">positive</span><span class="w"> </span><span class="n">integer</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="mi">2</span><span class="o">^</span><span class="mi">32</span><span class="o">-</span><span class="mi">1</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cryptographic</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">MAC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="nc">MD5</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">supported</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">was</span><span class="w">
       </span><span class="n">built</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">hashing</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">crypto</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="p" data-group-id="0346433296-17">(</span><span class="nc">Nettle</span><span class="p">,</span><span class="w"> </span><span class="nc">GnuTLS</span><span class="p">,</span><span class="w"> </span><span class="nc">NSS</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">LibTomCrypt</span><span class="p" data-group-id="0346433296-17">)</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ss">available</span><span class="p">:</span><span class="w"> </span><span class="nc">MD5</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA1</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA256</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA384</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA512</span><span class="o">.</span><span class="w">
       </span><span class="nc">Depending</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">library</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">using</span><span class="p">,</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">functions</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ciphers</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="ss">available</span><span class="p">:</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">224</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">256</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">384</span><span class="p">,</span><span class="w"> </span><span class="nc">SHA3</span><span class="o">-</span><span class="mi">512</span><span class="p">,</span><span class="w"> </span><span class="nc">TIGER</span><span class="p">,</span><span class="w">
       </span><span class="nc">WHIRLPOOL</span><span class="p">,</span><span class="w"> </span><span class="nc">AES128</span><span class="p">,</span><span class="w"> </span><span class="nc">AES256</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">ASCII</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="n">white</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">optional</span><span class="w"> </span><span class="ss">ASCII</span><span class="p">:</span><span class="w"> </span><span class="n">prefix</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">HEX</span><span class="p">:</span><span class="w"> </span><span class="n">prefix</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">maximum</span><span class="w">
       </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">2047</span><span class="w"> </span><span class="n">characters</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cipher</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">match</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">cipher</span><span class="w"> </span><span class="p" data-group-id="0346433296-18">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">AES128</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">256</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">AES256</span><span class="p" data-group-id="0346433296-18">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">randomly</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">keys</span><span class="p">,</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hexadecimal</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="n">bits</span><span class="w"> </span><span class="n">long</span><span class="w"> </span><span class="p" data-group-id="0346433296-19">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">characters</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">HEX</span><span class="p">:</span><span class="w">
       </span><span class="n">prefix</span><span class="p" data-group-id="0346433296-19">)</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">log</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">warning</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">syslog</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">shorter</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="mi">80</span><span class="w"> </span><span class="n">bits</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">types</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="nc">AES</span><span class="w"> </span><span class="n">ciphers</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">SHA3</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">functions</span><span class="o">.</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">avoided</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">peers</span><span class="o">.</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="n">major</span><span class="w"> </span><span class="n">weakness</span><span class="w"> </span><span class="n">of</span><span class="w">
       </span><span class="nc">MD5</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="nc">MAC</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">attack</span><span class="p">,</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">man</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">middle</span><span class="w"> </span><span class="n">attacker</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">arbitrary</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">fields</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">MAC</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">verification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">extended</span><span class="w"> </span><span class="n">message</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">extfield</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="p" data-group-id="0346433296-20">(</span><span class="n">enabling</span><span class="w"> </span><span class="n">processing</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="p" data-group-id="0346433296-20">)</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">authenticated</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="n">key</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">keygen</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">random</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">generates</span><span class="w"> </span><span class="mi">160</span><span class="o">-</span><span class="n">bit</span><span class="w"> </span><span class="nc">MD5</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="nc">SHA1</span><span class="w"> </span><span class="n">keys</span><span class="o">.</span><span class="w">

       </span><span class="nc">For</span><span class="w"> </span><span class="n">security</span><span class="w"> </span><span class="n">reasons</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">readable</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">normally</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="p" data-group-id="0346433296-21">(</span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rekey</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="n">issued</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">chronyc</span><span class="p" data-group-id="0346433296-21">)</span><span class="o">.</span><span class="w">

   </span><span class="n">lock_all</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">lock_all</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="nc">RAM</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">paged</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">consistent</span><span class="w"> </span><span class="n">latency</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">supported</span><span class="w">
       </span><span class="n">on</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="o">.</span><span class="w">

   </span><span class="n">pidfile</span><span class="w"> </span><span class="n">file</span><span class="w">
       </span><span class="nc">Unless</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">started</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">-</span><span class="nc">Q</span><span class="w"> </span><span class="n">option</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">writes</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="p" data-group-id="0346433296-22">(</span><span class="nc">PID</span><span class="p" data-group-id="0346433296-22">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">startup</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">another</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w">
       </span><span class="n">system</span><span class="o">.</span><span class="w"> </span><span class="nc">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">pid</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pidfile</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="ss">.</span><span class="p">:</span><span class="w">

           </span><span class="n">pidfile</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chronyd</span><span class="o">.</span><span class="n">pid</span><span class="w">

       </span><span class="nc">Setting</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">disables</span><span class="w"> </span><span class="n">writing</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">checking</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PID</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

   </span><span class="n">ptpport</span><span class="w"> </span><span class="n">port</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">ptpport</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="p" data-group-id="0346433296-23">(</span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="p" data-group-id="0346433296-23">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">cannot</span><span class="w">
       </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">unicast</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">packets</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">one</span><span class="o">-</span><span class="n">step</span><span class="w"> </span><span class="k">end</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="k">end</span><span class="w"> </span><span class="n">transparent</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">switches</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">routers</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w">
       </span><span class="n">port</span><span class="w"> </span><span class="n">recognized</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">transparent</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">319</span><span class="w"> </span><span class="p" data-group-id="0346433296-24">(</span><span class="nc">PTP</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="n">port</span><span class="p" data-group-id="0346433296-24">)</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="0346433296-25">(</span><span class="n">disabled</span><span class="p" data-group-id="0346433296-25">)</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">future</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">networks</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">client</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">protocol</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">sources</span><span class="o">.</span><span class="w"> </span><span class="nc">Each</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
       </span><span class="n">source</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">port</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">timestamping</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="nc">NICs</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="nc">PTP</span><span class="w">
       </span><span class="n">packets</span><span class="w"> </span><span class="n">only</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">ptp</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">extension</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="nc">F324</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">corrections</span><span class="w"> </span><span class="n">provided</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w">
       </span><span class="n">transparent</span><span class="w"> </span><span class="n">clocks</span><span class="o">.</span><span class="w">

       </span><span class="nc">An</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ss">is</span><span class="p">:</span><span class="w">

           </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">minpoll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">maxpoll</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">xleave</span><span class="w"> </span><span class="n">port</span><span class="w"> </span><span class="mi">319</span><span class="w"> </span><span class="n">extfield</span><span class="w"> </span><span class="nc">F324</span><span class="w">
           </span><span class="n">hwtimestamp</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rxfilter</span><span class="w"> </span><span class="n">ptp</span><span class="w">
           </span><span class="n">ptpport</span><span class="w"> </span><span class="mi">319</span><span class="w">

   </span><span class="n">ptpdomain</span><span class="w"> </span><span class="n">domain</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">ptpdomain</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">PTP</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">transmitted</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">accepted</span><span class="w"> </span><span class="nc">NTP</span><span class="o">-</span><span class="n">over</span><span class="o">-</span><span class="nc">PTP</span><span class="w"> </span><span class="n">messages</span><span class="o">.</span><span class="w"> </span><span class="nc">Messages</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">domains</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">ignored</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">minimum</span><span class="w"> </span><span class="n">is</span><span class="w">
       </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">maximum</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="mi">255</span><span class="o">.</span><span class="w">

   </span><span class="n">sched_priority</span><span class="w"> </span><span class="n">priority</span><span class="w">
       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sched_priority</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">select</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SCHED_FIFO</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">priority</span><span class="w"> </span><span class="p" data-group-id="0346433296-26">(</span><span class="n">which</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="mi">100</span><span class="p" data-group-id="0346433296-26">)</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w">
       </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p" data-group-id="0346433296-27">(</span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="p" data-group-id="0346433296-27">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">disable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">constraint</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">than</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pthread_setschedparam</span><span class="p" data-group-id="0346433296-28">(</span><span class="p" data-group-id="0346433296-28">)</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instruct</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SCHED_FIFO</span><span class="w"> </span><span class="n">first</span><span class="o">-</span><span class="ow">in</span><span class="p">,</span><span class="w"> </span><span class="n">first</span><span class="o">-</span><span class="n">out</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduling</span><span class="w">
       </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">priority</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">means</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">whenever</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ready</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">run</span><span class="p">,</span><span class="w"> </span><span class="n">interrupting</span><span class="w"> </span><span class="n">whatever</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">higher</span><span class="w"> </span><span class="n">priority</span><span class="w">
       </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">process</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">impact</span><span class="w"> </span><span class="n">performance</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">requirements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">modest</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">lower</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">consistent</span><span class="w"> </span><span class="n">latency</span><span class="w"> </span><span class="n">since</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w">
       </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">wait</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">scheduler</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">pthread_setschedparam</span><span class="p" data-group-id="0346433296-29">(</span><span class="mi">3</span><span class="p" data-group-id="0346433296-29">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">details</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">thread_policy_set</span><span class="p" data-group-id="0346433296-30">(</span><span class="p" data-group-id="0346433296-30">)</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">real</span><span class="o">-</span><span class="n">time</span><span class="w"> </span><span class="n">scheduling</span><span class="o">.</span><span class="w"> </span><span class="nc">As</span><span class="w"> </span><span class="n">noted</span><span class="w"> </span><span class="n">above</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">really</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

   </span><span class="n">user</span><span class="w"> </span><span class="n">user</span><span class="w">
       </span><span class="nc">The</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">sets</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">switch</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">drop</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">privileges</span><span class="o">.</span><span class="w">

       </span><span class="nc">On</span><span class="w"> </span><span class="nc">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">libcap</span><span class="w"> </span><span class="n">library</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="n">macOS</span><span class="p">,</span><span class="w"> </span><span class="nc">FreeBSD</span><span class="p">,</span><span class="w"> </span><span class="nc">NetBSD</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">illumos</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">forks</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">two</span><span class="w"> </span><span class="n">processes</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">retains</span><span class="w"> </span><span class="n">root</span><span class="w">
       </span><span class="n">privileges</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">perform</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">privileged</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">calls</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">behalf</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">parent</span><span class="o">.</span><span class="w">

       </span><span class="nc">The</span><span class="w"> </span><span class="n">compiled</span><span class="o">-</span><span class="ow">in</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="c">_chrony</span><span class="o">.</span></code></pre><p>EXAMPLES
   NTP client with permanent connection to NTP servers</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="p" data-group-id="9713127241-1">(</span><span class="ow">or</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">containing</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">derive</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="p" data-group-id="9713127241-1">)</span><span class="w"> </span><span class="n">permanently</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">know</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="ss">methods</span><span class="p">:</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Your</span><span class="w"> </span><span class="n">institution</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">network</span><span class="o">.</span><span class="w"> </span><span class="nc">Contact</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">administrator</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Your</span><span class="w"> </span><span class="nc">ISP</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">customers</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Somewhere</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">homepage</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">near</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">you</span><span class="o">.</span><span class="w"> </span><span class="nc">Check</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">access</span><span class="w">
       </span><span class="n">policy</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="n">facilities</span><span class="o">.</span><span class="w">

   </span><span class="err">•</span><span class="w">   </span><span class="nc">Use</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="o">&gt;</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="w">

   </span><span class="nc">Assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ss">minimum</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w">

   </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">probably</span><span class="w"> </span><span class="n">want</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">driftfile</span><span class="p">,</span><span class="w"> </span><span class="n">makestep</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rtcsync</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">particularly</span><span class="w"> </span><span class="n">useful</span><span class="o">.</span><span class="w"> </span><span class="nc">Also</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">speed</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">synchronisation</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="9713127241-2">(</span><span class="n">one</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">time</span><span class="p" data-group-id="9713127241-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">better</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="n">directives</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">pool</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="9713127241-3">(</span><span class="ow">or</span><span class="w"> </span><span class="n">pool</span><span class="p" data-group-id="9713127241-3">)</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Network</span><span class="w"> </span><span class="nc">Time</span><span class="w"> </span><span class="nc">Security</span><span class="w"> </span><span class="p" data-group-id="9713127241-4">(</span><span class="nc">NTS</span><span class="p" data-group-id="9713127241-4">)</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">mechanism</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="nc">NTS</span><span class="w"> </span><span class="n">support</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">nts</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">secure</span><span class="w"> </span><span class="n">synchronisation</span><span class="w">
   </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w"> </span><span class="n">nts</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span></code></pre><p>   NTP client with infrequent connection to NTP servers</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">occasional</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="n">chronyd</span><span class="w">
   </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">connection</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">down</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">continuously</span><span class="w"> </span><span class="n">trying</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">inaccessible</span><span class="o">.</span><span class="w">

   </span><span class="nc">Again</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="p">,</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">chrony</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="ss">contain</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">offline</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">keyword</span><span class="w"> </span><span class="n">indicates</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">contacted</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">receives</span><span class="w"> </span><span class="n">notification</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">link</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="nc">Internet</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">present</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">tell</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">finish</span><span class="w"> </span><span class="n">sampling</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">online</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">

   </span><span class="nc">To</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">their</span><span class="w"> </span><span class="kn">use</span><span class="p">,</span><span class="w"> </span><span class="n">assuming</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">pppd</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">installed</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w">
   </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ppp</span><span class="o">/</span><span class="n">ip</span><span class="o">-</span><span class="n">up</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ss">include</span><span class="p">:</span><span class="w">

       </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="w"> </span><span class="n">online</span><span class="w">

   </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">ppp</span><span class="o">/</span><span class="n">ip</span><span class="o">-</span><span class="n">down</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="ss">include</span><span class="p">:</span><span class="w">

       </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">chronyc</span><span class="w"> </span><span class="n">offline</span><span class="w">

   </span><span class="n">chronyd</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">polling</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">occur</span><span class="w"> </span><span class="n">whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">machine</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">actually</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="o">.</span></code></pre><p>   Isolated networks</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">shows</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">never</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">network</span><span class="w"> </span><span class="n">connectivity</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">ultimately</span><span class="w"> </span><span class="n">derives</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="o">.</span><span class="w">

   </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">situation</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">timeserver</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">direct</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">mode</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">average</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">form</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">manual</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">chronyc</span><span class="w"> </span><span class="n">program</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">re</span><span class="o">-</span><span class="n">read</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">drift</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">accurate</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w"> </span><span class="nc">To</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">around</span><span class="w"> </span><span class="n">this</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">can</span><span class="w">
   </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">initially</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">itself</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="err">‘</span><span class="n">majority</span><span class="o">-</span><span class="n">vote</span><span class="err">’</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">clients</span><span class="err">&#39;</span><span class="w"> </span><span class="n">times</span><span class="p">;</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="err">‘</span><span class="n">flywheel</span><span class="err">’</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rebooting</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">useful</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clocks</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">stay</span><span class="w"> </span><span class="n">close</span><span class="w"> </span><span class="n">together</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">adjusted</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">settime</span><span class="w"> </span><span class="n">command</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">smoothing</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w">
   </span><span class="n">activated</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smoothtime</span><span class="w"> </span><span class="n">activate</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">ready</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">served</span><span class="o">.</span><span class="w"> </span><span class="nc">After</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">point</span><span class="p">,</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">adjustments</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">smoothed</span><span class="w"> </span><span class="n">out</span><span class="o">.</span><span class="w">

   </span><span class="nc">A</span><span class="w"> </span><span class="n">typical</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="p" data-group-id="0920155402-1">(</span><span class="n">called</span><span class="w"> </span><span class="n">ntp</span><span class="o">.</span><span class="n">local</span><span class="p" data-group-id="0920155402-1">)</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="p" data-group-id="0920155402-2">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mi">165</span><span class="o">.</span><span class="n">x</span><span class="w"> </span><span class="n">subnet</span><span class="p" data-group-id="0920155402-2">)</span><span class="p">:</span><span class="w">

       </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">client1</span><span class="w"> </span><span class="n">client3</span><span class="w"> </span><span class="n">client6</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">8</span><span class="w">
       </span><span class="n">manual</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">smoothtime</span><span class="w"> </span><span class="mi">400</span><span class="w"> </span><span class="mf">0.01</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resynchronise</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">restarts</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="ss">be</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp</span><span class="o">.</span><span class="n">local</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">rest</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">designated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">requirement</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">orphan</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="n">enables</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">special</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">computers</span><span class="w"> </span><span class="n">automatically</span><span class="o">.</span><span class="w"> </span><span class="nc">They</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">another</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">server</span><span class="w">
   </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="p" data-group-id="0920155402-3">(</span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="nc">IP</span><span class="w"> </span><span class="n">address</span><span class="p" data-group-id="0920155402-3">)</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">role</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">primary</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">synchronised</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w"> </span><span class="nc">When</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">fails</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">second</span><span class="w"> </span><span class="n">smallest</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">on</span><span class="o">.</span><span class="w">

   </span><span class="nc">A</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="p" data-group-id="0920155402-4">(</span><span class="n">assuming</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">called</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">local</span><span class="p">,</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="p" data-group-id="0920155402-4">)</span><span class="p">:</span><span class="w">

       </span><span class="n">initstepslew</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">local</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">local</span><span class="w"> </span><span class="n">stratum</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">orphan</span><span class="w">
       </span><span class="n">manual</span><span class="w">
       </span><span class="n">allow</span><span class="w"> </span><span class="mf">192.168</span><span class="o">.</span><span class="mf">165.0</span><span class="o">/</span><span class="mi">24</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">hostnames</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">initstepslew</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">directives</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">modified</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span><span class="w"> </span><span class="nc">Their</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w">
   </span><span class="n">to</span><span class="w"> </span><span class="n">poll</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">three</span><span class="w"> </span><span class="n">servers</span><span class="o">.</span></code></pre><p>   RTC tracking</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">considers</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">occasional</span><span class="w"> </span><span class="n">connections</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">turned</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="err">‘</span><span class="n">sessions</span><span class="err">’</span><span class="o">.</span><span class="w"> </span><span class="nc">In</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">relies</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">maintain</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">periods</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">powered</span><span class="w"> </span><span class="n">up</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">assumes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="nc">Linux</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">exclusively</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="o">.</span><span class="w"> </span><span class="nc">Dual</span><span class="o">-</span><span class="n">boot</span><span class="w"> </span><span class="n">systems</span><span class="w"> </span><span class="n">might</span><span class="w"> </span><span class="n">work</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">depends</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="p" data-group-id="8816434492-1">(</span><span class="k">if</span><span class="w"> </span><span class="n">anything</span><span class="p" data-group-id="8816434492-1">)</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w">
   </span><span class="n">system</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="o">.</span><span class="w"> </span><span class="nc">On</span><span class="w"> </span><span class="mf">2.6</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="n">kernels</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">motherboard</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">HPET</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">HPET_EMULATE_RTC</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">kernel</span><span class="w"> </span><span class="n">configuration</span><span class="o">.</span><span class="w"> </span><span class="nc">Otherwise</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w">
   </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">interact</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">device</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">it</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">connected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">external</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">from</span><span class="o">.</span><span class="w"> </span><span class="nc">These</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">straight</span><span class="o">-</span><span class="n">line</span><span class="w"> </span><span class="n">fits</span><span class="w"> </span><span class="n">are</span><span class="w">
   </span><span class="n">performed</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">them</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">provide</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="err">’</span><span class="n">s</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">gaining</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">losing</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">taken</span><span class="w"> </span><span class="n">offline</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">Internet</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">gain</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loss</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">free</span><span class="o">-</span><span class="n">run</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">online</span><span class="o">.</span><span class="w">

   </span><span class="nc">Whilst</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">makes</span><span class="w"> </span><span class="n">measurements</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="p" data-group-id="8816434492-2">(</span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">dev</span><span class="o">/</span><span class="n">rtc</span><span class="w"> </span><span class="n">interface</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">kernel</span><span class="p" data-group-id="8816434492-2">)</span><span class="o">.</span><span class="w"> </span><span class="nc">An</span><span class="w"> </span><span class="n">estimate</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">particular</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">second</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">gains</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">loses</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">relative</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="no">true</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">powered</span><span class="w"> </span><span class="n">down</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">files</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">tracking</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p" data-group-id="8816434492-3">(</span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rtcfile</span><span class="w">
   </span><span class="n">directive</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">specified</span><span class="p" data-group-id="8816434492-3">)</span><span class="o">.</span><span class="w"> </span><span class="nc">These</span><span class="w"> </span><span class="n">pieces</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dump</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">writertc</span><span class="w"> </span><span class="n">commands</span><span class="w"> </span><span class="n">respectively</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">issued</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">chronyc</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">rebooted</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">reads</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">saved</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">shutdown</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">best</span><span class="w">
   </span><span class="n">estimate</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">now</span><span class="p">,</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">left</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">continuously</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">then</span><span class="w"> </span><span class="n">reloaded</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">computer</span><span class="w"> </span><span class="n">goes</span><span class="w"> </span><span class="n">online</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">sessions</span><span class="sc">&#39; measurements can contribute to the line-fitting process, which gives a much better estimate of the computer’s gain or
   loss rate.

   One problem with saving the measurements and RTC data when the machine is shut down is what happens if there is a power failure; the most recent data will not be saved. Although
   chronyd is robust enough to cope with this, some performance might be lost. (The main danger arises if the RTC has been changed during the session, with the trimrtc command in
   chronyc. Because of this, trimrtc will make sure that a meaningful RTC file is saved after the change is completed).

   The easiest protection against power failure is to put the dump and writertc commands in the same place as the offline command is issued to take chronyd offline; because chronyd
   free-runs between online sessions, no parameters will change significantly between going offline from the Internet and any power failure.

   A final point regards computers which are left running for extended periods and where it is desired to spin down the hard disc when it is not in use (e.g. when not accessed for 15
   minutes). chronyd has been planned so it supports such operation; this is the reason why the RTC tracking parameters are not saved to disc after every update, but only when the user
   requests such a write, or during the shutdown sequence. The only other facility that will generate periodic writes to the disc is the log rtc facility in the configuration file; this
   option should not be used if you want your disc to spin down.

   To illustrate how a computer might be configured for this case, example configuration files are shown.

   For the chrony.conf file, the following can be used as an example.

       server ntp1.example.net maxdelay 0.4 offline
       server ntp2.example.net maxdelay 0.4 offline
       server ntp3.example.net maxdelay 0.4 offline
       logdir /var/log/chrony
       log statistics measurements tracking
       driftfile /var/lib/chrony/drift
       makestep 1.0 3
       maxupdateskew 100.0
       dumpdir /var/lib/chrony
       rtcfile /var/lib/chrony/rtc

   pppd is used for connecting to the Internet. This runs two scripts /etc/ppp/ip-up and /etc/ppp/ip-down when the link goes online and offline respectively.

   The relevant part of the /etc/ppp/ip-up file is:

       /usr/bin/chronyc online

   and the relevant part of the /etc/ppp/ip-down script is:

       /usr/bin/chronyc -m offline dump writertc

   chronyd is started during the boot sequence with the -r and -s options. It might need to be started before any software that depends on the system clock not jumping or moving
   backwards, depending on the directives in chronyd&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

   </span><span class="nc">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">shutdown</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="k">receive</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">SIGTERM</span><span class="w"> </span><span class="n">several</span><span class="w"> </span><span class="n">seconds</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="nc">SIGKILL</span><span class="p">;</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">SIGTERM</span><span class="w"> </span><span class="n">causes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">measurement</span><span class="w"> </span><span class="n">histories</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">RTC</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">saved</span><span class="o">.</span></code></pre><p>   Public NTP server</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chronyd</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">configured</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">operate</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">public</span><span class="w"> </span><span class="nc">NTP</span><span class="w"> </span><span class="n">server</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">join</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="ss">://</span><span class="n">www</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">ntp</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">en</span><span class="o">/</span><span class="n">join</span><span class="o">.</span><span class="n">html</span><span class="o">&gt;</span><span class="w"> </span><span class="n">project</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">similar</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
   </span><span class="n">client</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">permanent</span><span class="w"> </span><span class="n">connection</span><span class="p">,</span><span class="w"> </span><span class="n">except</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">addresses</span><span class="o">.</span><span class="w"> </span><span class="nc">It</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">recommended</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">least</span><span class="w"> </span><span class="n">four</span><span class="w"> </span><span class="n">good</span><span class="w"> </span><span class="n">servers</span><span class="w"> </span><span class="p" data-group-id="2961755151-1">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pool</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">NTP</span><span class="w">
   </span><span class="n">homepage</span><span class="p" data-group-id="2961755151-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">hardware</span><span class="w"> </span><span class="n">reference</span><span class="w"> </span><span class="n">clock</span><span class="w"> </span><span class="p" data-group-id="2961755151-2">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">GPS</span><span class="w"> </span><span class="n">receiver</span><span class="p" data-group-id="2961755151-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">refclock</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">logging</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="n">accesses</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">increased</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">interleaved</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">large</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">clients</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w">
   </span><span class="n">better</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="n">limiting</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">ratelimit</span><span class="w"> </span><span class="n">directive</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">timezone</span><span class="w"> </span><span class="n">database</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">kept</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">date</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">includes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">right</span><span class="o">/</span><span class="nc">UTC</span><span class="w"> </span><span class="n">timezone</span><span class="p">,</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">reliable</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">determine</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">leap</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">applied</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="nc">UTC</span><span class="o">.</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dumpdir</span><span class="w"> </span><span class="n">directive</span><span class="w"> </span><span class="n">shortens</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">chronyd</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">able</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">serve</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">to</span><span class="w">
   </span><span class="n">its</span><span class="w"> </span><span class="n">clients</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">restarted</span><span class="w"> </span><span class="p" data-group-id="2961755151-3">(</span><span class="n">e</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">upgrading</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="p" data-group-id="2961755151-3">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp1</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp2</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp3</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">server</span><span class="w"> </span><span class="n">ntp4</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">net</span><span class="w"> </span><span class="n">iburst</span><span class="w">
       </span><span class="n">makestep</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="mi">3</span><span class="w">
       </span><span class="n">rtcsync</span><span class="w">
       </span><span class="n">allow</span><span class="w">
       </span><span class="n">clientloglimit</span><span class="w"> </span><span class="mi">100000000</span><span class="w">
       </span><span class="n">leapsectz</span><span class="w"> </span><span class="n">right</span><span class="o">/</span><span class="nc">UTC</span><span class="w">
       </span><span class="n">driftfile</span><span class="w"> </span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">chrony</span><span class="o">/</span><span class="n">drift</span><span class="w">
       </span><span class="n">dumpdir</span><span class="w"> </span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">chrony</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chronyc</span><span class="p" data-group-id="9286911896-1">(</span><span class="mi">1</span><span class="p" data-group-id="9286911896-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">chronyd</span><span class="p" data-group-id="9286911896-2">(</span><span class="mi">8</span><span class="p" data-group-id="9286911896-2">)</span></code></pre><p>BUGS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">For</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">how</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">bugs</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">visit</span><span class="w"> </span><span class="n">https</span><span class="ss">://</span><span class="n">chrony</span><span class="o">-</span><span class="n">project</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="o">.</span></code></pre><p>AUTHORS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">chrony</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">written</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">Richard</span><span class="w"> </span><span class="nc">Curnow</span><span class="p">,</span><span class="w"> </span><span class="nc">Miroslav</span><span class="w"> </span><span class="nc">Lichvar</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">others</span><span class="o">.</span></code></pre><p>chrony 4.6.1                                                                              2024-10-08                                                                            CHRONY.CONF(5)</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="charmap.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
charmap
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="clamav-milter-conf.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
clamav-milter.conf
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.29.4">
    <meta name="project" content="Manpages v2.3.0">

    <title>procmailex — Manpages v2.3.0</title>
    <link rel="stylesheet" href="dist/html-elixir-HHVY3JYD.css" />


    <script src="dist/handlebars.runtime-NWIB6V2M.js"></script>
    <script src="dist/handlebars.templates-XWGFFSCD.js"></script>
    <script src="dist/sidebar_items-357E47FD.js"></script>

      <script src="doc-versions.js"></script>

    <script async src="dist/html-JDI3AVDD.js"></script>

<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body data-type="extras" class="page-extra">
    <script>

      try {
        var settings = JSON.parse(localStorage.getItem('ex_doc:settings') || '{}');

        if (settings.theme === 'dark' ||
           ((settings.theme === 'system' || settings.theme == null) &&
             window.matchMedia('(prefers-color-scheme: dark)').matches)
           ) {
          document.body.classList.add('dark')
        }
      } catch (error) { }
    </script>

<div class="main">

<button class="sidebar-button sidebar-toggle" aria-label="toggle sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<section class="sidebar">
  <form class="sidebar-search" action="search.html">
    <button type="submit" class="search-button" aria-label="Submit Search">
      <i class="ri-search-2-line" aria-hidden="true" title="Submit search"></i>
    </button>
    <button type="button" tabindex="-1" class="search-close-button" aria-label="Cancel Search">
      <i class="ri-close-line ri-lg" aria-hidden="true" title="Cancel search"></i>
    </button>
    <label class="search-label">
      <p class="sr-only">Search</p>
      <input name="q" type="text" class="search-input" placeholder="Search..." aria-label="Input your search terms" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
    </label>
  </form>

  <div class="autocomplete">
    <div class="autocomplete-results">
    </div>
  </div>

  <div class="sidebar-header">

      <a href="https://kaisenlinux.org/manpages/">
        <img src="assets/logo.jpg" alt="Manpages" class="sidebar-projectImage">
      </a>

    <div class="sidebar-projectDetails">
      <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
      </a>
      <div class="sidebar-projectVersion" translate="no">
        v2.3.0
      </div>
    </div>
    <ul class="sidebar-listNav">
      <li><a id="extras-list-link" href="#full-list">MANUALS</a></li>


    </ul>
  </div>

  <div class="gradient"></div>
  <ul id="full-list"></ul>
</section>

<section class="content">
  <output role="status" id="toast"></output>
  <div class="content-outer">
    <div id="content" class="content-inner">

<h1>
<button class="icon-action display-settings">
  <i class="ri-settings-3-line"></i>
  <span class="sr-only">Settings</span>
</button>



  <span>procmailex</span>
</h1>

<p>PROCMAILEX(5)                                                                       File Formats Manual                                                                      PROCMAILEX(5)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">procmailex</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="n">rcfile</span><span class="w"> </span><span class="n">examples</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">procmailrc</span><span class="w"> </span><span class="n">examples</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">For</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">rcfile</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">procmailrc</span><span class="p" data-group-id="6973387865-1">(</span><span class="mi">5</span><span class="p" data-group-id="6973387865-1">)</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">weighted</span><span class="w"> </span><span class="n">scoring</span><span class="w"> </span><span class="n">technique</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">described</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">detail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">procmailsc</span><span class="p" data-group-id="6973387865-2">(</span><span class="mi">5</span><span class="p" data-group-id="6973387865-2">)</span><span class="w"> </span><span class="n">man</span><span class="w"> </span><span class="n">page</span><span class="o">.</span><span class="w">

   </span><span class="nc">This</span><span class="w">  </span><span class="n">man</span><span class="w">  </span><span class="n">page</span><span class="w">  </span><span class="n">shows</span><span class="w">  </span><span class="n">several</span><span class="w">  </span><span class="n">example</span><span class="w">  </span><span class="n">recipes</span><span class="o">.</span><span class="w">   </span><span class="nc">For</span><span class="w">  </span><span class="n">examples</span><span class="w">  </span><span class="n">of</span><span class="w">  </span><span class="n">complete</span><span class="w">  </span><span class="n">rcfiles</span><span class="w">  </span><span class="n">you</span><span class="w">  </span><span class="n">can</span><span class="w">  </span><span class="n">check</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="nc">NOTES</span><span class="w">  </span><span class="n">section</span><span class="w">  </span><span class="ow">in</span><span class="w">  </span><span class="n">procmail</span><span class="p" data-group-id="6973387865-3">(</span><span class="mi">1</span><span class="p" data-group-id="6973387865-3">)</span><span class="p">,</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">rcfiles</span><span class="w"> </span><span class="ow">in</span><span class="w">
   </span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">doc</span><span class="o">/</span><span class="n">procmail</span><span class="o">/</span><span class="n">examples</span><span class="o">.</span></code></pre><p>EXAMPLES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Sort</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">coming</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">scuba</span><span class="o">-</span><span class="n">dive</span><span class="w"> </span><span class="n">mailing</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mailfolder</span><span class="w"> </span><span class="n">scubafile</span><span class="w"> </span><span class="p" data-group-id="8146422129-1">(</span><span class="n">uses</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">locallockfile</span><span class="w"> </span><span class="n">scubafile</span><span class="o">.</span><span class="n">lock</span><span class="p" data-group-id="8146422129-1">)</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">TOscuba</span><span class="w">
          </span><span class="n">scubafile</span><span class="w">

   </span><span class="nc">Forward</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">peter</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">compilers</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">william</span><span class="w"> </span><span class="p" data-group-id="8146422129-2">(</span><span class="ow">and</span><span class="w"> </span><span class="n">keep</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">copy</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">here</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">petcompil</span><span class="p" data-group-id="8146422129-2">)</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="o">.</span><span class="o">*</span><span class="n">peter</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="n">compilers</span><span class="w">
          </span><span class="p" data-group-id="8146422129-3">{</span><span class="w">
             </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">c</span><span class="w">
             </span><span class="o">!</span><span class="w"> </span><span class="n">william</span><span class="na">@somewhere</span><span class="o">.</span><span class="n">edu</span><span class="w">

             </span><span class="p">:</span><span class="mi">0</span><span class="w">
             </span><span class="n">petcompil</span><span class="w">
          </span><span class="p" data-group-id="8146422129-3">}</span><span class="w">

   </span><span class="nc">An</span><span class="w"> </span><span class="n">equivalent</span><span class="w"> </span><span class="n">solution</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">accomplishes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">same</span><span class="p">:</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">c</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="o">.</span><span class="o">*</span><span class="n">peter</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="n">compilers</span><span class="w">
          </span><span class="o">!</span><span class="w"> </span><span class="n">william</span><span class="na">@somewhere</span><span class="o">.</span><span class="n">edu</span><span class="w">

             </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">A</span><span class="w">
             </span><span class="n">petcompil</span><span class="w">

   </span><span class="nc">An</span><span class="w"> </span><span class="n">equivalent</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">slightly</span><span class="w"> </span><span class="n">slower</span><span class="w"> </span><span class="n">solution</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">accomplishes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">same</span><span class="p">:</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">c</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="o">.</span><span class="o">*</span><span class="n">peter</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="n">compilers</span><span class="w">
          </span><span class="o">!</span><span class="w"> </span><span class="n">william</span><span class="na">@somewhere</span><span class="o">.</span><span class="n">edu</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="o">.</span><span class="o">*</span><span class="n">peter</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="n">compilers</span><span class="w">
          </span><span class="n">petcompil</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">fairly</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">plan</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">experiment</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">little</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">helps</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">safety</span><span class="w"> </span><span class="n">net</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">sort</span><span class="o">.</span><span class="w">  </span><span class="nc">Inserting</span><span class="w">  </span><span class="n">the</span><span class="w">  </span><span class="n">following</span><span class="w">  </span><span class="n">two</span><span class="w">  </span><span class="n">recipes</span><span class="w">  </span><span class="n">above</span><span class="w">  </span><span class="n">all</span><span class="w">  </span><span class="n">other</span><span class="w">
   </span><span class="n">recipes</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">arriving</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">preserved</span><span class="o">.</span><span class="w">  </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">intended</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">create</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="err">`</span><span class="n">backup</span><span class="sc">&#39;
   in $MAILDIR prior to inserting these two recipes.

          :0 c
          backup

          :0 ic
          | cd backup &amp;&amp; rm -f dummy `ls -t msg.* | sed -e 1,32d`

   If your system doesn&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">generates</span><span class="w"> </span><span class="n">incorrect</span><span class="w"> </span><span class="n">leading</span><span class="w"> </span><span class="err">`</span><span class="nc">From</span><span class="w"> </span><span class="sc">&#39; lines on every mail, you can fix this by calling up procmail with the -f- option.  To fix the  same  problem
   by  different  means, you could have inserted the following two recipes above all other recipes in your rcfile.  They will filter the header of any mail through formail which will
   strip any leading `From &#39;</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">regenerates</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">subsequently</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">fhw</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="nc">I</span><span class="w"> </span><span class="s">&quot;From &quot;</span><span class="w"> </span><span class="o">-</span><span class="n">a</span><span class="w"> </span><span class="s">&quot;From &quot;</span><span class="w">

   </span><span class="nc">Add</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">headers</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">didn</span><span class="sc">&#39;t come from the postmaster to your private header collection (for statistics or mail debugging); and use the lockfile  `headc.lock&#39;</span><span class="o">.</span><span class="w">   </span><span class="nc">In</span><span class="w">
   </span><span class="n">order</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="n">make</span><span class="w">  </span><span class="n">sure</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">lockfile</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">removed</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pipe</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">finished</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="err">`</span><span class="n">w</span><span class="sc">&#39;; otherwise the lockfile would be removed as soon as the pipe has ac‐
   cepted the mail.

          :0 hwc:
          * !^FROM_MAILER
          | uncompress headc.Z; cat &gt;&gt;headc; compress headc

   Or, if you would use the more efficient gzip instead of compress:

          :0 hwc:
          * !^FROM_MAILER
          | gzip &gt;&gt;headc.gz

   Forward all mails shorter than 1000 bytes to my home address (no lockfile needed on this recipe).

          :0
          * &lt; 1000
          ! myname@home

   Split up incoming digests from the surfing mailing list into their individual messages, and store them into surfing, using surfing.lock as the locallockfile.

          :0:
          * ^Subject:.*surfing.*Digest
          | formail +1 -ds &gt;&gt;surfing

   Store everything coming from the postmaster or mailer-daemon (like bounced mail) into the file postm, using postm.lock as the locallockfile.

          :0:
          * ^FROM_MAILER
          postm

   A simple autoreply recipe.  It makes sure that neither mail from any daemon (like bouncing mail or mail from mailing-lists), nor autoreplies  coming  from  yourself  will  be  au‐
   toreplied to.  If this precaution would not be taken, disaster could result (`ringing&#39;</span><span class="w"> </span><span class="n">mail</span><span class="p">)</span><span class="o">.</span><span class="w">  </span><span class="nc">In</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">autoreply</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">incoming</span><span class="w"> </span><span class="n">mail</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">course</span><span class="w">
   </span><span class="n">insert</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">recipes</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">rcfile</span><span class="o">.</span><span class="w">  </span><span class="nc">However</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">advisable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">recipes</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">process</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mails</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">subscribed</span><span class="w"> </span><span class="n">mailinglists</span><span class="p">;</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">generally</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w">
   </span><span class="n">good</span><span class="w"> </span><span class="n">idea</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">generate</span><span class="w"> </span><span class="n">autoreplies</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mailinglists</span><span class="w"> </span><span class="p" data-group-id="8146422129-4">(</span><span class="n">yes</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">FROM_DAEMON</span><span class="w"> </span><span class="n">regexp</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">already</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="n">those</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">mailinglist</span><span class="w"> </span><span class="n">doesn</span><span class="sc">&#39;t follow accepted conventions, this might
   not be enough).

          :0 h c
          * !^FROM_DAEMON
          * !^X-Loop: your@own.mail.address
          | (formail -r -I&quot;Precedence: junk&quot; </span><span class="se">\
</span><span class="sc">              -A&quot;X-Loop: your@own.mail.address&quot; ; </span><span class="se">\
</span><span class="sc">             echo &quot;Mail received.&quot;) | $SENDMAIL -t

   A more complicated autoreply recipe that implements the functional equivalent of the well known vacation(1) program.  This recipe is based on the same principles as the  last  one
   (prevent  `ringing&#39;</span><span class="w">  </span><span class="n">mail</span><span class="p" data-group-id="8146422129-4">)</span><span class="o">.</span><span class="w">   </span><span class="nc">In</span><span class="w"> </span><span class="n">addition</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">however</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">maintains</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">vacation</span><span class="w"> </span><span class="n">database</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">extracting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">inserting</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">vacation</span><span class="o">.</span><span class="n">cache</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">name</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="p" data-group-id="8146422129-5">(</span><span class="n">the</span><span class="w"> </span><span class="n">vacation</span><span class="o">.</span><span class="n">cache</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">maintained</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">formail</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">names</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">limited</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">maximum</span><span class="w">  </span><span class="n">of</span><span class="w">
   </span><span class="n">approximately</span><span class="w"> </span><span class="mi">8192</span><span class="w"> </span><span class="n">bytes</span><span class="p" data-group-id="8146422129-5">)</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">new</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">autoreply</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">sent</span><span class="o">.</span><span class="w">

   </span><span class="nc">As</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">see</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="n">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">conditions</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="o">.</span><span class="w">  </span><span class="nc">Do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">put</span><span class="w"> </span><span class="n">comments</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">though</span><span class="o">.</span><span class="w">

          </span><span class="nc">SHELL</span><span class="o">=</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="w">    </span><span class="c1"># for other shells, this might need adjustment</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="ss">Whc</span><span class="p">:</span><span class="w"> </span><span class="n">vacation</span><span class="o">.</span><span class="n">lock</span><span class="w">
           </span><span class="c1"># Perform a quick check to see if the mail was addressed to us</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="err">$</span><span class="o">^</span><span class="nc">To</span><span class="ss">:.</span><span class="o">*</span><span class="err">\</span><span class="o">&lt;</span><span class="err">$</span><span class="err">\</span><span class="nc">LOGNAME</span><span class="err">\</span><span class="o">&gt;</span><span class="w">
           </span><span class="c1"># Don&#39;t reply to daemons and mailinglists</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">FROM_DAEMON</span><span class="w">
           </span><span class="c1"># Mail loops are evil</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">X</span><span class="o">-</span><span class="ss">Loop</span><span class="p">:</span><span class="w"> </span><span class="n">your</span><span class="na">@own</span><span class="o">.</span><span class="n">mail</span><span class="o">.</span><span class="n">address</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="n">rD</span><span class="w"> </span><span class="mi">8192</span><span class="w"> </span><span class="n">vacation</span><span class="o">.</span><span class="n">cache</span><span class="w">

            </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">ehc</span><span class="w">         </span><span class="c1"># if the name was not in the cache</span><span class="w">
            </span><span class="o">|</span><span class="w"> </span><span class="p" data-group-id="8146422129-6">(</span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="n">rI</span><span class="s">&quot;Precedence: junk&quot;</span><span class="w"> </span><span class="err">\</span><span class="w">
                 </span><span class="o">-</span><span class="nc">A</span><span class="s">&quot;X-Loop: your@own.mail.address&quot;</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="err">\</span><span class="w">
               </span><span class="n">echo</span><span class="w"> </span><span class="s">&quot;I received your mail,&quot;</span><span class="p">;</span><span class="w"> </span><span class="err">\</span><span class="w">
               </span><span class="n">echo</span><span class="w"> </span><span class="s">&quot;but I won&#39;t be back until Monday.&quot;</span><span class="p">;</span><span class="w"> </span><span class="err">\</span><span class="w">
               </span><span class="n">echo</span><span class="w"> </span><span class="s">&quot;-- &quot;</span><span class="p">;</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">signature</span><span class="w"> </span><span class="err">\</span><span class="w">
              </span><span class="p" data-group-id="8146422129-6">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">$</span><span class="nc">SENDMAIL</span><span class="w"> </span><span class="o">-</span><span class="n">oi</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w">

   </span><span class="nc">Store</span><span class="w">  </span><span class="n">all</span><span class="w"> </span><span class="n">messages</span><span class="w"> </span><span class="n">concerning</span><span class="w"> </span><span class="nc">TeX</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">separate</span><span class="p">,</span><span class="w"> </span><span class="n">unique</span><span class="w"> </span><span class="n">filenames</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">texmail</span><span class="w"> </span><span class="p" data-group-id="8146422129-7">(</span><span class="n">this</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">exist</span><span class="p" data-group-id="8146422129-7">)</span><span class="p">;</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">lockfiles</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">we</span><span class="w">
   </span><span class="n">won</span><span class="sc">&#39;t.

          :0
          * (^TO|^Subject:.*)TeX[^t]
          texmail

   The same as above, except now we store the mails in numbered files (MH mail folder).

          :0
          * (^TO|^Subject:.*)TeX[^t]
          texmail/.

   Or you could file the mail in several directory folders at the same time.  The following recipe will deliver the mail to two MH-folders and one directory folder.  It  is  actually
   only one file with two extra hardlinks.

          :0
          * (^TO|^Subject:.*)TeX[^t]
          texmail/. wordprocessing dtp/.

   Store  all  the  messages about meetings in a folder that is in a directory that changes every month.  E.g. if it were January 1994, the folder would have the name `94-01/meeting&#39;</span><span class="w">
   </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">locallockfile</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="err">`</span><span class="mi">94</span><span class="o">-</span><span class="mi">01</span><span class="o">/</span><span class="n">meeting</span><span class="o">.</span><span class="n">lock</span><span class="sc">&#39;.

          :0:
          * meeting
          `date +%y-%m`/meeting

   The same as above, but, if the `94-01&#39;</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">wouldn</span><span class="sc">&#39;t have existed, it is created automatically:

          MONTHFOLDER=`date +%y-%m`

          :0 Wic
          * ? test ! -d $MONTHFOLDER
          | mkdir $MONTHFOLDER

          :0:
          * meeting
          ${MONTHFOLDER}/meeting

   The same as above, but now by slightly different means:

          MONTHFOLDER=`date +%y-%m`
          DUMMY=`test -d $MONTHFOLDER || mkdir $MONTHFOLDER`

          :0:
          * meeting
          ${MONTHFOLDER}/meeting

   If you are subscribed to several mailinglists and people cross-post to some of them, you usually receive several duplicate mails (one  from  every  list).   The  following  simple
   recipe eliminates duplicate mails.  It tells formail to keep an 8KB cache file in which it will store the Message-IDs of the most recent mails you received.  Since Message-IDs are
   guaranteed to be unique for every new mail, they are ideally suited to weed out duplicate mails.  Simply put the following recipe at the top of your rcfile, and no duplicate  mail
   will get past it.

          :0 Wh: msgid.lock
          | formail -D 8192 msgid.cache

   Beware  if  you  have  delivery problems in recipes below this one and procmail tries to requeue the mail, then on the next queue run, this mail will be considered a duplicate and
   will be thrown away.  For those not quite so confident in their own scripting capabilities, you can use the following recipe instead.  It puts duplicates in a separate folder  in‐
   stead of throwing them away.  It is up to you to periodically empty the folder of course.

          :0 Whc: msgid.lock
          | formail -D 8192 msgid.cache

          :0 a:
          duplicates

   Procmail can deliver to MH folders directly, but, it does not update the unseen sequences the real MH manages.  If you want procmail to update those as well, use a recipe like the
   following which will file everything that contains the word spam in the body of the mail into an MH folder called spamfold.  Note the local lockfile, which is  needed  because  MH
   programs do not lock the sequences file.  Asynchronous invocations of MH programs that change the sequences file may therefore corrupt it or silently lose changes.  Unfortunately,
   the lockfile doesn&#39;</span><span class="n">t</span><span class="w"> </span><span class="n">completely</span><span class="w"> </span><span class="n">solve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">rcvstore</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">invoked</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="err">`</span><span class="n">show</span><span class="sc">&#39; or `mark&#39;</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">some</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="nc">MH</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">running</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">fixed</span><span class="w"> </span><span class="ow">in</span><span class="w">
   </span><span class="n">some</span><span class="w"> </span><span class="n">future</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">MH</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">until</span><span class="w"> </span><span class="n">then</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="sc">&#39;ll have to balance the risk of lost or corrupt sequences against the benefits of the unseen sequence.

          :0 :spamfold/$LOCKEXT
          * B ?? spam
          | rcvstore +spamfold

   When  delivering  to emacs folders (i.e., mailfolders managed by any emacs mail package, e.g., RMAIL or VM) directly, you should use emacs-compatible lockfiles.  The emacs mailers
   are a bit braindamaged in that respect, they get very upset if someone delivers to mailfolders which they already have in their internal buffers.   The  following  recipe  assumes
   that $HOME equals /home/john.

          MAILDIR=Mail

          :0:/usr/local/lib/emacs/lock/!home!john!Mail!mailbox
          * ^Subject:.*whatever
          mailbox

   Alternatively,  you  can  have  procmail  deliver into its own set of mailboxes, which you then periodically empty and copy over to your emacs files using movemail.  Movemail uses
   mailbox.lock local lockfiles per mailbox.  This actually is the preferred mode of operation in conjunction with procmail.

   To extract certain headers from a mail and put them into environment variables you can use any of the following constructs:

          SUBJECT=`formail -xSubject:`    # regular field
          FROM=`formail -rt -xTo:`        # special case

          :0 h                            # alternate method
          KEYWORDS=| formail -xKeywords:

   If you are using temporary files in a procmailrc file, and want to make sure that they are removed just before procmail exits, you could use something along the lines of:

          TEMPORARY=$HOME/tmp/pmail.$$
          TRAP=&quot;/bin/rm -f $TEMPORARY&quot;

   The TRAP keyword can also be used to change the exitcode of procmail.  I.e. if you want procmail to return an exitcode of `1&#39;</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">regular</span><span class="w"> </span><span class="n">exitcodes</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="ss">use</span><span class="p">:</span><span class="w">

          </span><span class="nc">EXITCODE</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="w">
          </span><span class="nc">TRAP</span><span class="o">=</span><span class="s">&quot;exit 1;&quot;</span><span class="w">   </span><span class="c1"># The trailing semi-colon is important</span><span class="w">
                           </span><span class="c1"># since exit is not a standalone program</span><span class="w">

   </span><span class="nc">Or</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">exitcode</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">need</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">depend</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">programs</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">TRAP</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="ss">mere</span><span class="p">:</span><span class="w">

          </span><span class="nc">EXITCODE</span><span class="o">=</span><span class="mi">1</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="n">prints</span><span class="w"> </span><span class="n">every</span><span class="w"> </span><span class="n">incoming</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">looks</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">postscript</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">Bb</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="o">^</span><span class="p">%</span><span class="o">!</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">lpr</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">recipe</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">selective</span><span class="o">.</span><span class="w">  </span><span class="nc">It</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">prints</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">postscript</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">print</span><span class="o">-</span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w">  </span><span class="n">is</span><span class="w">
   </span><span class="n">found</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">header</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">second</span><span class="w"> </span><span class="n">condition</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">b</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="p" data-group-id="8146422129-8">[</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="8146422129-8">]</span><span class="o">.</span><span class="o">*</span><span class="n">print</span><span class="o">-</span><span class="n">server</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="sc">??</span><span class="w"> </span><span class="o">^</span><span class="o">^</span><span class="p">%</span><span class="o">!</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">lpr</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">above</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">slightly</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="ss">means</span><span class="p">:</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">From</span><span class="p" data-group-id="8146422129-9">[</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="8146422129-9">]</span><span class="o">.</span><span class="o">*</span><span class="n">print</span><span class="o">-</span><span class="n">server</span><span class="w">
          </span><span class="p" data-group-id="8146422129-10">{</span><span class="w">
            </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="n">b</span><span class="w">
            </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="o">^</span><span class="p">%</span><span class="o">!</span><span class="w">
            </span><span class="o">|</span><span class="w"> </span><span class="n">lpr</span><span class="w">
          </span><span class="p" data-group-id="8146422129-10">}</span><span class="w">

   </span><span class="ss">Likewise</span><span class="p">:</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">HB</span><span class="w"> </span><span class="n">b</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="o">^</span><span class="p" data-group-id="8146422129-11">(</span><span class="o">.</span><span class="o">+</span><span class="err">$</span><span class="p" data-group-id="8146422129-11">)</span><span class="o">*</span><span class="nc">From</span><span class="p" data-group-id="8146422129-12">[</span><span class="w"> </span><span class="p">:</span><span class="p" data-group-id="8146422129-12">]</span><span class="o">.</span><span class="o">*</span><span class="n">print</span><span class="o">-</span><span class="n">server</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="o">^</span><span class="p" data-group-id="8146422129-13">(</span><span class="o">.</span><span class="o">+</span><span class="err">$</span><span class="p" data-group-id="8146422129-13">)</span><span class="o">*</span><span class="o">^</span><span class="p">%</span><span class="o">!</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">lpr</span><span class="w">

   </span><span class="nc">Suppose</span><span class="w">  </span><span class="n">you</span><span class="w">  </span><span class="n">have</span><span class="w">  </span><span class="n">two</span><span class="w">  </span><span class="n">accounts</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">accounts</span><span class="w"> </span><span class="n">regularly</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">they</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">distinct</span><span class="w"> </span><span class="n">places</span><span class="w"> </span><span class="p" data-group-id="8146422129-14">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">arrived</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">either</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">accounts</span><span class="p" data-group-id="8146422129-14">)</span><span class="o">.</span><span class="w">
   </span><span class="nc">You</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">forward</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">arriving</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="n">two</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">around</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">thing</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">comes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">mind</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="o">.</span><span class="n">forward</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">at</span><span class="w">  </span><span class="n">both</span><span class="w">  </span><span class="n">sites</span><span class="p">;</span><span class="w">  </span><span class="n">this</span><span class="w">
   </span><span class="n">won</span><span class="sc">&#39;t  work  of  course, since you will be creating a mail loop.  This mail loop can be avoided by inserting the following recipe in front of all other recipes in the $HOME/.proc‐
   mailrc files on both sites.  If you make sure that you add the same X-Loop: field at both sites, mail can now safely be forwarded to the other account from either of them.

          :0 c
          * !^X-Loop: yourname@your.main.mail.address
          | formail -A &quot;X-Loop: yourname@your.main.mail.address&quot; | </span><span class="se">\
</span><span class="sc">             $SENDMAIL -oi yourname@the.other.account

   If someone sends you a mail with the word `retrieve&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">subject</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">automatically</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">info_file</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sender</span><span class="o">.</span><span class="w">  </span><span class="nc">Like</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">recipes</span><span class="w"> </span><span class="n">where</span><span class="w">
   </span><span class="n">we</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">mail</span><span class="p">,</span><span class="w"> </span><span class="n">we</span><span class="w"> </span><span class="n">watch</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">loops</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">From</span><span class="w"> </span><span class="o">+</span><span class="nc">YOUR_USERNAME</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="ss">Re</span><span class="p">:</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">FROM_DAEMON</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="n">retrieve</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="p" data-group-id="8146422129-15">(</span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="n">r</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">info_file</span><span class="p" data-group-id="8146422129-15">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">$</span><span class="nc">SENDMAIL</span><span class="w"> </span><span class="o">-</span><span class="n">oi</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w">

   </span><span class="nc">Now</span><span class="w">  </span><span class="n">follows</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">very</span><span class="w"> </span><span class="n">simple</span><span class="w"> </span><span class="n">fileserver</span><span class="w"> </span><span class="n">accessible</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">mail</span><span class="o">.</span><span class="w">  </span><span class="nc">For</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">demanding</span><span class="w"> </span><span class="n">applications</span><span class="p">,</span><span class="w"> </span><span class="nc">I</span><span class="w"> </span><span class="n">suggest</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">take</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="nc">SmartList</span><span class="w"> </span><span class="p" data-group-id="8146422129-16">(</span><span class="n">available</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="n">as</span><span class="w">
   </span><span class="n">the</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="n">distribution</span><span class="p" data-group-id="8146422129-16">)</span><span class="o">.</span><span class="w">  </span><span class="nc">As</span><span class="w"> </span><span class="n">listed</span><span class="p">,</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">fileserver</span><span class="w"> </span><span class="n">sends</span><span class="w"> </span><span class="n">back</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">most</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">request</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">ignores</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">incoming</span><span class="w"> </span><span class="n">mails</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="ss">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">to</span><span class="w">  </span><span class="n">look</span><span class="w">  </span><span class="n">like</span><span class="w">  </span><span class="s">&quot;Sub‐
   ject:  send  file  the_file_you_want&quot;</span><span class="w">  </span><span class="p" data-group-id="8146422129-17">(</span><span class="n">the</span><span class="w"> </span><span class="n">blanks</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">significant</span><span class="p" data-group-id="8146422129-17">)</span><span class="p">,</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">return</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">starting</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">dot</span><span class="p">,</span><span class="w"> </span><span class="n">nor</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">allow</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">retrieved</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">are</span><span class="w">
   </span><span class="n">outside</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">fileserver</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">tree</span><span class="w"> </span><span class="p" data-group-id="8146422129-18">(</span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">decide</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">munge</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">example</span><span class="p">,</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k" data-group-id="8146422129-19">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">inadvertently</span><span class="w"> </span><span class="n">loosen</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">restriction</span><span class="p">)</span><span class="o">.</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="ss">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="p" data-group-id="8146422129-20">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="n">a</span><span class="o">-</span><span class="n">z</span><span class="p" data-group-id="8146422129-20">]</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">X</span><span class="o">-</span><span class="ss">Loop</span><span class="p">:</span><span class="w"> </span><span class="n">yourname</span><span class="na">@your</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="n">mail</span><span class="o">.</span><span class="n">address</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">Subject</span><span class="ss">:.</span><span class="o">*</span><span class="ss">Re</span><span class="p">:</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="nc">FROM_DAEMON</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="o">!</span><span class="o">^</span><span class="ss">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="o">.</span><span class="o">*</span><span class="p" data-group-id="8146422129-21">[</span><span class="o">/</span><span class="o">.</span><span class="p" data-group-id="8146422129-21">]</span><span class="err">\</span><span class="o">.</span><span class="w">
          </span><span class="p" data-group-id="8146422129-22">{</span><span class="w">
            </span><span class="nc">MAILDIR</span><span class="o">=</span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="n">fileserver</span><span class="w"> </span><span class="c1"># chdir to the fileserver directory</span><span class="w">

            </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">fhw</span><span class="w">                   </span><span class="c1"># reverse mailheader and extract name</span><span class="w">
            </span><span class="o">*</span><span class="w"> </span><span class="o">^</span><span class="ss">Subject</span><span class="p">:</span><span class="w"> </span><span class="n">send</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="err">\</span><span class="o">/</span><span class="p" data-group-id="8146422129-23">[</span><span class="o">^</span><span class="w"> </span><span class="p" data-group-id="8146422129-23">]</span><span class="o">*</span><span class="w">
            </span><span class="o">|</span><span class="w"> </span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="n">rA</span><span class="w"> </span><span class="s">&quot;X-Loop: yourname@your.main.mail.address&quot;</span><span class="w">

            </span><span class="nc">FILE</span><span class="o">=</span><span class="s">&quot;$MATCH&quot;</span><span class="w">            </span><span class="c1"># the requested filename</span><span class="w">

            </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="n">ah</span><span class="w">
            </span><span class="o">|</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">.</span><span class="o">/</span><span class="err">$</span><span class="nc">FILE</span><span class="w"> </span><span class="mi">2</span><span class="o">&gt;</span><span class="ni">&amp;1</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">$</span><span class="nc">SENDMAIL</span><span class="w"> </span><span class="o">-</span><span class="n">oi</span><span class="w"> </span><span class="o">-</span><span class="n">t</span><span class="w">
          </span><span class="p" data-group-id="8146422129-22">}</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">preconverts</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">plain</span><span class="o">-</span><span class="n">text</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">arriving</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="n">encoded</span><span class="w"> </span><span class="nc">MIME</span><span class="w"> </span><span class="n">formats</span><span class="w"> </span><span class="n">into</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">compact</span><span class="w"> </span><span class="mi">8</span><span class="o">-</span><span class="n">bit</span><span class="w"> </span><span class="n">format</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">displayed</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">easily</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">most</span><span class="w">
   </span><span class="n">programs</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">mimencode</span><span class="p" data-group-id="8146422129-24">(</span><span class="mi">1</span><span class="p" data-group-id="8146422129-24">)</span><span class="w"> </span><span class="n">program</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">part</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="nc">Nathaniel</span><span class="w"> </span><span class="nc">Borenstein</span><span class="sc">&#39;s metamail package.

          :0
          * ^Content-Type: *text/plain
          {
            :0 fbw
            * ^Content-Transfer-Encoding: *quoted-printable
            | mimencode -u -q

               :0 Afhw
               | formail -I &quot;Content-Transfer-Encoding: 8bit&quot;

            :0 fbw
            * ^Content-Transfer-Encoding: *base64
            | mimencode -u -b

               :0 Afhw
               | formail -I &quot;Content-Transfer-Encoding: 8bit&quot;
          }

   The  following  one  is rather exotic, but it only serves to demonstrate a feature.  Suppose you have a file in your HOME directory called &quot;.urgent&quot;, and the (one) person named in
   that file is the sender of an incoming mail, you&#39;</span><span class="n">d</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">$</span><span class="nc">MAILDIR</span><span class="o">/</span><span class="n">urgent</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">normal</span><span class="w"> </span><span class="n">mailfolders</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">sorted</span><span class="w">  </span><span class="ow">in</span><span class="o">.</span><span class="w">   </span><span class="nc">Then</span><span class="w">
   </span><span class="n">this</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">what</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="k" data-group-id="8146422129-25">do</span><span class="w"> </span><span class="p" data-group-id="8146422129-26">(</span><span class="n">beware</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filelength</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">urgent</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">well</span><span class="w"> </span><span class="n">below</span><span class="w"> </span><span class="err">$</span><span class="nc">LINEBUF</span><span class="p">,</span><span class="w"> </span><span class="n">increase</span><span class="w"> </span><span class="nc">LINEBUF</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">necessary</span><span class="p" data-group-id="8146422129-26">)</span><span class="p">:</span><span class="w">

          </span><span class="nc">URGMATCH</span><span class="o">=</span><span class="err">`</span><span class="n">cat</span><span class="w"> </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">urgent</span><span class="err">`</span><span class="w">

          </span><span class="p">:</span><span class="mi">0</span><span class="p">:</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="err">$</span><span class="o">^</span><span class="nc">From</span><span class="o">.</span><span class="o">*</span><span class="err">$</span><span class="p" data-group-id="8146422129-27">{</span><span class="nc">URGMATCH</span><span class="p" data-group-id="8146422129-27">}</span><span class="w">
          </span><span class="n">urgent</span><span class="w">

   </span><span class="nc">An</span><span class="w"> </span><span class="n">entirely</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">application</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">conditionally</span><span class="w"> </span><span class="n">apply</span><span class="w"> </span><span class="n">filters</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">certain</span><span class="w"> </span><span class="p" data-group-id="8146422129-28">(</span><span class="n">outgoing</span><span class="p" data-group-id="8146422129-28">)</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">mail</span><span class="o">.</span><span class="w">  </span><span class="nc">A</span><span class="w"> </span><span class="n">typical</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">filter</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">you</span><span class="w">
   </span><span class="n">pipe</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">outgoing</span><span class="w"> </span><span class="n">mail</span><span class="p">,</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">order</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">make</span><span class="w"> </span><span class="n">sure</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="nc">MIME</span><span class="w"> </span><span class="n">encoded</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">needs</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="o">.</span><span class="w">  </span><span class="nc">I</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="k">case</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">middle</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">pipe</span><span class="w"> </span><span class="ss">like</span><span class="p">:</span><span class="w">

          </span><span class="n">cat</span><span class="w"> </span><span class="n">newtext</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">procmail</span><span class="w"> </span><span class="o">.</span><span class="o">/</span><span class="n">mimeconvert</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">mail</span><span class="w"> </span><span class="n">chris</span><span class="na">@where</span><span class="o">.</span><span class="n">ever</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">mimeconvert</span><span class="w"> </span><span class="n">rcfile</span><span class="w"> </span><span class="n">could</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">something</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="p" data-group-id="8146422129-29">(</span><span class="n">the</span><span class="w"> </span><span class="o">=</span><span class="mh">0x80</span><span class="o">=</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">=</span><span class="mh">0xff</span><span class="o">=</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">substituted</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">real</span><span class="w"> </span><span class="mi">8</span><span class="o">-</span><span class="n">bit</span><span class="w"> </span><span class="n">characters</span><span class="p" data-group-id="8146422129-29">)</span><span class="p">:</span><span class="w">

          </span><span class="nc">DEFAULT</span><span class="o">=</span><span class="o">|</span><span class="w">     </span><span class="c1"># pipe to stdout instead of</span><span class="w">
                        </span><span class="c1"># delivering mail as usual</span><span class="w">
          </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">Bfbw</span><span class="w">
          </span><span class="o">*</span><span class="w"> </span><span class="p" data-group-id="8146422129-30">[</span><span class="o">=</span><span class="mh">0x80</span><span class="o">=</span><span class="o">-</span><span class="o">=</span><span class="mh">0xff</span><span class="o">=</span><span class="p" data-group-id="8146422129-30">]</span><span class="w">
          </span><span class="o">|</span><span class="w"> </span><span class="n">mimencode</span><span class="w"> </span><span class="o">-</span><span class="n">q</span><span class="w">

            </span><span class="p">:</span><span class="mi">0</span><span class="w"> </span><span class="nc">Afhw</span><span class="w">
            </span><span class="o">|</span><span class="w"> </span><span class="n">formail</span><span class="w"> </span><span class="o">-</span><span class="nc">I</span><span class="w"> </span><span class="sc">&#39;MIME-Version: 1.0&#39;</span><span class="w"> </span><span class="err">\</span><span class="w">
               </span><span class="o">-</span><span class="nc">I</span><span class="w"> </span><span class="sc">&#39;Content-Type: text/plain; charset=ISO-8859-1&#39;</span><span class="w"> </span><span class="err">\</span><span class="w">
               </span><span class="o">-</span><span class="nc">I</span><span class="w"> </span><span class="sc">&#39;Content-Transfer-Encoding: quoted-printable&#39;</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">procmail</span><span class="p" data-group-id="6721406774-1">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">procmailrc</span><span class="p" data-group-id="6721406774-2">(</span><span class="mi">5</span><span class="p" data-group-id="6721406774-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">procmailsc</span><span class="p" data-group-id="6721406774-3">(</span><span class="mi">5</span><span class="p" data-group-id="6721406774-3">)</span><span class="p">,</span><span class="w"> </span><span class="n">sh</span><span class="p" data-group-id="6721406774-4">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">csh</span><span class="p" data-group-id="6721406774-5">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">mail</span><span class="p" data-group-id="6721406774-6">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-6">)</span><span class="p">,</span><span class="w"> </span><span class="n">mailx</span><span class="p" data-group-id="6721406774-7">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-7">)</span><span class="p">,</span><span class="w"> </span><span class="n">uucp</span><span class="p" data-group-id="6721406774-8">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-8">)</span><span class="p">,</span><span class="w"> </span><span class="n">aliases</span><span class="p" data-group-id="6721406774-9">(</span><span class="mi">5</span><span class="p" data-group-id="6721406774-9">)</span><span class="p">,</span><span class="w"> </span><span class="n">sendmail</span><span class="p" data-group-id="6721406774-10">(</span><span class="mi">8</span><span class="p" data-group-id="6721406774-10">)</span><span class="p">,</span><span class="w"> </span><span class="n">egrep</span><span class="p" data-group-id="6721406774-11">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-11">)</span><span class="p">,</span><span class="w"> </span><span class="n">grep</span><span class="p" data-group-id="6721406774-12">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-12">)</span><span class="p">,</span><span class="w"> </span><span class="n">biff</span><span class="p" data-group-id="6721406774-13">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-13">)</span><span class="p">,</span><span class="w"> </span><span class="n">comsat</span><span class="p" data-group-id="6721406774-14">(</span><span class="mi">8</span><span class="p" data-group-id="6721406774-14">)</span><span class="p">,</span><span class="w"> </span><span class="n">mimencode</span><span class="p" data-group-id="6721406774-15">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-15">)</span><span class="p">,</span><span class="w"> </span><span class="n">lockfile</span><span class="p" data-group-id="6721406774-16">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-16">)</span><span class="p">,</span><span class="w">
   </span><span class="n">formail</span><span class="p" data-group-id="6721406774-17">(</span><span class="mi">1</span><span class="p" data-group-id="6721406774-17">)</span></code></pre><p>AUTHORS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Stephen</span><span class="w"> </span><span class="nc">R</span><span class="o">.</span><span class="w"> </span><span class="n">van</span><span class="w"> </span><span class="n">den</span><span class="w"> </span><span class="nc">Berg</span><span class="w">
          </span><span class="o">&lt;</span><span class="n">srb</span><span class="na">@cuci</span><span class="o">.</span><span class="n">nl</span><span class="o">&gt;</span><span class="w">
   </span><span class="nc">Philip</span><span class="w"> </span><span class="nc">A</span><span class="o">.</span><span class="w"> </span><span class="nc">Guenther</span><span class="w">
          </span><span class="o">&lt;</span><span class="n">guenther</span><span class="na">@sendmail</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span></code></pre><p>BuGless                                                                                 2001/08/04                                                                           PROCMAILEX(5)</p>
<div class="bottom-actions">
  <div class="bottom-actions-item">

      <a href="procfs.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
procfs
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="procmailrc.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
procmailrc
        </span>
      </a>

  </div>
</div>
      <footer class="footer">
        <p>

          <span class="line">
            <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
              Search HexDocs
            </button>

          </span>
        </p>

        <p class="built-using">
          Built using
          <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.29.4) for the

            <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

        </p>
      </footer>
    </div>
  </div>
</section>
</div>


  </body>
</html>

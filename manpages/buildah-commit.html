<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="ExDoc v0.38.2">
    <meta name="project" content="Manpages v3.0.0">


    <title>buildah-commit — Manpages v3.0.0</title>

    <link rel="stylesheet" href="dist/html-elixir-KV3YOVJ3.css" />

    <script defer src="dist/sidebar_items-C9959D41.js"></script>
    <script defer src="docs_config.js"></script>
    <script defer src="dist/html-DPJLHKSM.js"></script>
<link rel="stylesheet" href="assets/doc.css">
  </head>
  <body>
    <script>(()=>{var t="ex_doc:settings",e="dark";var o="dark",s="light";var E="sidebar_state",n="closed";var r="sidebar_width";var a="sidebar-open";var i=new URLSearchParams(window.location.search),S=i.get("theme")||JSON.parse(localStorage.getItem(t)||"{}").theme;(S===o||S!==s&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.body.classList.add(e);var d=sessionStorage.getItem(E),A=d!==n&&!window.matchMedia(`screen and (max-width: ${768}px)`).matches;document.body.classList.toggle(a,A);var c=sessionStorage.getItem(r);c&&document.body.style.setProperty("--sidebarWidth",`${c}px`);var p=/(Macintosh|iPhone|iPad|iPod)/.test(window.navigator.userAgent);document.documentElement.classList.toggle("apple-os",p);})();
</script>

<div class="body-wrapper">

<button id="sidebar-menu" class="sidebar-button sidebar-toggle" aria-label="toggle sidebar" aria-controls="sidebar">
  <i class="ri-menu-line ri-lg" title="Collapse/expand sidebar"></i>
</button>

<nav id="sidebar" class="sidebar">

  <div class="sidebar-header">
    <div class="sidebar-projectInfo">

        <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectImage">
          <img src="assets/logo.png" alt="Manpages" />
        </a>

      <div>
        <a href="https://kaisenlinux.org/manpages/" class="sidebar-projectName" translate="no">
Manpages
        </a>
        <div class="sidebar-projectVersion" translate="no">
          v3.0.0
        </div>
      </div>
    </div>
    <ul id="sidebar-list-nav" class="sidebar-list-nav" role="tablist" data-extras="MANUALS"></ul>
  </div>
</nav>

<output role="status" id="toast"></output>

<main class="content page-extra" id="main" data-type="extras">
  <div id="content" class="content-inner">
    <div class="top-search">
      <div class="search-settings">
        <form class="search-bar" action="search.html">
          <label class="search-label">
            <span class="sr-only">Search documentation of Manpages</span>
            <input name="q" type="text" class="search-input" placeholder="Press / to search" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
          </label>
          <button type="submit" class="search-button" aria-label="Submit Search" tabindex="-1">
            <i class="ri-search-2-line ri-lg" aria-hidden="true"></i>
          </button>
          <button type="button" tabindex="-1" class="search-close-button" aria-hidden="true">
            <i class="ri-close-line ri-lg" title="Cancel search"></i>
          </button>
        </form>
        <div class="autocomplete">
        </div>
        <button class="icon-settings display-settings">
          <i class="ri-settings-3-line"></i>
          <span class="sr-only">Settings</span>
        </button>
      </div>
    </div>

<div id="top-content">
  <div class="heading-with-actions top-heading">
    <h1>buildah-commit</h1>


  </div>


<p>buildah-commit(1)                                                                   General Commands Manual                                                                  buildah-commit(1)</p><p>NAME</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="o">-</span><span class="n">commit</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nc">Create</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">container</span><span class="o">.</span></code></pre><p>SYNOPSIS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="p" data-group-id="0191316651-1">[</span><span class="n">options</span><span class="p" data-group-id="0191316651-1">]</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="p" data-group-id="0191316651-2">[</span><span class="n">image</span><span class="p" data-group-id="0191316651-2">]</span></code></pre><p>DESCRIPTION</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">Writes</span><span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">container</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">read</span><span class="o">-</span><span class="n">write</span><span class="w"> </span><span class="n">layer</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">layers</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">begin</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">component</span><span class="p">,</span><span class="w">
   </span><span class="n">localhost</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">added</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">provided</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">name</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">images</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="o">&lt;</span><span class="n">none</span><span class="o">&gt;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">  </span><span class="nc">REPOSI</span><span class="err">‐</span><span class="w">
   </span><span class="nc">TORY</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="nc">TAG</span><span class="w"> </span><span class="n">columns</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">supports</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">transports</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">transports</span><span class="p" data-group-id="7354964609-1">(</span><span class="mi">5</span><span class="p" data-group-id="7354964609-1">)</span><span class="o">.</span><span class="w"> </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">storage</span><span class="w"> </span><span class="p" data-group-id="7354964609-2">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">storage</span><span class="p" data-group-id="7354964609-2">)</span><span class="w"> </span><span class="n">transport</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">used</span><span class="o">.</span></code></pre><p>RETURN VALUE</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">The</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="nc">ID</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">created</span><span class="o">.</span><span class="w">  </span><span class="nc">On</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">errno</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">returned</span><span class="o">.</span></code></pre><p>OPTIONS</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="o">--</span><span class="n">add</span><span class="o">-</span><span class="n">file</span><span class="w"> </span><span class="n">source</span><span class="p" data-group-id="7451382846-1">[</span><span class="ss">:destination</span><span class="p" data-group-id="7451382846-1">]</span><span class="w">

   </span><span class="nc">Read</span><span class="w">  </span><span class="n">the</span><span class="w"> </span><span class="n">contents</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">committed</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">destination</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">destination</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">will</span><span class="w">
   </span><span class="n">be</span><span class="w"> </span><span class="n">owned</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="nc">UID</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nc">GID</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="mi">0644</span><span class="w"> </span><span class="n">permissions</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="k">unless</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">--</span><span class="n">timestamp</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">authfile</span><span class="w"> </span><span class="n">path</span><span class="w">

   </span><span class="nc">Path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">file</span><span class="o">.</span><span class="w"> </span><span class="nc">Default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="err">$</span><span class="p" data-group-id="7451382846-2">{</span><span class="nc">XDG_RUNTIME_DIR</span><span class="p" data-group-id="7451382846-2">}</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">auth</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="w"> </span><span class="nc">See</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">auth</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="7451382846-3">(</span><span class="mi">5</span><span class="p" data-group-id="7451382846-3">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="o">.</span><span class="w"> </span><span class="nc">This</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">login</span><span class="o">.</span><span class="w">

   </span><span class="nc">If</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authorization</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">there</span><span class="p">,</span><span class="w"> </span><span class="err">$</span><span class="nc">HOME</span><span class="o">/</span><span class="o">.</span><span class="n">docker</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">checked</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">docker</span><span class="w"> </span><span class="n">login</span><span class="o">.</span><span class="w">

   </span><span class="ss">Note</span><span class="p">:</span><span class="w"> </span><span class="nc">You</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">override</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">authentication</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">REGISTRY_AUTH_FILE</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="o">.</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="nc">REGISTRY_AUTH_FILE</span><span class="o">=</span><span class="n">path</span><span class="w">

   </span><span class="o">--</span><span class="n">cert</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="n">path</span><span class="w">

   </span><span class="nc">Use</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="p" data-group-id="7451382846-4">(</span><span class="o">*</span><span class="o">.</span><span class="n">crt</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="o">.</span><span class="n">cert</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="o">.</span><span class="n">key</span><span class="p" data-group-id="7451382846-4">)</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">connect</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">certs</span><span class="o">.</span><span class="n">d</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">change</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">c</span><span class="w"> </span><span class="s">&quot;INSTRUCTION&quot;</span><span class="w">

   </span><span class="nc">Apply</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">change</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">committed</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">made</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">had</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">Containerfile</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">instruction</span><span class="o">.</span><span class="w">  </span><span class="nc">This</span><span class="w"> </span><span class="n">option</span><span class="w">  </span><span class="n">can</span><span class="w">  </span><span class="n">be</span><span class="w">  </span><span class="n">specified</span><span class="w">
   </span><span class="n">multiple</span><span class="w"> </span><span class="n">times</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">config</span><span class="w"> </span><span class="n">filename</span><span class="w">

   </span><span class="nc">Read</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">JSON</span><span class="o">-</span><span class="n">encoded</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">merge</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">being</span><span class="w"> </span><span class="n">committed</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">creds</span><span class="w"> </span><span class="n">creds</span><span class="w">

   </span><span class="nc">The</span><span class="w">  </span><span class="p" data-group-id="7451382846-5">[</span><span class="n">username</span><span class="p" data-group-id="7451382846-6">[</span><span class="ss">:password</span><span class="p" data-group-id="7451382846-6">]</span><span class="p" data-group-id="7451382846-5">]</span><span class="w">  </span><span class="n">to</span><span class="w">  </span><span class="kn">use</span><span class="w">  </span><span class="n">to</span><span class="w"> </span><span class="n">authenticate</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">required</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">both</span><span class="w"> </span><span class="n">values</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">supplied</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">prompt</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">appear</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">en</span><span class="err">‐</span><span class="w">
   </span><span class="n">tered</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">entered</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">echo</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">cw</span><span class="w"> </span><span class="n">options</span><span class="w">

   </span><span class="nc">Produce</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">suitable</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">confidential</span><span class="w"> </span><span class="n">workload</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trusted</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="p" data-group-id="7451382846-7">(</span><span class="nc">TEE</span><span class="p" data-group-id="7451382846-7">)</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">krun</span><span class="w"> </span><span class="p" data-group-id="7451382846-8">(</span><span class="n">i</span><span class="o">.</span><span class="n">e</span><span class="o">.</span><span class="p">,</span><span class="w"> </span><span class="n">crun</span><span class="w"> </span><span class="n">built</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">libkrun</span><span class="w"> </span><span class="n">feature</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">invoked</span><span class="w">
   </span><span class="n">as</span><span class="w"> </span><span class="n">krun</span><span class="p" data-group-id="7451382846-8">)</span><span class="o">.</span><span class="w">  </span><span class="nc">Instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">conventional</span><span class="w"> </span><span class="n">contents</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">root</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">encrypted</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">krun</span><span class="o">.</span><span class="w">

   </span><span class="nc">The</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">comma</span><span class="o">-</span><span class="n">separated</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">key</span><span class="o">=</span><span class="n">value</span><span class="w"> </span><span class="n">pairs</span><span class="p">,</span><span class="w"> </span><span class="n">supplying</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">needed</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">producing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">

   </span><span class="nc">Recognized</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="ss">are</span><span class="p">:</span><span class="w">

   </span><span class="ss">attestation_url</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">broker</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">attestation</span><span class="w"> </span><span class="n">server</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">image</span><span class="sc">&#39;s workload ID, along with the passphrase used to encrypt  the  disk  image,
   will  be  registered  with the server, and the server&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">  </span><span class="nc">At</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">krun</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">contact</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">server</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">retrieve</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">passphrase</span><span class="w">
   </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">workload</span><span class="w"> </span><span class="nc">ID</span><span class="p">,</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">also</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">passphrase</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">must</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">specified</span><span class="o">.</span><span class="w">

   </span><span class="ss">cpus</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">virtual</span><span class="w"> </span><span class="nc">CPUs</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">expects</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">supplied</span><span class="o">.</span><span class="w">

   </span><span class="ss">firmware_library</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">libkrunfw</span><span class="o">-</span><span class="n">sev</span><span class="w"> </span><span class="n">shared</span><span class="w"> </span><span class="n">library</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">buildah</span><span class="w"> </span><span class="n">checks</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">presence</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">hard</span><span class="o">-</span><span class="n">coded</span><span class="w"> </span><span class="n">locations</span><span class="o">.</span><span class="w">

   </span><span class="ss">memory</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">amount</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">expects</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">run</span><span class="o">-</span><span class="n">time</span><span class="p">,</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">megabytes</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">supplied</span><span class="o">.</span><span class="w">

   </span><span class="ss">passphrase</span><span class="p">:</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="n">passphrase</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="kn">use</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">encrypt</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">included</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attestation_url</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">specified</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">ran</span><span class="err">‐</span><span class="w">
   </span><span class="n">domly</span><span class="o">-</span><span class="n">generated</span><span class="w"> </span><span class="n">passphrase</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="o">.</span><span class="w">  </span><span class="nc">The</span><span class="w"> </span><span class="n">authors</span><span class="w"> </span><span class="n">recommend</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">attestation_url</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">passphrase</span><span class="o">.</span><span class="w">

   </span><span class="ss">slop</span><span class="p">:</span><span class="w"> </span><span class="nc">Extra</span><span class="w"> </span><span class="n">space</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">allocate</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">disk</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">compared</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">image</span><span class="sc">&#39;s contents, expressed either as a percentage (..%) or a size value (bytes, or larger units
   if suffixes like KB or MB are present), or a sum of two or more such specifications separated by &quot;+&quot;.  If not specified, buildah guesses that 25% more space than the contents will  be
   enough, but this option is provided in case its guess is wrong.  If the specified or computed size is less than 10 megabytes, it will be increased to 10 megabytes.

   type: The type of trusted execution environment (TEE) which the image should be marked for use with.  Accepted values are &quot;SEV&quot; (AMD Secure Encrypted Virtualization - Encrypted State)
   and &quot;SNP&quot; (AMD Secure Encrypted Virtualization - Secure Nested Paging).  If not specified, defaults to &quot;SNP&quot;.

   workload_id:  A  workload  identifier which will be recorded in the container image, to be used at run-time for retrieving the passphrase which was used to encrypt the disk image.  If
   not specified, a semi-random value will be derived from the base image&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">compression</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="nc">D</span><span class="w">

   </span><span class="nc">Don</span><span class="sc">&#39;t compress filesystem layers when building the image unless it is required by the location where the image is being written.  This is the default setting, because image layers are
   compressed automatically when they are pushed to registries, and images being written to local storage would only need to be decompressed again  to  be  stored.   Compression  can  be
   forced in all cases by specifying --disable-compression=false.

   --encrypt-layer layer(s)

   Layer(s)  to  encrypt: 0-indexed layer indices with support for negative indexing (e.g. 0 is the first layer, -1 is the last layer). If not defined, will encrypt all layers if encryp‐
   tion-key flag is specified.

   --encryption-key key

   The [protocol:keyfile] specifies the encryption protocol, which can be JWE (RFC7516), PGP (RFC4880), and PKCS7 (RFC2315) and the key material required for image  encryption.  For  in‐
   stance, jwe:/path/to/key.pem or pgp:admin@example.com or pkcs7:/path/to/x509-file.

   --format, -f [oci | docker]

   Control  the  format for the image manifest and configuration data.  Recognized formats include oci (OCI image-spec v1.0, the default) and docker (version 2, using schema format 2 for
   the manifest).

   Note: You can also override the default format by setting the BUILDAH_FORMAT environment variable.  export BUILDAH_FORMAT=docker

   --identity-label bool-value

   Adds default identity label io.buildah.version if set. (default true).

   --iidfile ImageIDfile

   Write the image ID to the file.

   --manifest &quot;listName&quot;

   Name of the manifest list to which the built image will be added. Creates the manifest list if it does not exist. This option is useful for building multi architecture images.

   --omit-history bool-value

   Omit build history information in the built image. (default false).

   This option is useful for the cases where end users explicitly want to set --omit-history to omit the optional History from built images or when working with images built using  build
   tools that do not include History information in their images.

   --pull

   When  the --pull flag is enabled or set explicitly to true (with --pull=true), attempt to pull the latest versions of SBOM scanner images from the registries listed in registries.conf
   if a local SBOM scanner image does not exist or the image in the registry is newer than the one in local storage.  Raise an error if the SBOM scanner image is not in any  listed  reg‐
   istry and is not present locally.

   If the flag is disabled (with --pull=false), do not pull SBOM scanner images from registries, use only local versions. Raise an error if a SBOM scanner image is not present locally.

   If the pull flag is set to always (with --pull=always), pull SBOM scanner images from the registries listed in registries.conf.  Raise an error if a SBOM scanner image is not found in
   the registries, even if an image with the same name is present locally.

   If  the  pull flag is set to missing (with --pull=missing), pull SBOM scanner images only if they could not be found in the local containers storage.  Raise an error if no image could
   be found and the pull fails.

   If the pull flag is set to never (with --pull=never), do not pull SBOM scanner images from registries, use only the local versions.  Raise an error if the image  is  not  present  lo‐
   cally.

   --quiet, -q

   When writing the output image, suppress progress output.

   --rm Remove the working container and its contents after creating the image.  Default leaves the container and its content in place.

   --sbom preset

   Generate  SBOMs (Software Bills Of Materials) for the output image by scanning the working container and build contexts using the named combination of scanner image, scanner commands,
   and merge strategy.  Must be specified with one or more of --sbom-image-output, --sbom-image-purl-output, --sbom-output, and --sbom-purl-output.  Recognized presets, and  the  set  of
   options which they equate to:

          • &quot;syft&quot;, &quot;syft-cyclonedx&quot;:
             --sbom-scanner-image=ghcr.io/anchore/syft
             --sbom-scanner-command=&quot;/syft scan -q dir:{ROOTFS} --output cyclonedx-json={OUTPUT}&quot;
             --sbom-scanner-command=&quot;/syft scan -q dir:{CONTEXT} --output cyclonedx-json={OUTPUT}&quot;
             --sbom-merge-strategy=merge-cyclonedx-by-component-name-and-version

          • &quot;syft-spdx&quot;:
             --sbom-scanner-image=ghcr.io/anchore/syft
             --sbom-scanner-command=&quot;/syft scan -q dir:{ROOTFS} --output spdx-json={OUTPUT}&quot;
             --sbom-scanner-command=&quot;/syft scan -q dir:{CONTEXT} --output spdx-json={OUTPUT}&quot;
             --sbom-merge-strategy=merge-spdx-by-package-name-and-versioninfo

          • &quot;trivy&quot;, &quot;trivy-cyclonedx&quot;:
             --sbom-scanner-image=ghcr.io/aquasecurity/trivy
             --sbom-scanner-command=&quot;trivy filesystem -q {ROOTFS} --format cyclonedx --output {OUTPUT}&quot;
             --sbom-scanner-command=&quot;trivy filesystem -q {CONTEXT} --format cyclonedx --output {OUTPUT}&quot;
             --sbom-merge-strategy=merge-cyclonedx-by-component-name-and-version

          • &quot;trivy-spdx&quot;:
             --sbom-scanner-image=ghcr.io/aquasecurity/trivy
             --sbom-scanner-command=&quot;trivy filesystem -q {ROOTFS} --format spdx-json --output {OUTPUT}&quot;
             --sbom-scanner-command=&quot;trivy filesystem -q {CONTEXT} --format spdx-json --output {OUTPUT}&quot;
             --sbom-merge-strategy=merge-spdx-by-package-name-and-versioninfo

   --sbom-image-output path

   When generating SBOMs, store the generated SBOM in the specified path in the output image.  There is no default.

   --sbom-image-purl-output path

   When  generating  SBOMs,  scan them for PURL (package URL ⟨https://github.com/package-url/purl-spec/blob/master/PURL-SPECIFICATION.rst⟩) information, and save a list of found PURLs to
   the named file in the local filesystem.  There is no default.

   --sbom-merge-strategy method

   If more than one --sbom-scanner-command value is being used, use the specified method to merge the output from later commands with output from earlier commands.  Recognized values in‐
   clude:

          • cat
             Concatenate the files.

          • merge-cyclonedx-by-component-name-and-version
             Merge the &quot;component&quot; fields of JSON documents, ignoring values from
             documents when the combination of their &quot;name&quot; and &quot;version&quot; values is
             already present.  Documents are processed in the order in which they are
             generated, which is the order in which the commands that generate them
             were specified.

          • merge-spdx-by-package-name-and-versioninfo
             Merge the &quot;package&quot; fields of JSON documents, ignoring values from
             documents when the combination of their &quot;name&quot; and &quot;versionInfo&quot; values is
             already present.  Documents are processed in the order in which they are
             generated, which is the order in which the commands that generate them
             were specified.

   --sbom-output file

   When generating SBOMs, store the generated SBOM in the named file on the local filesystem.  There is no default.

   --sbom-purl-output file

   When generating SBOMs, scan them for PURL (package URL ⟨https://github.com/package-url/purl-spec/blob/master/PURL-SPECIFICATION.rst⟩) information, and save a list of  found  PURLs  to
   the named file in the local filesystem.  There is no default.

   --sbom-scanner-command image

   Generate SBOMs by running the specified command from the scanner image.  If multiple commands are specified, they are run in the order in which they are specified.  These text substi‐
   tutions are performed:
     - {ROOTFS}
         The root of the built image&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">filesystem</span><span class="p">,</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mounted</span><span class="o">.</span><span class="w">
     </span><span class="o">-</span><span class="w"> </span><span class="p" data-group-id="7451382846-9">{</span><span class="nc">CONTEXT</span><span class="p" data-group-id="7451382846-9">}</span><span class="w">
         </span><span class="nc">The</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">contexts</span><span class="p">,</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">mounted</span><span class="o">.</span><span class="w">
     </span><span class="o">-</span><span class="w"> </span><span class="p" data-group-id="7451382846-10">{</span><span class="nc">OUTPUT</span><span class="p" data-group-id="7451382846-10">}</span><span class="w">
         </span><span class="nc">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">merged</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">others</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">copied</span><span class="w"> </span><span class="n">elsewhere</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">sbom</span><span class="o">-</span><span class="n">scanner</span><span class="o">-</span><span class="n">image</span><span class="w"> </span><span class="n">image</span><span class="w">

   </span><span class="nc">Generate</span><span class="w"> </span><span class="nc">SBOMs</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">scanner</span><span class="w"> </span><span class="n">image</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">sign</span><span class="o">-</span><span class="n">by</span><span class="w"> </span><span class="n">fingerprint</span><span class="w">

   </span><span class="nc">Sign</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nc">GPG</span><span class="w"> </span><span class="n">key</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">matches</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="n">fingerprint</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">squash</span><span class="w">

   </span><span class="nc">Squash</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">image</span><span class="sc">&#39;s layers (including those inherited from a base image) into a single new layer.

   --timestamp seconds

   Set  the create timestamp to seconds since epoch to allow for deterministic builds (defaults to current time).  By default, the created timestamp is changed and written into the image
   manifest with every commit, causing the image&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">sha256</span><span class="w"> </span><span class="n">hash</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">sources</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">exactly</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">otherwise</span><span class="o">.</span><span class="w">  </span><span class="nc">When</span><span class="w"> </span><span class="o">--</span><span class="n">timestamp</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">timestamp</span><span class="w"> </span><span class="n">is</span><span class="w">  </span><span class="n">al</span><span class="err">‐</span><span class="w">
   </span><span class="n">ways</span><span class="w"> </span><span class="n">set</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">specified</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">therefore</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">changed</span><span class="p">,</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">sha256</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">remain</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="o">.</span><span class="w"> </span><span class="nc">All</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">committed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">layers</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">time</span><span class="err">‐</span><span class="w">
   </span><span class="n">stamp</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="w"> </span><span class="n">bool</span><span class="o">-</span><span class="n">value</span><span class="w">

   </span><span class="nc">Require</span><span class="w"> </span><span class="nc">HTTPS</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">verification</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">talking</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="p" data-group-id="7451382846-11">(</span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="no">true</span><span class="p" data-group-id="7451382846-11">)</span><span class="o">.</span><span class="w">  </span><span class="nc">TLS</span><span class="w"> </span><span class="n">verification</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">talking</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">insecure</span><span class="w"> </span><span class="n">registry</span><span class="o">.</span><span class="w">

   </span><span class="o">--</span><span class="n">unsetenv</span><span class="w"> </span><span class="n">env</span><span class="w">

   </span><span class="nc">Unset</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">final</span><span class="w"> </span><span class="n">image</span><span class="o">.</span></code></pre><p>EXAMPLE</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">newImageName</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">newImageName</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">removes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">rm</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">newImageName</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">commits</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="nc">OCI</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">newImageName</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">oci</span><span class="o">-</span><span class="n">archive</span><span class="ss">:/</span><span class="n">tmp</span><span class="o">/</span><span class="n">newImageName</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">removes</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">working</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">creates</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="nc">ID</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="err">$</span><span class="p" data-group-id="0932105371-1">(</span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">rm</span><span class="w"> </span><span class="n">containerID</span><span class="p" data-group-id="0932105371-1">)</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">disabling</span><span class="w"> </span><span class="n">compression</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">compression</span><span class="w"> </span><span class="n">containerID</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="n">newImageName</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">disabling</span><span class="w"> </span><span class="n">compression</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">disable</span><span class="o">-</span><span class="n">compression</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">newImageName</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">commits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">turning</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">tls</span><span class="w"> </span><span class="n">verification</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">false</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">docker</span><span class="ss">://</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">imageId</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">commits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">credentials</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">cert</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="err">~</span><span class="o">/</span><span class="n">auth</span><span class="w">  </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">true</span><span class="w"> </span><span class="o">--</span><span class="n">creds</span><span class="o">=</span><span class="n">username</span><span class="ss">:password</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">docker</span><span class="ss">://</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">imageId</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">commits</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">local</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">credentials</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">auths</span><span class="o">/</span><span class="n">myauths</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">certificates</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">authentication</span><span class="o">.</span><span class="w">
    </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">authfile</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">auths</span><span class="o">/</span><span class="n">myauths</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="o">--</span><span class="n">cert</span><span class="o">-</span><span class="n">dir</span><span class="w"> </span><span class="err">~</span><span class="o">/</span><span class="n">auth</span><span class="w">  </span><span class="o">--</span><span class="n">tls</span><span class="o">-</span><span class="n">verify</span><span class="o">=</span><span class="no">true</span><span class="w"> </span><span class="o">--</span><span class="n">creds</span><span class="o">=</span><span class="n">username</span><span class="ss">:password</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">docker</span><span class="ss">://</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">imageName</span><span class="w">

   </span><span class="nc">This</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="n">saves</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">container</span><span class="p">,</span><span class="w"> </span><span class="n">but</span><span class="w"> </span><span class="n">stores</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="n">based</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">time</span><span class="o">.</span><span class="w">  </span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">timestamp</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="n">containerID</span><span class="w"> </span><span class="n">newImageName</span></code></pre><p>   Building an multi-architecture image using the --manifest option (requires emulation software)</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="c1">#!/bin/sh</span><span class="w">
   </span><span class="n">build</span><span class="p" data-group-id="5487552055-1">(</span><span class="p" data-group-id="5487552055-1">)</span><span class="w"> </span><span class="p" data-group-id="5487552055-2">{</span><span class="w">
        </span><span class="n">ctr</span><span class="o">=</span><span class="err">$</span><span class="p" data-group-id="5487552055-3">(</span><span class="o">.</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">buildah</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="o">--</span><span class="n">arch</span><span class="w"> </span><span class="err">$</span><span class="mi">1</span><span class="w"> </span><span class="n">ubi8</span><span class="p" data-group-id="5487552055-3">)</span><span class="w">
        </span><span class="o">.</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">buildah</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="err">$</span><span class="n">ctr</span><span class="w"> </span><span class="n">dnf</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">iputils</span><span class="w">
        </span><span class="o">.</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">buildah</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="o">--</span><span class="n">manifest</span><span class="w"> </span><span class="n">ubi8ping</span><span class="w"> </span><span class="err">$</span><span class="n">ctr</span><span class="w">
   </span><span class="p" data-group-id="5487552055-2">}</span><span class="w">
   </span><span class="n">build</span><span class="w"> </span><span class="n">arm</span><span class="w">
   </span><span class="n">build</span><span class="w"> </span><span class="n">amd64</span><span class="w">
   </span><span class="n">build</span><span class="w"> </span><span class="n">s390x</span></code></pre><p>ENVIRONMENT</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="nc">BUILD_REGISTRY_SOURCES</span><span class="w">

   </span><span class="nc">BUILD_REGISTRY_SOURCES</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">set</span><span class="p">,</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">treated</span><span class="w"> </span><span class="n">as</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nc">JSON</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">contains</span><span class="w"> </span><span class="n">lists</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">keys</span><span class="w"> </span><span class="n">insecureRegistries</span><span class="p">,</span><span class="w"> </span><span class="n">blockedRegistries</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">allowedRegistries</span><span class="o">.</span><span class="w">

   </span><span class="nc">When</span><span class="w">  </span><span class="n">committing</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">portion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">compared</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">items</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">blockedRegistries</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">it</span><span class="w">
   </span><span class="n">matches</span><span class="w"> </span><span class="n">any</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">them</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">denied</span><span class="o">.</span><span class="w">  </span><span class="nc">If</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">allowedRegistries</span><span class="w"> </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">portion</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">corresponds</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="ow">not</span><span class="w">  </span><span class="ow">in</span><span class="w">  </span><span class="n">the</span><span class="w">
   </span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">commit</span><span class="w"> </span><span class="n">attempt</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">denied</span><span class="o">.</span><span class="w">

   </span><span class="nc">TMPDIR</span><span class="w"> </span><span class="nc">The</span><span class="w"> </span><span class="nc">TMPDIR</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">allows</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">user</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">where</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">stored</span><span class="w"> </span><span class="n">while</span><span class="w"> </span><span class="n">pulling</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">pushing</span><span class="w"> </span><span class="n">images</span><span class="o">.</span><span class="w">  </span><span class="nc">Defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="sc">&#39;/var/tmp&#39;</span><span class="o">.</span></code></pre><p>FILES</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="p" data-group-id="2255839779-1">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="2255839779-1">)</span><span class="w">

   </span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">specifies</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">consulted</span><span class="w"> </span><span class="ow">when</span><span class="w"> </span><span class="n">completing</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">names</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="k" data-group-id="2255839779-2">do</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">include</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">registry</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="n">domain</span><span class="w"> </span><span class="n">portion</span><span class="o">.</span><span class="w">

   </span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="w"> </span><span class="p" data-group-id="2255839779-3">(</span><span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">containers</span><span class="o">/</span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="2255839779-3">)</span><span class="w">

   </span><span class="nc">Signature</span><span class="w">  </span><span class="n">policy</span><span class="w">  </span><span class="n">file</span><span class="o">.</span><span class="w">   </span><span class="nc">This</span><span class="w"> </span><span class="n">defines</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">policy</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">images</span><span class="o">.</span><span class="w">  </span><span class="nc">Controls</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="n">container</span><span class="w"> </span><span class="n">registries</span><span class="w"> </span><span class="n">can</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">image</span><span class="p">,</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">whether</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">tool</span><span class="w"> </span><span class="n">should</span><span class="w"> </span><span class="n">trust</span><span class="w"> </span><span class="n">the</span><span class="w">
   </span><span class="n">images</span><span class="o">.</span></code></pre><p>SEE ALSO</p><pre><code class="makeup elixir" translate="no"><span class="w">   </span><span class="n">buildah</span><span class="p" data-group-id="9498349969-1">(</span><span class="mi">1</span><span class="p" data-group-id="9498349969-1">)</span><span class="p">,</span><span class="w"> </span><span class="n">buildah</span><span class="o">-</span><span class="n">images</span><span class="p" data-group-id="9498349969-2">(</span><span class="mi">1</span><span class="p" data-group-id="9498349969-2">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">policy</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="9498349969-3">(</span><span class="mi">5</span><span class="p" data-group-id="9498349969-3">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">registries</span><span class="o">.</span><span class="n">conf</span><span class="p" data-group-id="9498349969-4">(</span><span class="mi">5</span><span class="p" data-group-id="9498349969-4">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">transports</span><span class="p" data-group-id="9498349969-5">(</span><span class="mi">5</span><span class="p" data-group-id="9498349969-5">)</span><span class="p">,</span><span class="w"> </span><span class="n">containers</span><span class="o">-</span><span class="n">auth</span><span class="o">.</span><span class="n">json</span><span class="p" data-group-id="9498349969-6">(</span><span class="mi">5</span><span class="p" data-group-id="9498349969-6">)</span></code></pre><p>buildah                                                                                   March 2017                                                                         buildah-commit(1)</p>

</div>

<div class="bottom-actions" id="bottom-actions">
  <div class="bottom-actions-item">

      <a href="buildah-build.html" class="bottom-actions-button" rel="prev">
        <span class="subheader">
          ← Previous Page
        </span>
        <span class="title">
buildah-build
        </span>
      </a>

  </div>
  <div class="bottom-actions-item">

      <a href="buildah-config.html" class="bottom-actions-button" rel="next">
        <span class="subheader">
          Next Page →
        </span>
        <span class="title">
buildah-config
        </span>
      </a>

  </div>
</div>
    <footer class="footer">
      <p>

        <span class="line">
          <button class="a-main footer-button display-quick-switch" title="Search HexDocs packages">
            Search HexDocs
          </button>

        </span>
      </p>

      <p class="built-using">
        Built using
        <a href="https://github.com/elixir-lang/ex_doc" title="ExDoc" target="_blank" rel="help noopener" translate="no">ExDoc</a> (v0.38.2) for the

          <a href="https://elixir-lang.org" title="Elixir" target="_blank" translate="no">Elixir programming language</a>

      </p>

    </footer>
  </div>
</main>
</div>

  </body>
</html>
